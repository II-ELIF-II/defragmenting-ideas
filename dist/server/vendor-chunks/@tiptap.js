"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tiptap";
exports.ids = ["vendor-chunks/@tiptap"];
exports.modules = {

/***/ "(ssr)/./node_modules/@tiptap/core/dist/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@tiptap/core/dist/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommandManager: () => (/* binding */ CommandManager),\n/* harmony export */   Editor: () => (/* binding */ Editor),\n/* harmony export */   Extension: () => (/* binding */ Extension),\n/* harmony export */   InputRule: () => (/* binding */ InputRule),\n/* harmony export */   Mark: () => (/* binding */ Mark),\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   NodeView: () => (/* binding */ NodeView),\n/* harmony export */   PasteRule: () => (/* binding */ PasteRule),\n/* harmony export */   Tracker: () => (/* binding */ Tracker),\n/* harmony export */   callOrReturn: () => (/* binding */ callOrReturn),\n/* harmony export */   combineTransactionSteps: () => (/* binding */ combineTransactionSteps),\n/* harmony export */   createChainableState: () => (/* binding */ createChainableState),\n/* harmony export */   createDocument: () => (/* binding */ createDocument),\n/* harmony export */   createNodeFromContent: () => (/* binding */ createNodeFromContent),\n/* harmony export */   createStyleTag: () => (/* binding */ createStyleTag),\n/* harmony export */   defaultBlockAt: () => (/* binding */ defaultBlockAt),\n/* harmony export */   deleteProps: () => (/* binding */ deleteProps),\n/* harmony export */   elementFromString: () => (/* binding */ elementFromString),\n/* harmony export */   escapeForRegEx: () => (/* binding */ escapeForRegEx),\n/* harmony export */   extensions: () => (/* binding */ extensions),\n/* harmony export */   findChildren: () => (/* binding */ findChildren),\n/* harmony export */   findChildrenInRange: () => (/* binding */ findChildrenInRange),\n/* harmony export */   findDuplicates: () => (/* binding */ findDuplicates),\n/* harmony export */   findParentNode: () => (/* binding */ findParentNode),\n/* harmony export */   findParentNodeClosestToPos: () => (/* binding */ findParentNodeClosestToPos),\n/* harmony export */   fromString: () => (/* binding */ fromString),\n/* harmony export */   generateHTML: () => (/* binding */ generateHTML),\n/* harmony export */   generateJSON: () => (/* binding */ generateJSON),\n/* harmony export */   generateText: () => (/* binding */ generateText),\n/* harmony export */   getAttributes: () => (/* binding */ getAttributes),\n/* harmony export */   getAttributesFromExtensions: () => (/* binding */ getAttributesFromExtensions),\n/* harmony export */   getChangedRanges: () => (/* binding */ getChangedRanges),\n/* harmony export */   getDebugJSON: () => (/* binding */ getDebugJSON),\n/* harmony export */   getExtensionField: () => (/* binding */ getExtensionField),\n/* harmony export */   getHTMLFromFragment: () => (/* binding */ getHTMLFromFragment),\n/* harmony export */   getMarkAttributes: () => (/* binding */ getMarkAttributes),\n/* harmony export */   getMarkRange: () => (/* binding */ getMarkRange),\n/* harmony export */   getMarkType: () => (/* binding */ getMarkType),\n/* harmony export */   getMarksBetween: () => (/* binding */ getMarksBetween),\n/* harmony export */   getNodeAtPosition: () => (/* binding */ getNodeAtPosition),\n/* harmony export */   getNodeAttributes: () => (/* binding */ getNodeAttributes),\n/* harmony export */   getNodeType: () => (/* binding */ getNodeType),\n/* harmony export */   getRenderedAttributes: () => (/* binding */ getRenderedAttributes),\n/* harmony export */   getSchema: () => (/* binding */ getSchema),\n/* harmony export */   getSchemaByResolvedExtensions: () => (/* binding */ getSchemaByResolvedExtensions),\n/* harmony export */   getSchemaTypeByName: () => (/* binding */ getSchemaTypeByName),\n/* harmony export */   getSchemaTypeNameByName: () => (/* binding */ getSchemaTypeNameByName),\n/* harmony export */   getSplittedAttributes: () => (/* binding */ getSplittedAttributes),\n/* harmony export */   getText: () => (/* binding */ getText),\n/* harmony export */   getTextBetween: () => (/* binding */ getTextBetween),\n/* harmony export */   getTextContentFromNodes: () => (/* binding */ getTextContentFromNodes),\n/* harmony export */   getTextSerializersFromSchema: () => (/* binding */ getTextSerializersFromSchema),\n/* harmony export */   injectExtensionAttributesToParseRule: () => (/* binding */ injectExtensionAttributesToParseRule),\n/* harmony export */   inputRulesPlugin: () => (/* binding */ inputRulesPlugin),\n/* harmony export */   isActive: () => (/* binding */ isActive),\n/* harmony export */   isAtEndOfNode: () => (/* binding */ isAtEndOfNode),\n/* harmony export */   isAtStartOfNode: () => (/* binding */ isAtStartOfNode),\n/* harmony export */   isEmptyObject: () => (/* binding */ isEmptyObject),\n/* harmony export */   isExtensionRulesEnabled: () => (/* binding */ isExtensionRulesEnabled),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isList: () => (/* binding */ isList),\n/* harmony export */   isMacOS: () => (/* binding */ isMacOS),\n/* harmony export */   isMarkActive: () => (/* binding */ isMarkActive),\n/* harmony export */   isNodeActive: () => (/* binding */ isNodeActive),\n/* harmony export */   isNodeEmpty: () => (/* binding */ isNodeEmpty),\n/* harmony export */   isNodeSelection: () => (/* binding */ isNodeSelection),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject),\n/* harmony export */   isRegExp: () => (/* binding */ isRegExp),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isTextSelection: () => (/* binding */ isTextSelection),\n/* harmony export */   isiOS: () => (/* binding */ isiOS),\n/* harmony export */   markInputRule: () => (/* binding */ markInputRule),\n/* harmony export */   markPasteRule: () => (/* binding */ markPasteRule),\n/* harmony export */   mergeAttributes: () => (/* binding */ mergeAttributes),\n/* harmony export */   mergeDeep: () => (/* binding */ mergeDeep),\n/* harmony export */   minMax: () => (/* binding */ minMax),\n/* harmony export */   nodeInputRule: () => (/* binding */ nodeInputRule),\n/* harmony export */   nodePasteRule: () => (/* binding */ nodePasteRule),\n/* harmony export */   objectIncludes: () => (/* binding */ objectIncludes),\n/* harmony export */   pasteRulesPlugin: () => (/* binding */ pasteRulesPlugin),\n/* harmony export */   posToDOMRect: () => (/* binding */ posToDOMRect),\n/* harmony export */   removeDuplicates: () => (/* binding */ removeDuplicates),\n/* harmony export */   resolveFocusPosition: () => (/* binding */ resolveFocusPosition),\n/* harmony export */   selectionToInsertionEnd: () => (/* binding */ selectionToInsertionEnd),\n/* harmony export */   splitExtensions: () => (/* binding */ splitExtensions),\n/* harmony export */   textInputRule: () => (/* binding */ textInputRule),\n/* harmony export */   textPasteRule: () => (/* binding */ textPasteRule),\n/* harmony export */   textblockTypeInputRule: () => (/* binding */ textblockTypeInputRule),\n/* harmony export */   wrappingInputRule: () => (/* binding */ wrappingInputRule)\n/* harmony export */ });\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var _tiptap_pm_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/pm/view */ \"(ssr)/./node_modules/@tiptap/pm/view/dist/index.js\");\n/* harmony import */ var _tiptap_pm_keymap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/pm/keymap */ \"(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js\");\n/* harmony import */ var _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/pm/model */ \"(ssr)/./node_modules/@tiptap/pm/model/dist/index.js\");\n/* harmony import */ var _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/pm/transform */ \"(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js\");\n/* harmony import */ var _tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/pm/commands */ \"(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js\");\n/* harmony import */ var _tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/pm/schema-list */ \"(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js\");\n\n\n\n\n\n\n\nfunction createChainableState(config) {\n    const { state, transaction } = config;\n    let { selection } = transaction;\n    let { doc } = transaction;\n    let { storedMarks } = transaction;\n    return {\n        ...state,\n        apply: state.apply.bind(state),\n        applyTransaction: state.applyTransaction.bind(state),\n        filterTransaction: state.filterTransaction,\n        plugins: state.plugins,\n        schema: state.schema,\n        reconfigure: state.reconfigure.bind(state),\n        toJSON: state.toJSON.bind(state),\n        get storedMarks () {\n            return storedMarks;\n        },\n        get selection () {\n            return selection;\n        },\n        get doc () {\n            return doc;\n        },\n        get tr () {\n            selection = transaction.selection;\n            doc = transaction.doc;\n            storedMarks = transaction.storedMarks;\n            return transaction;\n        }\n    };\n}\nclass CommandManager {\n    constructor(props){\n        this.editor = props.editor;\n        this.rawCommands = this.editor.extensionManager.commands;\n        this.customState = props.state;\n    }\n    get hasCustomState() {\n        return !!this.customState;\n    }\n    get state() {\n        return this.customState || this.editor.state;\n    }\n    get commands() {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const { tr } = state;\n        const props = this.buildProps(tr);\n        return Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n            const method = (...args)=>{\n                const callback = command(...args)(props);\n                if (!tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n                    view.dispatch(tr);\n                }\n                return callback;\n            };\n            return [\n                name,\n                method\n            ];\n        }));\n    }\n    get chain() {\n        return ()=>this.createChain();\n    }\n    get can() {\n        return ()=>this.createCan();\n    }\n    createChain(startTr, shouldDispatch = true) {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const callbacks = [];\n        const hasStartTransaction = !!startTr;\n        const tr = startTr || state.tr;\n        const run = ()=>{\n            if (!hasStartTransaction && shouldDispatch && !tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n                view.dispatch(tr);\n            }\n            return callbacks.every((callback)=>callback === true);\n        };\n        const chain = {\n            ...Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n                const chainedCommand = (...args)=>{\n                    const props = this.buildProps(tr, shouldDispatch);\n                    const callback = command(...args)(props);\n                    callbacks.push(callback);\n                    return chain;\n                };\n                return [\n                    name,\n                    chainedCommand\n                ];\n            })),\n            run\n        };\n        return chain;\n    }\n    createCan(startTr) {\n        const { rawCommands, state } = this;\n        const dispatch = false;\n        const tr = startTr || state.tr;\n        const props = this.buildProps(tr, dispatch);\n        const formattedCommands = Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n            return [\n                name,\n                (...args)=>command(...args)({\n                        ...props,\n                        dispatch: undefined\n                    })\n            ];\n        }));\n        return {\n            ...formattedCommands,\n            chain: ()=>this.createChain(tr, dispatch)\n        };\n    }\n    buildProps(tr, shouldDispatch = true) {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const props = {\n            tr,\n            editor,\n            view,\n            state: createChainableState({\n                state,\n                transaction: tr\n            }),\n            dispatch: shouldDispatch ? ()=>undefined : undefined,\n            chain: ()=>this.createChain(tr, shouldDispatch),\n            can: ()=>this.createCan(tr),\n            get commands () {\n                return Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n                    return [\n                        name,\n                        (...args)=>command(...args)(props)\n                    ];\n                }));\n            }\n        };\n        return props;\n    }\n}\nclass EventEmitter {\n    constructor(){\n        this.callbacks = {};\n    }\n    on(event, fn) {\n        if (!this.callbacks[event]) {\n            this.callbacks[event] = [];\n        }\n        this.callbacks[event].push(fn);\n        return this;\n    }\n    emit(event, ...args) {\n        const callbacks = this.callbacks[event];\n        if (callbacks) {\n            callbacks.forEach((callback)=>callback.apply(this, args));\n        }\n        return this;\n    }\n    off(event, fn) {\n        const callbacks = this.callbacks[event];\n        if (callbacks) {\n            if (fn) {\n                this.callbacks[event] = callbacks.filter((callback)=>callback !== fn);\n            } else {\n                delete this.callbacks[event];\n            }\n        }\n        return this;\n    }\n    removeAllListeners() {\n        this.callbacks = {};\n    }\n}\nfunction getExtensionField(extension, field, context) {\n    if (extension.config[field] === undefined && extension.parent) {\n        return getExtensionField(extension.parent, field, context);\n    }\n    if (typeof extension.config[field] === \"function\") {\n        const value = extension.config[field].bind({\n            ...context,\n            parent: extension.parent ? getExtensionField(extension.parent, field, context) : null\n        });\n        return value;\n    }\n    return extension.config[field];\n}\nfunction splitExtensions(extensions) {\n    const baseExtensions = extensions.filter((extension)=>extension.type === \"extension\");\n    const nodeExtensions = extensions.filter((extension)=>extension.type === \"node\");\n    const markExtensions = extensions.filter((extension)=>extension.type === \"mark\");\n    return {\n        baseExtensions,\n        nodeExtensions,\n        markExtensions\n    };\n}\n/**\r\n * Get a list of all extension attributes defined in `addAttribute` and `addGlobalAttribute`.\r\n * @param extensions List of extensions\r\n */ function getAttributesFromExtensions(extensions) {\n    const extensionAttributes = [];\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n    const nodeAndMarkExtensions = [\n        ...nodeExtensions,\n        ...markExtensions\n    ];\n    const defaultAttribute = {\n        default: null,\n        rendered: true,\n        renderHTML: null,\n        parseHTML: null,\n        keepOnSplit: true,\n        isRequired: false\n    };\n    extensions.forEach((extension)=>{\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        const addGlobalAttributes = getExtensionField(extension, \"addGlobalAttributes\", context);\n        if (!addGlobalAttributes) {\n            return;\n        }\n        // TODO: remove `as GlobalAttributes`\n        const globalAttributes = addGlobalAttributes();\n        globalAttributes.forEach((globalAttribute)=>{\n            globalAttribute.types.forEach((type)=>{\n                Object.entries(globalAttribute.attributes).forEach(([name, attribute])=>{\n                    extensionAttributes.push({\n                        type,\n                        name,\n                        attribute: {\n                            ...defaultAttribute,\n                            ...attribute\n                        }\n                    });\n                });\n            });\n        });\n    });\n    nodeAndMarkExtensions.forEach((extension)=>{\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        const addAttributes = getExtensionField(extension, \"addAttributes\", context);\n        if (!addAttributes) {\n            return;\n        }\n        // TODO: remove `as Attributes`\n        const attributes = addAttributes();\n        Object.entries(attributes).forEach(([name, attribute])=>{\n            const mergedAttr = {\n                ...defaultAttribute,\n                ...attribute\n            };\n            if (typeof (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === \"function\") {\n                mergedAttr.default = mergedAttr.default();\n            }\n            if ((mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.isRequired) && (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === undefined) {\n                delete mergedAttr.default;\n            }\n            extensionAttributes.push({\n                type: extension.name,\n                name,\n                attribute: mergedAttr\n            });\n        });\n    });\n    return extensionAttributes;\n}\nfunction getNodeType(nameOrType, schema) {\n    if (typeof nameOrType === \"string\") {\n        if (!schema.nodes[nameOrType]) {\n            throw Error(`There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n        }\n        return schema.nodes[nameOrType];\n    }\n    return nameOrType;\n}\nfunction mergeAttributes(...objects) {\n    return objects.filter((item)=>!!item).reduce((items, item)=>{\n        const mergedAttributes = {\n            ...items\n        };\n        Object.entries(item).forEach(([key, value])=>{\n            const exists = mergedAttributes[key];\n            if (!exists) {\n                mergedAttributes[key] = value;\n                return;\n            }\n            if (key === \"class\") {\n                const valueClasses = value ? value.split(\" \") : [];\n                const existingClasses = mergedAttributes[key] ? mergedAttributes[key].split(\" \") : [];\n                const insertClasses = valueClasses.filter((valueClass)=>!existingClasses.includes(valueClass));\n                mergedAttributes[key] = [\n                    ...existingClasses,\n                    ...insertClasses\n                ].join(\" \");\n            } else if (key === \"style\") {\n                mergedAttributes[key] = [\n                    mergedAttributes[key],\n                    value\n                ].join(\"; \");\n            } else {\n                mergedAttributes[key] = value;\n            }\n        });\n        return mergedAttributes;\n    }, {});\n}\nfunction getRenderedAttributes(nodeOrMark, extensionAttributes) {\n    return extensionAttributes.filter((item)=>item.attribute.rendered).map((item)=>{\n        if (!item.attribute.renderHTML) {\n            return {\n                [item.name]: nodeOrMark.attrs[item.name]\n            };\n        }\n        return item.attribute.renderHTML(nodeOrMark.attrs) || {};\n    }).reduce((attributes, attribute)=>mergeAttributes(attributes, attribute), {});\n}\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\n/**\r\n * Optionally calls `value` as a function.\r\n * Otherwise it is returned directly.\r\n * @param value Function or any value.\r\n * @param context Optional context to bind to function.\r\n * @param props Optional props to pass to function.\r\n */ function callOrReturn(value, context = undefined, ...props) {\n    if (isFunction(value)) {\n        if (context) {\n            return value.bind(context)(...props);\n        }\n        return value(...props);\n    }\n    return value;\n}\nfunction isEmptyObject(value = {}) {\n    return Object.keys(value).length === 0 && value.constructor === Object;\n}\nfunction fromString(value) {\n    if (typeof value !== \"string\") {\n        return value;\n    }\n    if (value.match(/^[+-]?(?:\\d*\\.)?\\d+$/)) {\n        return Number(value);\n    }\n    if (value === \"true\") {\n        return true;\n    }\n    if (value === \"false\") {\n        return false;\n    }\n    return value;\n}\n/**\r\n * This function merges extension attributes into parserule attributes (`attrs` or `getAttrs`).\r\n * Cancels when `getAttrs` returned `false`.\r\n * @param parseRule ProseMirror ParseRule\r\n * @param extensionAttributes List of attributes to inject\r\n */ function injectExtensionAttributesToParseRule(parseRule, extensionAttributes) {\n    if (parseRule.style) {\n        return parseRule;\n    }\n    return {\n        ...parseRule,\n        getAttrs: (node)=>{\n            const oldAttributes = parseRule.getAttrs ? parseRule.getAttrs(node) : parseRule.attrs;\n            if (oldAttributes === false) {\n                return false;\n            }\n            const newAttributes = extensionAttributes.reduce((items, item)=>{\n                const value = item.attribute.parseHTML ? item.attribute.parseHTML(node) : fromString(node.getAttribute(item.name));\n                if (value === null || value === undefined) {\n                    return items;\n                }\n                return {\n                    ...items,\n                    [item.name]: value\n                };\n            }, {});\n            return {\n                ...oldAttributes,\n                ...newAttributes\n            };\n        }\n    };\n}\nfunction cleanUpSchemaItem(data) {\n    return Object.fromEntries(// @ts-ignore\n    Object.entries(data).filter(([key, value])=>{\n        if (key === \"attrs\" && isEmptyObject(value)) {\n            return false;\n        }\n        return value !== null && value !== undefined;\n    }));\n}\nfunction getSchemaByResolvedExtensions(extensions, editor) {\n    var _a;\n    const allAttributes = getAttributesFromExtensions(extensions);\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n    const topNode = (_a = nodeExtensions.find((extension)=>getExtensionField(extension, \"topNode\"))) === null || _a === void 0 ? void 0 : _a.name;\n    const nodes = Object.fromEntries(nodeExtensions.map((extension)=>{\n        const extensionAttributes = allAttributes.filter((attribute)=>attribute.type === extension.name);\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n            editor\n        };\n        const extraNodeFields = extensions.reduce((fields, e)=>{\n            const extendNodeSchema = getExtensionField(e, \"extendNodeSchema\", context);\n            return {\n                ...fields,\n                ...extendNodeSchema ? extendNodeSchema(extension) : {}\n            };\n        }, {});\n        const schema = cleanUpSchemaItem({\n            ...extraNodeFields,\n            content: callOrReturn(getExtensionField(extension, \"content\", context)),\n            marks: callOrReturn(getExtensionField(extension, \"marks\", context)),\n            group: callOrReturn(getExtensionField(extension, \"group\", context)),\n            inline: callOrReturn(getExtensionField(extension, \"inline\", context)),\n            atom: callOrReturn(getExtensionField(extension, \"atom\", context)),\n            selectable: callOrReturn(getExtensionField(extension, \"selectable\", context)),\n            draggable: callOrReturn(getExtensionField(extension, \"draggable\", context)),\n            code: callOrReturn(getExtensionField(extension, \"code\", context)),\n            defining: callOrReturn(getExtensionField(extension, \"defining\", context)),\n            isolating: callOrReturn(getExtensionField(extension, \"isolating\", context)),\n            attrs: Object.fromEntries(extensionAttributes.map((extensionAttribute)=>{\n                var _a;\n                return [\n                    extensionAttribute.name,\n                    {\n                        default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default\n                    }\n                ];\n            }))\n        });\n        const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n        if (parseHTML) {\n            schema.parseDOM = parseHTML.map((parseRule)=>injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\n        }\n        const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n        if (renderHTML) {\n            schema.toDOM = (node)=>renderHTML({\n                    node,\n                    HTMLAttributes: getRenderedAttributes(node, extensionAttributes)\n                });\n        }\n        const renderText = getExtensionField(extension, \"renderText\", context);\n        if (renderText) {\n            schema.toText = renderText;\n        }\n        return [\n            extension.name,\n            schema\n        ];\n    }));\n    const marks = Object.fromEntries(markExtensions.map((extension)=>{\n        const extensionAttributes = allAttributes.filter((attribute)=>attribute.type === extension.name);\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n            editor\n        };\n        const extraMarkFields = extensions.reduce((fields, e)=>{\n            const extendMarkSchema = getExtensionField(e, \"extendMarkSchema\", context);\n            return {\n                ...fields,\n                ...extendMarkSchema ? extendMarkSchema(extension) : {}\n            };\n        }, {});\n        const schema = cleanUpSchemaItem({\n            ...extraMarkFields,\n            inclusive: callOrReturn(getExtensionField(extension, \"inclusive\", context)),\n            excludes: callOrReturn(getExtensionField(extension, \"excludes\", context)),\n            group: callOrReturn(getExtensionField(extension, \"group\", context)),\n            spanning: callOrReturn(getExtensionField(extension, \"spanning\", context)),\n            code: callOrReturn(getExtensionField(extension, \"code\", context)),\n            attrs: Object.fromEntries(extensionAttributes.map((extensionAttribute)=>{\n                var _a;\n                return [\n                    extensionAttribute.name,\n                    {\n                        default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default\n                    }\n                ];\n            }))\n        });\n        const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n        if (parseHTML) {\n            schema.parseDOM = parseHTML.map((parseRule)=>injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\n        }\n        const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n        if (renderHTML) {\n            schema.toDOM = (mark)=>renderHTML({\n                    mark,\n                    HTMLAttributes: getRenderedAttributes(mark, extensionAttributes)\n                });\n        }\n        return [\n            extension.name,\n            schema\n        ];\n    }));\n    return new _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Schema({\n        topNode,\n        nodes,\n        marks\n    });\n}\nfunction getSchemaTypeByName(name, schema) {\n    return schema.nodes[name] || schema.marks[name] || null;\n}\nfunction isExtensionRulesEnabled(extension, enabled) {\n    if (Array.isArray(enabled)) {\n        return enabled.some((enabledExtension)=>{\n            const name = typeof enabledExtension === \"string\" ? enabledExtension : enabledExtension.name;\n            return name === extension.name;\n        });\n    }\n    return enabled;\n}\nconst getTextContentFromNodes = ($from, maxMatch = 500)=>{\n    let textBefore = \"\";\n    const sliceEndPos = $from.parentOffset;\n    $from.parent.nodesBetween(Math.max(0, sliceEndPos - maxMatch), sliceEndPos, (node, pos, parent, index)=>{\n        var _a, _b;\n        const chunk = ((_b = (_a = node.type.spec).toText) === null || _b === void 0 ? void 0 : _b.call(_a, {\n            node,\n            pos,\n            parent,\n            index\n        })) || node.textContent || \"%leaf%\";\n        textBefore += chunk.slice(0, Math.max(0, sliceEndPos - pos));\n    });\n    return textBefore;\n};\nfunction isRegExp(value) {\n    return Object.prototype.toString.call(value) === \"[object RegExp]\";\n}\nclass InputRule {\n    constructor(config){\n        this.find = config.find;\n        this.handler = config.handler;\n    }\n}\nconst inputRuleMatcherHandler = (text, find)=>{\n    if (isRegExp(find)) {\n        return find.exec(text);\n    }\n    const inputRuleMatch = find(text);\n    if (!inputRuleMatch) {\n        return null;\n    }\n    const result = [\n        inputRuleMatch.text\n    ];\n    result.index = inputRuleMatch.index;\n    result.input = text;\n    result.data = inputRuleMatch.data;\n    if (inputRuleMatch.replaceWith) {\n        if (!inputRuleMatch.text.includes(inputRuleMatch.replaceWith)) {\n            console.warn('[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".');\n        }\n        result.push(inputRuleMatch.replaceWith);\n    }\n    return result;\n};\nfunction run$1(config) {\n    var _a;\n    const { editor, from, to, text, rules, plugin } = config;\n    const { view } = editor;\n    if (view.composing) {\n        return false;\n    }\n    const $from = view.state.doc.resolve(from);\n    if (// check for code node\n    $from.parent.type.spec.code || !!((_a = $from.nodeBefore || $from.nodeAfter) === null || _a === void 0 ? void 0 : _a.marks.find((mark)=>mark.type.spec.code))) {\n        return false;\n    }\n    let matched = false;\n    const textBefore = getTextContentFromNodes($from) + text;\n    rules.forEach((rule)=>{\n        if (matched) {\n            return;\n        }\n        const match = inputRuleMatcherHandler(textBefore, rule.find);\n        if (!match) {\n            return;\n        }\n        const tr = view.state.tr;\n        const state = createChainableState({\n            state: view.state,\n            transaction: tr\n        });\n        const range = {\n            from: from - (match[0].length - text.length),\n            to\n        };\n        const { commands, chain, can } = new CommandManager({\n            editor,\n            state\n        });\n        const handler = rule.handler({\n            state,\n            range,\n            match,\n            commands,\n            chain,\n            can\n        });\n        // stop if there are no changes\n        if (handler === null || !tr.steps.length) {\n            return;\n        }\n        // store transform as meta data\n        // so we can undo input rules within the `undoInputRules` command\n        tr.setMeta(plugin, {\n            transform: tr,\n            from,\n            to,\n            text\n        });\n        view.dispatch(tr);\n        matched = true;\n    });\n    return matched;\n}\n/**\r\n * Create an input rules plugin. When enabled, it will cause text\r\n * input that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */ function inputRulesPlugin(props) {\n    const { editor, rules } = props;\n    const plugin = new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        state: {\n            init () {\n                return null;\n            },\n            apply (tr, prev) {\n                const stored = tr.getMeta(plugin);\n                if (stored) {\n                    return stored;\n                }\n                return tr.selectionSet || tr.docChanged ? null : prev;\n            }\n        },\n        props: {\n            handleTextInput (view, from, to, text) {\n                return run$1({\n                    editor,\n                    from,\n                    to,\n                    text,\n                    rules,\n                    plugin\n                });\n            },\n            handleDOMEvents: {\n                compositionend: (view)=>{\n                    setTimeout(()=>{\n                        const { $cursor } = view.state.selection;\n                        if ($cursor) {\n                            run$1({\n                                editor,\n                                from: $cursor.pos,\n                                to: $cursor.pos,\n                                text: \"\",\n                                rules,\n                                plugin\n                            });\n                        }\n                    });\n                    return false;\n                }\n            },\n            // add support for input rules to trigger on enter\n            // this is useful for example for code blocks\n            handleKeyDown (view, event) {\n                if (event.key !== \"Enter\") {\n                    return false;\n                }\n                const { $cursor } = view.state.selection;\n                if ($cursor) {\n                    return run$1({\n                        editor,\n                        from: $cursor.pos,\n                        to: $cursor.pos,\n                        text: \"\\n\",\n                        rules,\n                        plugin\n                    });\n                }\n                return false;\n            }\n        },\n        // @ts-ignore\n        isInputRules: true\n    });\n    return plugin;\n}\nfunction isNumber(value) {\n    return typeof value === \"number\";\n}\nclass PasteRule {\n    constructor(config){\n        this.find = config.find;\n        this.handler = config.handler;\n    }\n}\nconst pasteRuleMatcherHandler = (text, find)=>{\n    if (isRegExp(find)) {\n        return [\n            ...text.matchAll(find)\n        ];\n    }\n    const matches = find(text);\n    if (!matches) {\n        return [];\n    }\n    return matches.map((pasteRuleMatch)=>{\n        const result = [\n            pasteRuleMatch.text\n        ];\n        result.index = pasteRuleMatch.index;\n        result.input = text;\n        result.data = pasteRuleMatch.data;\n        if (pasteRuleMatch.replaceWith) {\n            if (!pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)) {\n                console.warn('[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".');\n            }\n            result.push(pasteRuleMatch.replaceWith);\n        }\n        return result;\n    });\n};\nfunction run(config) {\n    const { editor, state, from, to, rule, pasteEvent, dropEvent } = config;\n    const { commands, chain, can } = new CommandManager({\n        editor,\n        state\n    });\n    const handlers = [];\n    state.doc.nodesBetween(from, to, (node, pos)=>{\n        if (!node.isTextblock || node.type.spec.code) {\n            return;\n        }\n        const resolvedFrom = Math.max(from, pos);\n        const resolvedTo = Math.min(to, pos + node.content.size);\n        const textToMatch = node.textBetween(resolvedFrom - pos, resolvedTo - pos, undefined, \"￼\");\n        const matches = pasteRuleMatcherHandler(textToMatch, rule.find);\n        matches.forEach((match)=>{\n            if (match.index === undefined) {\n                return;\n            }\n            const start = resolvedFrom + match.index + 1;\n            const end = start + match[0].length;\n            const range = {\n                from: state.tr.mapping.map(start),\n                to: state.tr.mapping.map(end)\n            };\n            const handler = rule.handler({\n                state,\n                range,\n                match,\n                commands,\n                chain,\n                can,\n                pasteEvent,\n                dropEvent\n            });\n            handlers.push(handler);\n        });\n    });\n    const success = handlers.every((handler)=>handler !== null);\n    return success;\n}\n/**\r\n * Create an paste rules plugin. When enabled, it will cause pasted\r\n * text that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */ function pasteRulesPlugin(props) {\n    const { editor, rules } = props;\n    let dragSourceElement = null;\n    let isPastedFromProseMirror = false;\n    let isDroppedFromProseMirror = false;\n    let pasteEvent = new ClipboardEvent(\"paste\");\n    let dropEvent = new DragEvent(\"drop\");\n    const plugins = rules.map((rule)=>{\n        return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n            // we register a global drag handler to track the current drag source element\n            view (view) {\n                const handleDragstart = (event)=>{\n                    var _a;\n                    dragSourceElement = ((_a = view.dom.parentElement) === null || _a === void 0 ? void 0 : _a.contains(event.target)) ? view.dom.parentElement : null;\n                };\n                window.addEventListener(\"dragstart\", handleDragstart);\n                return {\n                    destroy () {\n                        window.removeEventListener(\"dragstart\", handleDragstart);\n                    }\n                };\n            },\n            props: {\n                handleDOMEvents: {\n                    drop: (view, event)=>{\n                        isDroppedFromProseMirror = dragSourceElement === view.dom.parentElement;\n                        dropEvent = event;\n                        return false;\n                    },\n                    paste: (_view, event)=>{\n                        var _a;\n                        const html = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData(\"text/html\");\n                        pasteEvent = event;\n                        isPastedFromProseMirror = !!(html === null || html === void 0 ? void 0 : html.includes(\"data-pm-slice\"));\n                        return false;\n                    }\n                }\n            },\n            appendTransaction: (transactions, oldState, state)=>{\n                const transaction = transactions[0];\n                const isPaste = transaction.getMeta(\"uiEvent\") === \"paste\" && !isPastedFromProseMirror;\n                const isDrop = transaction.getMeta(\"uiEvent\") === \"drop\" && !isDroppedFromProseMirror;\n                if (!isPaste && !isDrop) {\n                    return;\n                }\n                // stop if there is no changed range\n                const from = oldState.doc.content.findDiffStart(state.doc.content);\n                const to = oldState.doc.content.findDiffEnd(state.doc.content);\n                if (!isNumber(from) || !to || from === to.b) {\n                    return;\n                }\n                // build a chainable state\n                // so we can use a single transaction for all paste rules\n                const tr = state.tr;\n                const chainableState = createChainableState({\n                    state,\n                    transaction: tr\n                });\n                const handler = run({\n                    editor,\n                    state: chainableState,\n                    from: Math.max(from - 1, 0),\n                    to: to.b - 1,\n                    rule,\n                    pasteEvent,\n                    dropEvent\n                });\n                // stop if there are no changes\n                if (!handler || !tr.steps.length) {\n                    return;\n                }\n                dropEvent = new DragEvent(\"drop\");\n                pasteEvent = new ClipboardEvent(\"paste\");\n                return tr;\n            }\n        });\n    });\n    return plugins;\n}\nfunction findDuplicates(items) {\n    const filtered = items.filter((el, index)=>items.indexOf(el) !== index);\n    return [\n        ...new Set(filtered)\n    ];\n}\nclass ExtensionManager {\n    constructor(extensions, editor){\n        this.splittableMarks = [];\n        this.editor = editor;\n        this.extensions = ExtensionManager.resolve(extensions);\n        this.schema = getSchemaByResolvedExtensions(this.extensions, editor);\n        this.extensions.forEach((extension)=>{\n            var _a;\n            // store extension storage in editor\n            this.editor.extensionStorage[extension.name] = extension.storage;\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor: this.editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            if (extension.type === \"mark\") {\n                const keepOnSplit = (_a = callOrReturn(getExtensionField(extension, \"keepOnSplit\", context))) !== null && _a !== void 0 ? _a : true;\n                if (keepOnSplit) {\n                    this.splittableMarks.push(extension.name);\n                }\n            }\n            const onBeforeCreate = getExtensionField(extension, \"onBeforeCreate\", context);\n            if (onBeforeCreate) {\n                this.editor.on(\"beforeCreate\", onBeforeCreate);\n            }\n            const onCreate = getExtensionField(extension, \"onCreate\", context);\n            if (onCreate) {\n                this.editor.on(\"create\", onCreate);\n            }\n            const onUpdate = getExtensionField(extension, \"onUpdate\", context);\n            if (onUpdate) {\n                this.editor.on(\"update\", onUpdate);\n            }\n            const onSelectionUpdate = getExtensionField(extension, \"onSelectionUpdate\", context);\n            if (onSelectionUpdate) {\n                this.editor.on(\"selectionUpdate\", onSelectionUpdate);\n            }\n            const onTransaction = getExtensionField(extension, \"onTransaction\", context);\n            if (onTransaction) {\n                this.editor.on(\"transaction\", onTransaction);\n            }\n            const onFocus = getExtensionField(extension, \"onFocus\", context);\n            if (onFocus) {\n                this.editor.on(\"focus\", onFocus);\n            }\n            const onBlur = getExtensionField(extension, \"onBlur\", context);\n            if (onBlur) {\n                this.editor.on(\"blur\", onBlur);\n            }\n            const onDestroy = getExtensionField(extension, \"onDestroy\", context);\n            if (onDestroy) {\n                this.editor.on(\"destroy\", onDestroy);\n            }\n        });\n    }\n    static resolve(extensions) {\n        const resolvedExtensions = ExtensionManager.sort(ExtensionManager.flatten(extensions));\n        const duplicatedNames = findDuplicates(resolvedExtensions.map((extension)=>extension.name));\n        if (duplicatedNames.length) {\n            console.warn(`[tiptap warn]: Duplicate extension names found: [${duplicatedNames.map((item)=>`'${item}'`).join(\", \")}]. This can lead to issues.`);\n        }\n        return resolvedExtensions;\n    }\n    static flatten(extensions) {\n        return extensions.map((extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage\n            };\n            const addExtensions = getExtensionField(extension, \"addExtensions\", context);\n            if (addExtensions) {\n                return [\n                    extension,\n                    ...this.flatten(addExtensions())\n                ];\n            }\n            return extension;\n        })// `Infinity` will break TypeScript so we set a number that is probably high enough\n        .flat(10);\n    }\n    static sort(extensions) {\n        const defaultPriority = 100;\n        return extensions.sort((a, b)=>{\n            const priorityA = getExtensionField(a, \"priority\") || defaultPriority;\n            const priorityB = getExtensionField(b, \"priority\") || defaultPriority;\n            if (priorityA > priorityB) {\n                return -1;\n            }\n            if (priorityA < priorityB) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n    get commands() {\n        return this.extensions.reduce((commands, extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor: this.editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            const addCommands = getExtensionField(extension, \"addCommands\", context);\n            if (!addCommands) {\n                return commands;\n            }\n            return {\n                ...commands,\n                ...addCommands()\n            };\n        }, {});\n    }\n    get plugins() {\n        const { editor } = this;\n        // With ProseMirror, first plugins within an array are executed first.\n        // In Tiptap, we provide the ability to override plugins,\n        // so it feels more natural to run plugins at the end of an array first.\n        // That’s why we have to reverse the `extensions` array and sort again\n        // based on the `priority` option.\n        const extensions = ExtensionManager.sort([\n            ...this.extensions\n        ].reverse());\n        const inputRules = [];\n        const pasteRules = [];\n        const allPlugins = extensions.map((extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            const plugins = [];\n            const addKeyboardShortcuts = getExtensionField(extension, \"addKeyboardShortcuts\", context);\n            let defaultBindings = {};\n            // bind exit handling\n            if (extension.type === \"mark\" && extension.config.exitable) {\n                defaultBindings.ArrowRight = ()=>Mark.handleExit({\n                        editor,\n                        mark: extension\n                    });\n            }\n            if (addKeyboardShortcuts) {\n                const bindings = Object.fromEntries(Object.entries(addKeyboardShortcuts()).map(([shortcut, method])=>{\n                    return [\n                        shortcut,\n                        ()=>method({\n                                editor\n                            })\n                    ];\n                }));\n                defaultBindings = {\n                    ...defaultBindings,\n                    ...bindings\n                };\n            }\n            const keyMapPlugin = (0,_tiptap_pm_keymap__WEBPACK_IMPORTED_MODULE_2__.keymap)(defaultBindings);\n            plugins.push(keyMapPlugin);\n            const addInputRules = getExtensionField(extension, \"addInputRules\", context);\n            if (isExtensionRulesEnabled(extension, editor.options.enableInputRules) && addInputRules) {\n                inputRules.push(...addInputRules());\n            }\n            const addPasteRules = getExtensionField(extension, \"addPasteRules\", context);\n            if (isExtensionRulesEnabled(extension, editor.options.enablePasteRules) && addPasteRules) {\n                pasteRules.push(...addPasteRules());\n            }\n            const addProseMirrorPlugins = getExtensionField(extension, \"addProseMirrorPlugins\", context);\n            if (addProseMirrorPlugins) {\n                const proseMirrorPlugins = addProseMirrorPlugins();\n                plugins.push(...proseMirrorPlugins);\n            }\n            return plugins;\n        }).flat();\n        return [\n            inputRulesPlugin({\n                editor,\n                rules: inputRules\n            }),\n            ...pasteRulesPlugin({\n                editor,\n                rules: pasteRules\n            }),\n            ...allPlugins\n        ];\n    }\n    get attributes() {\n        return getAttributesFromExtensions(this.extensions);\n    }\n    get nodeViews() {\n        const { editor } = this;\n        const { nodeExtensions } = splitExtensions(this.extensions);\n        return Object.fromEntries(nodeExtensions.filter((extension)=>!!getExtensionField(extension, \"addNodeView\")).map((extension)=>{\n            const extensionAttributes = this.attributes.filter((attribute)=>attribute.type === extension.name);\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor,\n                type: getNodeType(extension.name, this.schema)\n            };\n            const addNodeView = getExtensionField(extension, \"addNodeView\", context);\n            if (!addNodeView) {\n                return [];\n            }\n            const nodeview = (node, view, getPos, decorations)=>{\n                const HTMLAttributes = getRenderedAttributes(node, extensionAttributes);\n                return addNodeView()({\n                    editor,\n                    node,\n                    getPos,\n                    decorations,\n                    HTMLAttributes,\n                    extension\n                });\n            };\n            return [\n                extension.name,\n                nodeview\n            ];\n        }));\n    }\n}\n// see: https://github.com/mesqueeb/is-what/blob/88d6e4ca92fb2baab6003c54e02eedf4e729e5ab/src/index.ts\nfunction getType(value) {\n    return Object.prototype.toString.call(value).slice(8, -1);\n}\nfunction isPlainObject(value) {\n    if (getType(value) !== \"Object\") {\n        return false;\n    }\n    return value.constructor === Object && Object.getPrototypeOf(value) === Object.prototype;\n}\nfunction mergeDeep(target, source) {\n    const output = {\n        ...target\n    };\n    if (isPlainObject(target) && isPlainObject(source)) {\n        Object.keys(source).forEach((key)=>{\n            if (isPlainObject(source[key])) {\n                if (!(key in target)) {\n                    Object.assign(output, {\n                        [key]: source[key]\n                    });\n                } else {\n                    output[key] = mergeDeep(target[key], source[key]);\n                }\n            } else {\n                Object.assign(output, {\n                    [key]: source[key]\n                });\n            }\n        });\n    }\n    return output;\n}\nclass Extension {\n    constructor(config = {}){\n        this.type = \"extension\";\n        this.name = \"extension\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Extension(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Extension(extendedConfig);\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n}\nfunction getTextBetween(startNode, range, options) {\n    const { from, to } = range;\n    const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n    let text = \"\";\n    let separated = true;\n    startNode.nodesBetween(from, to, (node, pos, parent, index)=>{\n        var _a;\n        const textSerializer = textSerializers === null || textSerializers === void 0 ? void 0 : textSerializers[node.type.name];\n        if (textSerializer) {\n            if (node.isBlock && !separated) {\n                text += blockSeparator;\n                separated = true;\n            }\n            if (parent) {\n                text += textSerializer({\n                    node,\n                    pos,\n                    parent,\n                    index,\n                    range\n                });\n            }\n        } else if (node.isText) {\n            text += (_a = node === null || node === void 0 ? void 0 : node.text) === null || _a === void 0 ? void 0 : _a.slice(Math.max(from, pos) - pos, to - pos); // eslint-disable-line\n            separated = false;\n        } else if (node.isBlock && !separated) {\n            text += blockSeparator;\n            separated = true;\n        }\n    });\n    return text;\n}\nfunction getTextSerializersFromSchema(schema) {\n    return Object.fromEntries(Object.entries(schema.nodes).filter(([, node])=>node.spec.toText).map(([name, node])=>[\n            name,\n            node.spec.toText\n        ]));\n}\nconst ClipboardTextSerializer = Extension.create({\n    name: \"clipboardTextSerializer\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"clipboardTextSerializer\"),\n                props: {\n                    clipboardTextSerializer: ()=>{\n                        const { editor } = this;\n                        const { state, schema } = editor;\n                        const { doc, selection } = state;\n                        const { ranges } = selection;\n                        const from = Math.min(...ranges.map((range)=>range.$from.pos));\n                        const to = Math.max(...ranges.map((range)=>range.$to.pos));\n                        const textSerializers = getTextSerializersFromSchema(schema);\n                        const range = {\n                            from,\n                            to\n                        };\n                        return getTextBetween(doc, range, {\n                            textSerializers\n                        });\n                    }\n                }\n            })\n        ];\n    }\n});\nconst blur = ()=>({ editor, view })=>{\n        requestAnimationFrame(()=>{\n            var _a;\n            if (!editor.isDestroyed) {\n                view.dom.blur();\n                // Browsers should remove the caret on blur but safari does not.\n                // See: https://github.com/ueberdosis/tiptap/issues/2405\n                (_a = window === null || window === void 0 ? void 0 : window.getSelection()) === null || _a === void 0 ? void 0 : _a.removeAllRanges();\n            }\n        });\n        return true;\n    };\nconst clearContent = (emitUpdate = false)=>({ commands })=>{\n        return commands.setContent(\"\", emitUpdate);\n    };\nconst clearNodes = ()=>({ state, tr, dispatch })=>{\n        const { selection } = tr;\n        const { ranges } = selection;\n        if (!dispatch) {\n            return true;\n        }\n        ranges.forEach(({ $from, $to })=>{\n            state.doc.nodesBetween($from.pos, $to.pos, (node, pos)=>{\n                if (node.type.isText) {\n                    return;\n                }\n                const { doc, mapping } = tr;\n                const $mappedFrom = doc.resolve(mapping.map(pos));\n                const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize));\n                const nodeRange = $mappedFrom.blockRange($mappedTo);\n                if (!nodeRange) {\n                    return;\n                }\n                const targetLiftDepth = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.liftTarget)(nodeRange);\n                if (node.type.isTextblock) {\n                    const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index());\n                    tr.setNodeMarkup(nodeRange.start, defaultType);\n                }\n                if (targetLiftDepth || targetLiftDepth === 0) {\n                    tr.lift(nodeRange, targetLiftDepth);\n                }\n            });\n        });\n        return true;\n    };\nconst command = (fn)=>(props)=>{\n        return fn(props);\n    };\nconst createParagraphNear = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.createParagraphNear)(state, dispatch);\n    };\nconst cut = (originRange, targetPos)=>({ editor, tr })=>{\n        const { state } = editor;\n        const contentSlice = state.doc.slice(originRange.from, originRange.to);\n        tr.deleteRange(originRange.from, originRange.to);\n        const newPos = tr.mapping.map(targetPos);\n        tr.insert(newPos, contentSlice.content);\n        tr.setSelection(new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection(tr.doc.resolve(newPos - 1)));\n        return true;\n    };\nconst deleteCurrentNode = ()=>({ tr, dispatch })=>{\n        const { selection } = tr;\n        const currentNode = selection.$anchor.node();\n        // if there is content inside the current node, break out of this command\n        if (currentNode.content.size > 0) {\n            return false;\n        }\n        const $pos = tr.selection.$anchor;\n        for(let depth = $pos.depth; depth > 0; depth -= 1){\n            const node = $pos.node(depth);\n            if (node.type === currentNode.type) {\n                if (dispatch) {\n                    const from = $pos.before(depth);\n                    const to = $pos.after(depth);\n                    tr.delete(from, to).scrollIntoView();\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst deleteNode = (typeOrName)=>({ tr, state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const $pos = tr.selection.$anchor;\n        for(let depth = $pos.depth; depth > 0; depth -= 1){\n            const node = $pos.node(depth);\n            if (node.type === type) {\n                if (dispatch) {\n                    const from = $pos.before(depth);\n                    const to = $pos.after(depth);\n                    tr.delete(from, to).scrollIntoView();\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst deleteRange = (range)=>({ tr, dispatch })=>{\n        const { from, to } = range;\n        if (dispatch) {\n            tr.delete(from, to);\n        }\n        return true;\n    };\nconst deleteSelection = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.deleteSelection)(state, dispatch);\n    };\nconst enter = ()=>({ commands })=>{\n        return commands.keyboardShortcut(\"Enter\");\n    };\nconst exitCode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.exitCode)(state, dispatch);\n    };\n/**\r\n * Check if object1 includes object2\r\n * @param object1 Object\r\n * @param object2 Object\r\n */ function objectIncludes(object1, object2, options = {\n    strict: true\n}) {\n    const keys = Object.keys(object2);\n    if (!keys.length) {\n        return true;\n    }\n    return keys.every((key)=>{\n        if (options.strict) {\n            return object2[key] === object1[key];\n        }\n        if (isRegExp(object2[key])) {\n            return object2[key].test(object1[key]);\n        }\n        return object2[key] === object1[key];\n    });\n}\nfunction findMarkInSet(marks, type, attributes = {}) {\n    return marks.find((item)=>{\n        return item.type === type && objectIncludes(item.attrs, attributes);\n    });\n}\nfunction isMarkInSet(marks, type, attributes = {}) {\n    return !!findMarkInSet(marks, type, attributes);\n}\nfunction getMarkRange($pos, type, attributes = {}) {\n    if (!$pos || !type) {\n        return;\n    }\n    let start = $pos.parent.childAfter($pos.parentOffset);\n    if ($pos.parentOffset === start.offset && start.offset !== 0) {\n        start = $pos.parent.childBefore($pos.parentOffset);\n    }\n    if (!start.node) {\n        return;\n    }\n    const mark = findMarkInSet([\n        ...start.node.marks\n    ], type, attributes);\n    if (!mark) {\n        return;\n    }\n    let startIndex = start.index;\n    let startPos = $pos.start() + start.offset;\n    let endIndex = startIndex + 1;\n    let endPos = startPos + start.node.nodeSize;\n    findMarkInSet([\n        ...start.node.marks\n    ], type, attributes);\n    while(startIndex > 0 && mark.isInSet($pos.parent.child(startIndex - 1).marks)){\n        startIndex -= 1;\n        startPos -= $pos.parent.child(startIndex).nodeSize;\n    }\n    while(endIndex < $pos.parent.childCount && isMarkInSet([\n        ...$pos.parent.child(endIndex).marks\n    ], type, attributes)){\n        endPos += $pos.parent.child(endIndex).nodeSize;\n        endIndex += 1;\n    }\n    return {\n        from: startPos,\n        to: endPos\n    };\n}\nfunction getMarkType(nameOrType, schema) {\n    if (typeof nameOrType === \"string\") {\n        if (!schema.marks[nameOrType]) {\n            throw Error(`There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n        }\n        return schema.marks[nameOrType];\n    }\n    return nameOrType;\n}\nconst extendMarkRange = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        const type = getMarkType(typeOrName, state.schema);\n        const { doc, selection } = tr;\n        const { $from, from, to } = selection;\n        if (dispatch) {\n            const range = getMarkRange($from, type, attributes);\n            if (range && range.from <= from && range.to >= to) {\n                const newSelection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, range.from, range.to);\n                tr.setSelection(newSelection);\n            }\n        }\n        return true;\n    };\nconst first = (commands)=>(props)=>{\n        const items = typeof commands === \"function\" ? commands(props) : commands;\n        for(let i = 0; i < items.length; i += 1){\n            if (items[i](props)) {\n                return true;\n            }\n        }\n        return false;\n    };\nfunction isTextSelection(value) {\n    return value instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection;\n}\nfunction minMax(value = 0, min = 0, max = 0) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction resolveFocusPosition(doc, position = null) {\n    if (!position) {\n        return null;\n    }\n    const selectionAtStart = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(doc);\n    const selectionAtEnd = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atEnd(doc);\n    if (position === \"start\" || position === true) {\n        return selectionAtStart;\n    }\n    if (position === \"end\") {\n        return selectionAtEnd;\n    }\n    const minPos = selectionAtStart.from;\n    const maxPos = selectionAtEnd.to;\n    if (position === \"all\") {\n        return _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, minMax(0, minPos, maxPos), minMax(doc.content.size, minPos, maxPos));\n    }\n    return _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, minMax(position, minPos, maxPos), minMax(position, minPos, maxPos));\n}\nfunction isiOS() {\n    return [\n        \"iPad Simulator\",\n        \"iPhone Simulator\",\n        \"iPod Simulator\",\n        \"iPad\",\n        \"iPhone\",\n        \"iPod\"\n    ].includes(navigator.platform) || navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document;\n}\nconst focus = (position = null, options = {})=>({ editor, view, tr, dispatch })=>{\n        options = {\n            scrollIntoView: true,\n            ...options\n        };\n        const delayedFocus = ()=>{\n            // focus within `requestAnimationFrame` breaks focus on iOS\n            // so we have to call this\n            if (isiOS()) {\n                view.dom.focus();\n            }\n            // For React we have to focus asynchronously. Otherwise wild things happen.\n            // see: https://github.com/ueberdosis/tiptap/issues/1520\n            requestAnimationFrame(()=>{\n                if (!editor.isDestroyed) {\n                    view.focus();\n                    if (options === null || options === void 0 ? void 0 : options.scrollIntoView) {\n                        editor.commands.scrollIntoView();\n                    }\n                }\n            });\n        };\n        if (view.hasFocus() && position === null || position === false) {\n            return true;\n        }\n        // we don’t try to resolve a NodeSelection or CellSelection\n        if (dispatch && position === null && !isTextSelection(editor.state.selection)) {\n            delayedFocus();\n            return true;\n        }\n        // pass through tr.doc instead of editor.state.doc\n        // since transactions could change the editors state before this command has been run\n        const selection = resolveFocusPosition(tr.doc, position) || editor.state.selection;\n        const isSameSelection = editor.state.selection.eq(selection);\n        if (dispatch) {\n            if (!isSameSelection) {\n                tr.setSelection(selection);\n            }\n            // `tr.setSelection` resets the stored marks\n            // so we’ll restore them if the selection is the same as before\n            if (isSameSelection && tr.storedMarks) {\n                tr.setStoredMarks(tr.storedMarks);\n            }\n            delayedFocus();\n        }\n        return true;\n    };\nconst forEach = (items, fn)=>(props)=>{\n        return items.every((item, index)=>fn(item, {\n                ...props,\n                index\n            }));\n    };\nconst insertContent = (value, options)=>({ tr, commands })=>{\n        return commands.insertContentAt({\n            from: tr.selection.from,\n            to: tr.selection.to\n        }, value, options);\n    };\nfunction elementFromString(value) {\n    // add a wrapper to preserve leading and trailing whitespace\n    const wrappedValue = `<body>${value}</body>`;\n    return new window.DOMParser().parseFromString(wrappedValue, \"text/html\").body;\n}\nfunction createNodeFromContent(content, schema, options) {\n    options = {\n        slice: true,\n        parseOptions: {},\n        ...options\n    };\n    if (typeof content === \"object\" && content !== null) {\n        try {\n            if (Array.isArray(content) && content.length > 0) {\n                return _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.fromArray(content.map((item)=>schema.nodeFromJSON(item)));\n            }\n            return schema.nodeFromJSON(content);\n        } catch (error) {\n            console.warn(\"[tiptap warn]: Invalid content.\", \"Passed value:\", content, \"Error:\", error);\n            return createNodeFromContent(\"\", schema, options);\n        }\n    }\n    if (typeof content === \"string\") {\n        const parser = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMParser.fromSchema(schema);\n        return options.slice ? parser.parseSlice(elementFromString(content), options.parseOptions).content : parser.parse(elementFromString(content), options.parseOptions);\n    }\n    return createNodeFromContent(\"\", schema, options);\n}\n// source: https://github.com/ProseMirror/prosemirror-state/blob/master/src/selection.js#L466\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n    const last = tr.steps.length - 1;\n    if (last < startLen) {\n        return;\n    }\n    const step = tr.steps[last];\n    if (!(step instanceof _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.ReplaceStep || step instanceof _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.ReplaceAroundStep)) {\n        return;\n    }\n    const map = tr.mapping.maps[last];\n    let end = 0;\n    map.forEach((_from, _to, _newFrom, newTo)=>{\n        if (end === 0) {\n            end = newTo;\n        }\n    });\n    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.near(tr.doc.resolve(end), bias));\n}\nconst isFragment = (nodeOrFragment)=>{\n    return nodeOrFragment.toString().startsWith(\"<\");\n};\nconst insertContentAt = (position, value, options)=>({ tr, dispatch, editor })=>{\n        if (dispatch) {\n            options = {\n                parseOptions: {},\n                updateSelection: true,\n                ...options\n            };\n            const content = createNodeFromContent(value, editor.schema, {\n                parseOptions: {\n                    preserveWhitespace: \"full\",\n                    ...options.parseOptions\n                }\n            });\n            // don’t dispatch an empty fragment because this can lead to strange errors\n            if (content.toString() === \"<>\") {\n                return true;\n            }\n            let { from, to } = typeof position === \"number\" ? {\n                from: position,\n                to: position\n            } : {\n                from: position.from,\n                to: position.to\n            };\n            let isOnlyTextContent = true;\n            let isOnlyBlockContent = true;\n            const nodes = isFragment(content) ? content : [\n                content\n            ];\n            nodes.forEach((node)=>{\n                // check if added node is valid\n                node.check();\n                isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false;\n                isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false;\n            });\n            // check if we can replace the wrapping node by\n            // the newly inserted content\n            // example:\n            // replace an empty paragraph by an inserted image\n            // instead of inserting the image below the paragraph\n            if (from === to && isOnlyBlockContent) {\n                const { parent } = tr.doc.resolve(from);\n                const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount;\n                if (isEmptyTextBlock) {\n                    from -= 1;\n                    to += 1;\n                }\n            }\n            // if there is only plain text we have to use `insertText`\n            // because this will keep the current marks\n            if (isOnlyTextContent) {\n                // if value is string, we can use it directly\n                // otherwise if it is an array, we have to join it\n                if (Array.isArray(value)) {\n                    tr.insertText(value.map((v)=>v.text || \"\").join(\"\"), from, to);\n                } else if (typeof value === \"object\" && !!value && !!value.text) {\n                    tr.insertText(value.text, from, to);\n                } else {\n                    tr.insertText(value, from, to);\n                }\n            } else {\n                tr.replaceWith(from, to, content);\n            }\n            // set cursor at end of inserted content\n            if (options.updateSelection) {\n                selectionToInsertionEnd(tr, tr.steps.length - 1, -1);\n            }\n        }\n        return true;\n    };\nconst joinUp = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinUp)(state, dispatch);\n    };\nconst joinDown = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinDown)(state, dispatch);\n    };\nconst joinBackward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinBackward)(state, dispatch);\n    };\nconst joinForward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinForward)(state, dispatch);\n    };\nconst joinItemBackward = ()=>({ tr, state, dispatch })=>{\n        try {\n            const point = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.joinPoint)(state.doc, state.selection.$from.pos, -1);\n            if (point === null || point === undefined) {\n                return false;\n            }\n            tr.join(point, 2);\n            if (dispatch) {\n                dispatch(tr);\n            }\n            return true;\n        } catch  {\n            return false;\n        }\n    };\nconst joinItemForward = ()=>({ state, dispatch, tr })=>{\n        try {\n            const point = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.joinPoint)(state.doc, state.selection.$from.pos, +1);\n            if (point === null || point === undefined) {\n                return false;\n            }\n            tr.join(point, 2);\n            if (dispatch) {\n                dispatch(tr);\n            }\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\nfunction isMacOS() {\n    return typeof navigator !== \"undefined\" ? /Mac/.test(navigator.platform) : false;\n}\nfunction normalizeKeyName(name) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result === \"Space\") {\n        result = \" \";\n    }\n    let alt;\n    let ctrl;\n    let shift;\n    let meta;\n    for(let i = 0; i < parts.length - 1; i += 1){\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod)) {\n            meta = true;\n        } else if (/^a(lt)?$/i.test(mod)) {\n            alt = true;\n        } else if (/^(c|ctrl|control)$/i.test(mod)) {\n            ctrl = true;\n        } else if (/^s(hift)?$/i.test(mod)) {\n            shift = true;\n        } else if (/^mod$/i.test(mod)) {\n            if (isiOS() || isMacOS()) {\n                meta = true;\n            } else {\n                ctrl = true;\n            }\n        } else {\n            throw new Error(`Unrecognized modifier name: ${mod}`);\n        }\n    }\n    if (alt) {\n        result = `Alt-${result}`;\n    }\n    if (ctrl) {\n        result = `Ctrl-${result}`;\n    }\n    if (meta) {\n        result = `Meta-${result}`;\n    }\n    if (shift) {\n        result = `Shift-${result}`;\n    }\n    return result;\n}\nconst keyboardShortcut = (name)=>({ editor, view, tr, dispatch })=>{\n        const keys = normalizeKeyName(name).split(/-(?!$)/);\n        const key = keys.find((item)=>![\n                \"Alt\",\n                \"Ctrl\",\n                \"Meta\",\n                \"Shift\"\n            ].includes(item));\n        const event = new KeyboardEvent(\"keydown\", {\n            key: key === \"Space\" ? \" \" : key,\n            altKey: keys.includes(\"Alt\"),\n            ctrlKey: keys.includes(\"Ctrl\"),\n            metaKey: keys.includes(\"Meta\"),\n            shiftKey: keys.includes(\"Shift\"),\n            bubbles: true,\n            cancelable: true\n        });\n        const capturedTransaction = editor.captureTransaction(()=>{\n            view.someProp(\"handleKeyDown\", (f)=>f(view, event));\n        });\n        capturedTransaction === null || capturedTransaction === void 0 ? void 0 : capturedTransaction.steps.forEach((step)=>{\n            const newStep = step.map(tr.mapping);\n            if (newStep && dispatch) {\n                tr.maybeStep(newStep);\n            }\n        });\n        return true;\n    };\nfunction isNodeActive(state, typeOrName, attributes = {}) {\n    const { from, to, empty } = state.selection;\n    const type = typeOrName ? getNodeType(typeOrName, state.schema) : null;\n    const nodeRanges = [];\n    state.doc.nodesBetween(from, to, (node, pos)=>{\n        if (node.isText) {\n            return;\n        }\n        const relativeFrom = Math.max(from, pos);\n        const relativeTo = Math.min(to, pos + node.nodeSize);\n        nodeRanges.push({\n            node,\n            from: relativeFrom,\n            to: relativeTo\n        });\n    });\n    const selectionRange = to - from;\n    const matchedNodeRanges = nodeRanges.filter((nodeRange)=>{\n        if (!type) {\n            return true;\n        }\n        return type.name === nodeRange.node.type.name;\n    }).filter((nodeRange)=>objectIncludes(nodeRange.node.attrs, attributes, {\n            strict: false\n        }));\n    if (empty) {\n        return !!matchedNodeRanges.length;\n    }\n    const range = matchedNodeRanges.reduce((sum, nodeRange)=>sum + nodeRange.to - nodeRange.from, 0);\n    return range >= selectionRange;\n}\nconst lift = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (!isActive) {\n            return false;\n        }\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.lift)(state, dispatch);\n    };\nconst liftEmptyBlock = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.liftEmptyBlock)(state, dispatch);\n    };\nconst liftListItem = (typeOrName)=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.liftListItem)(type)(state, dispatch);\n    };\nconst newlineInCode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.newlineInCode)(state, dispatch);\n    };\nfunction getSchemaTypeNameByName(name, schema) {\n    if (schema.nodes[name]) {\n        return \"node\";\n    }\n    if (schema.marks[name]) {\n        return \"mark\";\n    }\n    return null;\n}\n/**\r\n * Remove a property or an array of properties from an object\r\n * @param obj Object\r\n * @param key Key to remove\r\n */ function deleteProps(obj, propOrProps) {\n    const props = typeof propOrProps === \"string\" ? [\n        propOrProps\n    ] : propOrProps;\n    return Object.keys(obj).reduce((newObj, prop)=>{\n        if (!props.includes(prop)) {\n            newObj[prop] = obj[prop];\n        }\n        return newObj;\n    }, {});\n}\nconst resetAttributes = (typeOrName, attributes)=>({ tr, state, dispatch })=>{\n        let nodeType = null;\n        let markType = null;\n        const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n        if (!schemaType) {\n            return false;\n        }\n        if (schemaType === \"node\") {\n            nodeType = getNodeType(typeOrName, state.schema);\n        }\n        if (schemaType === \"mark\") {\n            markType = getMarkType(typeOrName, state.schema);\n        }\n        if (dispatch) {\n            tr.selection.ranges.forEach((range)=>{\n                state.doc.nodesBetween(range.$from.pos, range.$to.pos, (node, pos)=>{\n                    if (nodeType && nodeType === node.type) {\n                        tr.setNodeMarkup(pos, undefined, deleteProps(node.attrs, attributes));\n                    }\n                    if (markType && node.marks.length) {\n                        node.marks.forEach((mark)=>{\n                            if (markType === mark.type) {\n                                tr.addMark(pos, pos + node.nodeSize, markType.create(deleteProps(mark.attrs, attributes)));\n                            }\n                        });\n                    }\n                });\n            });\n        }\n        return true;\n    };\nconst scrollIntoView = ()=>({ tr, dispatch })=>{\n        if (dispatch) {\n            tr.scrollIntoView();\n        }\n        return true;\n    };\nconst selectAll = ()=>({ tr, commands })=>{\n        return commands.setTextSelection({\n            from: 0,\n            to: tr.doc.content.size\n        });\n    };\nconst selectNodeBackward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectNodeBackward)(state, dispatch);\n    };\nconst selectNodeForward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectNodeForward)(state, dispatch);\n    };\nconst selectParentNode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectParentNode)(state, dispatch);\n    };\n// @ts-ignore\nconst selectTextblockEnd = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectTextblockEnd)(state, dispatch);\n    };\n// @ts-ignore\nconst selectTextblockStart = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectTextblockStart)(state, dispatch);\n    };\nfunction createDocument(content, schema, parseOptions = {}) {\n    return createNodeFromContent(content, schema, {\n        slice: false,\n        parseOptions\n    });\n}\nconst setContent = (content, emitUpdate = false, parseOptions = {})=>({ tr, editor, dispatch })=>{\n        const { doc } = tr;\n        const document1 = createDocument(content, editor.schema, parseOptions);\n        if (dispatch) {\n            tr.replaceWith(0, doc.content.size, document1).setMeta(\"preventUpdate\", !emitUpdate);\n        }\n        return true;\n    };\nfunction getMarkAttributes(state, typeOrName) {\n    const type = getMarkType(typeOrName, state.schema);\n    const { from, to, empty } = state.selection;\n    const marks = [];\n    if (empty) {\n        if (state.storedMarks) {\n            marks.push(...state.storedMarks);\n        }\n        marks.push(...state.selection.$head.marks());\n    } else {\n        state.doc.nodesBetween(from, to, (node)=>{\n            marks.push(...node.marks);\n        });\n    }\n    const mark = marks.find((markItem)=>markItem.type.name === type.name);\n    if (!mark) {\n        return {};\n    }\n    return {\n        ...mark.attrs\n    };\n}\n/**\r\n * Returns a new `Transform` based on all steps of the passed transactions.\r\n */ function combineTransactionSteps(oldDoc, transactions) {\n    const transform = new _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.Transform(oldDoc);\n    transactions.forEach((transaction)=>{\n        transaction.steps.forEach((step)=>{\n            transform.step(step);\n        });\n    });\n    return transform;\n}\nfunction defaultBlockAt(match) {\n    for(let i = 0; i < match.edgeCount; i += 1){\n        const { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs()) {\n            return type;\n        }\n    }\n    return null;\n}\nfunction findChildren(node, predicate) {\n    const nodesWithPos = [];\n    node.descendants((child, pos)=>{\n        if (predicate(child)) {\n            nodesWithPos.push({\n                node: child,\n                pos\n            });\n        }\n    });\n    return nodesWithPos;\n}\n/**\r\n * Same as `findChildren` but searches only within a `range`.\r\n */ function findChildrenInRange(node, range, predicate) {\n    const nodesWithPos = [];\n    // if (range.from === range.to) {\n    //   const nodeAt = node.nodeAt(range.from)\n    //   if (nodeAt) {\n    //     nodesWithPos.push({\n    //       node: nodeAt,\n    //       pos: range.from,\n    //     })\n    //   }\n    // }\n    node.nodesBetween(range.from, range.to, (child, pos)=>{\n        if (predicate(child)) {\n            nodesWithPos.push({\n                node: child,\n                pos\n            });\n        }\n    });\n    return nodesWithPos;\n}\nfunction findParentNodeClosestToPos($pos, predicate) {\n    for(let i = $pos.depth; i > 0; i -= 1){\n        const node = $pos.node(i);\n        if (predicate(node)) {\n            return {\n                pos: i > 0 ? $pos.before(i) : 0,\n                start: $pos.start(i),\n                depth: i,\n                node\n            };\n        }\n    }\n}\nfunction findParentNode(predicate) {\n    return (selection)=>findParentNodeClosestToPos(selection.$from, predicate);\n}\nfunction getHTMLFromFragment(fragment, schema) {\n    const documentFragment = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMSerializer.fromSchema(schema).serializeFragment(fragment);\n    const temporaryDocument = document.implementation.createHTMLDocument();\n    const container = temporaryDocument.createElement(\"div\");\n    container.appendChild(documentFragment);\n    return container.innerHTML;\n}\nfunction getSchema(extensions, editor) {\n    const resolvedExtensions = ExtensionManager.resolve(extensions);\n    return getSchemaByResolvedExtensions(resolvedExtensions, editor);\n}\nfunction generateHTML(doc, extensions) {\n    const schema = getSchema(extensions);\n    const contentNode = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Node.fromJSON(schema, doc);\n    return getHTMLFromFragment(contentNode.content, schema);\n}\nfunction generateJSON(html, extensions) {\n    const schema = getSchema(extensions);\n    const dom = elementFromString(html);\n    return _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMParser.fromSchema(schema).parse(dom).toJSON();\n}\nfunction getText(node, options) {\n    const range = {\n        from: 0,\n        to: node.content.size\n    };\n    return getTextBetween(node, range, options);\n}\nfunction generateText(doc, extensions, options) {\n    const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n    const schema = getSchema(extensions);\n    const contentNode = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Node.fromJSON(schema, doc);\n    return getText(contentNode, {\n        blockSeparator,\n        textSerializers: {\n            ...getTextSerializersFromSchema(schema),\n            ...textSerializers\n        }\n    });\n}\nfunction getNodeAttributes(state, typeOrName) {\n    const type = getNodeType(typeOrName, state.schema);\n    const { from, to } = state.selection;\n    const nodes = [];\n    state.doc.nodesBetween(from, to, (node)=>{\n        nodes.push(node);\n    });\n    const node = nodes.reverse().find((nodeItem)=>nodeItem.type.name === type.name);\n    if (!node) {\n        return {};\n    }\n    return {\n        ...node.attrs\n    };\n}\nfunction getAttributes(state, typeOrName) {\n    const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n    if (schemaType === \"node\") {\n        return getNodeAttributes(state, typeOrName);\n    }\n    if (schemaType === \"mark\") {\n        return getMarkAttributes(state, typeOrName);\n    }\n    return {};\n}\n/**\r\n * Removes duplicated values within an array.\r\n * Supports numbers, strings and objects.\r\n */ function removeDuplicates(array, by = JSON.stringify) {\n    const seen = {};\n    return array.filter((item)=>{\n        const key = by(item);\n        return Object.prototype.hasOwnProperty.call(seen, key) ? false : seen[key] = true;\n    });\n}\n/**\r\n * Removes duplicated ranges and ranges that are\r\n * fully captured by other ranges.\r\n */ function simplifyChangedRanges(changes) {\n    const uniqueChanges = removeDuplicates(changes);\n    return uniqueChanges.length === 1 ? uniqueChanges : uniqueChanges.filter((change, index)=>{\n        const rest = uniqueChanges.filter((_, i)=>i !== index);\n        return !rest.some((otherChange)=>{\n            return change.oldRange.from >= otherChange.oldRange.from && change.oldRange.to <= otherChange.oldRange.to && change.newRange.from >= otherChange.newRange.from && change.newRange.to <= otherChange.newRange.to;\n        });\n    });\n}\n/**\r\n * Returns a list of changed ranges\r\n * based on the first and last state of all steps.\r\n */ function getChangedRanges(transform) {\n    const { mapping, steps } = transform;\n    const changes = [];\n    mapping.maps.forEach((stepMap, index)=>{\n        const ranges = [];\n        // This accounts for step changes where no range was actually altered\n        // e.g. when setting a mark, node attribute, etc.\n        // @ts-ignore\n        if (!stepMap.ranges.length) {\n            const { from, to } = steps[index];\n            if (from === undefined || to === undefined) {\n                return;\n            }\n            ranges.push({\n                from,\n                to\n            });\n        } else {\n            stepMap.forEach((from, to)=>{\n                ranges.push({\n                    from,\n                    to\n                });\n            });\n        }\n        ranges.forEach(({ from, to })=>{\n            const newStart = mapping.slice(index).map(from, -1);\n            const newEnd = mapping.slice(index).map(to);\n            const oldStart = mapping.invert().map(newStart, -1);\n            const oldEnd = mapping.invert().map(newEnd);\n            changes.push({\n                oldRange: {\n                    from: oldStart,\n                    to: oldEnd\n                },\n                newRange: {\n                    from: newStart,\n                    to: newEnd\n                }\n            });\n        });\n    });\n    return simplifyChangedRanges(changes);\n}\nfunction getDebugJSON(node, startOffset = 0) {\n    const isTopNode = node.type === node.type.schema.topNodeType;\n    const increment = isTopNode ? 0 : 1;\n    const from = startOffset;\n    const to = from + node.nodeSize;\n    const marks = node.marks.map((mark)=>{\n        const output = {\n            type: mark.type.name\n        };\n        if (Object.keys(mark.attrs).length) {\n            output.attrs = {\n                ...mark.attrs\n            };\n        }\n        return output;\n    });\n    const attrs = {\n        ...node.attrs\n    };\n    const output = {\n        type: node.type.name,\n        from,\n        to\n    };\n    if (Object.keys(attrs).length) {\n        output.attrs = attrs;\n    }\n    if (marks.length) {\n        output.marks = marks;\n    }\n    if (node.content.childCount) {\n        output.content = [];\n        node.forEach((child, offset)=>{\n            var _a;\n            (_a = output.content) === null || _a === void 0 ? void 0 : _a.push(getDebugJSON(child, startOffset + offset + increment));\n        });\n    }\n    if (node.text) {\n        output.text = node.text;\n    }\n    return output;\n}\nfunction getMarksBetween(from, to, doc) {\n    const marks = [];\n    // get all inclusive marks on empty selection\n    if (from === to) {\n        doc.resolve(from).marks().forEach((mark)=>{\n            const $pos = doc.resolve(from - 1);\n            const range = getMarkRange($pos, mark.type);\n            if (!range) {\n                return;\n            }\n            marks.push({\n                mark,\n                ...range\n            });\n        });\n    } else {\n        doc.nodesBetween(from, to, (node, pos)=>{\n            marks.push(...node.marks.map((mark)=>({\n                    from: pos,\n                    to: pos + node.nodeSize,\n                    mark\n                })));\n        });\n    }\n    return marks;\n}\n/**\r\n * Finds the first node of a given type or name in the current selection.\r\n * @param state The editor state.\r\n * @param typeOrName The node type or name.\r\n * @param pos The position to start searching from.\r\n * @param maxDepth The maximum depth to search.\r\n * @returns The node and the depth as an array.\r\n */ const getNodeAtPosition = (state, typeOrName, pos, maxDepth = 20)=>{\n    const $pos = state.doc.resolve(pos);\n    let currentDepth = maxDepth;\n    let node = null;\n    while(currentDepth > 0 && node === null){\n        const currentNode = $pos.node(currentDepth);\n        if ((currentNode === null || currentNode === void 0 ? void 0 : currentNode.type.name) === typeOrName) {\n            node = currentNode;\n        } else {\n            currentDepth -= 1;\n        }\n    }\n    return [\n        node,\n        currentDepth\n    ];\n};\nfunction getSplittedAttributes(extensionAttributes, typeName, attributes) {\n    return Object.fromEntries(Object.entries(attributes).filter(([name])=>{\n        const extensionAttribute = extensionAttributes.find((item)=>{\n            return item.type === typeName && item.name === name;\n        });\n        if (!extensionAttribute) {\n            return false;\n        }\n        return extensionAttribute.attribute.keepOnSplit;\n    }));\n}\nfunction isMarkActive(state, typeOrName, attributes = {}) {\n    const { empty, ranges } = state.selection;\n    const type = typeOrName ? getMarkType(typeOrName, state.schema) : null;\n    if (empty) {\n        return !!(state.storedMarks || state.selection.$from.marks()).filter((mark)=>{\n            if (!type) {\n                return true;\n            }\n            return type.name === mark.type.name;\n        }).find((mark)=>objectIncludes(mark.attrs, attributes, {\n                strict: false\n            }));\n    }\n    let selectionRange = 0;\n    const markRanges = [];\n    ranges.forEach(({ $from, $to })=>{\n        const from = $from.pos;\n        const to = $to.pos;\n        state.doc.nodesBetween(from, to, (node, pos)=>{\n            if (!node.isText && !node.marks.length) {\n                return;\n            }\n            const relativeFrom = Math.max(from, pos);\n            const relativeTo = Math.min(to, pos + node.nodeSize);\n            const range = relativeTo - relativeFrom;\n            selectionRange += range;\n            markRanges.push(...node.marks.map((mark)=>({\n                    mark,\n                    from: relativeFrom,\n                    to: relativeTo\n                })));\n        });\n    });\n    if (selectionRange === 0) {\n        return false;\n    }\n    // calculate range of matched mark\n    const matchedRange = markRanges.filter((markRange)=>{\n        if (!type) {\n            return true;\n        }\n        return type.name === markRange.mark.type.name;\n    }).filter((markRange)=>objectIncludes(markRange.mark.attrs, attributes, {\n            strict: false\n        })).reduce((sum, markRange)=>sum + markRange.to - markRange.from, 0);\n    // calculate range of marks that excludes the searched mark\n    // for example `code` doesn’t allow any other marks\n    const excludedRange = markRanges.filter((markRange)=>{\n        if (!type) {\n            return true;\n        }\n        return markRange.mark.type !== type && markRange.mark.type.excludes(type);\n    }).reduce((sum, markRange)=>sum + markRange.to - markRange.from, 0);\n    // we only include the result of `excludedRange`\n    // if there is a match at all\n    const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange;\n    return range >= selectionRange;\n}\nfunction isActive(state, name, attributes = {}) {\n    if (!name) {\n        return isNodeActive(state, null, attributes) || isMarkActive(state, null, attributes);\n    }\n    const schemaType = getSchemaTypeNameByName(name, state.schema);\n    if (schemaType === \"node\") {\n        return isNodeActive(state, name, attributes);\n    }\n    if (schemaType === \"mark\") {\n        return isMarkActive(state, name, attributes);\n    }\n    return false;\n}\nconst isAtEndOfNode = (state, nodeType)=>{\n    const { $from, $to, $anchor } = state.selection;\n    if (nodeType) {\n        const parentNode = findParentNode((node)=>node.type.name === nodeType)(state.selection);\n        if (!parentNode) {\n            return false;\n        }\n        const $parentPos = state.doc.resolve(parentNode.pos + 1);\n        if ($anchor.pos + 1 === $parentPos.end()) {\n            return true;\n        }\n        return false;\n    }\n    if ($to.parentOffset < $to.parent.nodeSize - 2 || $from.pos !== $to.pos) {\n        return false;\n    }\n    return true;\n};\nconst isAtStartOfNode = (state)=>{\n    const { $from, $to } = state.selection;\n    if ($from.parentOffset > 0 || $from.pos !== $to.pos) {\n        return false;\n    }\n    return true;\n};\nfunction isList(name, extensions) {\n    const { nodeExtensions } = splitExtensions(extensions);\n    const extension = nodeExtensions.find((item)=>item.name === name);\n    if (!extension) {\n        return false;\n    }\n    const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage\n    };\n    const group = callOrReturn(getExtensionField(extension, \"group\", context));\n    if (typeof group !== \"string\") {\n        return false;\n    }\n    return group.split(\" \").includes(\"list\");\n}\nfunction isNodeEmpty(node) {\n    var _a;\n    const defaultContent = (_a = node.type.createAndFill()) === null || _a === void 0 ? void 0 : _a.toJSON();\n    const content = node.toJSON();\n    return JSON.stringify(defaultContent) === JSON.stringify(content);\n}\nfunction isNodeSelection(value) {\n    return value instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection;\n}\nfunction posToDOMRect(view, from, to) {\n    const minPos = 0;\n    const maxPos = view.state.doc.content.size;\n    const resolvedFrom = minMax(from, minPos, maxPos);\n    const resolvedEnd = minMax(to, minPos, maxPos);\n    const start = view.coordsAtPos(resolvedFrom);\n    const end = view.coordsAtPos(resolvedEnd, -1);\n    const top = Math.min(start.top, end.top);\n    const bottom = Math.max(start.bottom, end.bottom);\n    const left = Math.min(start.left, end.left);\n    const right = Math.max(start.right, end.right);\n    const width = right - left;\n    const height = bottom - top;\n    const x = left;\n    const y = top;\n    const data = {\n        top,\n        bottom,\n        left,\n        right,\n        width,\n        height,\n        x,\n        y\n    };\n    return {\n        ...data,\n        toJSON: ()=>data\n    };\n}\nfunction canSetMark(state, tr, newMarkType) {\n    var _a;\n    const { selection } = tr;\n    let cursor = null;\n    if (isTextSelection(selection)) {\n        cursor = selection.$cursor;\n    }\n    if (cursor) {\n        const currentMarks = (_a = state.storedMarks) !== null && _a !== void 0 ? _a : cursor.marks();\n        // There can be no current marks that exclude the new mark\n        return !!newMarkType.isInSet(currentMarks) || !currentMarks.some((mark)=>mark.type.excludes(newMarkType));\n    }\n    const { ranges } = selection;\n    return ranges.some(({ $from, $to })=>{\n        let someNodeSupportsMark = $from.depth === 0 ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType) : false;\n        state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent)=>{\n            // If we already found a mark that we can enable, return false to bypass the remaining search\n            if (someNodeSupportsMark) {\n                return false;\n            }\n            if (node.isInline) {\n                const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType);\n                const currentMarksAllowMarkType = !!newMarkType.isInSet(node.marks) || !node.marks.some((otherMark)=>otherMark.type.excludes(newMarkType));\n                someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType;\n            }\n            return !someNodeSupportsMark;\n        });\n        return someNodeSupportsMark;\n    });\n}\nconst setMark = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        const { selection } = tr;\n        const { empty, ranges } = selection;\n        const type = getMarkType(typeOrName, state.schema);\n        if (dispatch) {\n            if (empty) {\n                const oldAttributes = getMarkAttributes(state, type);\n                tr.addStoredMark(type.create({\n                    ...oldAttributes,\n                    ...attributes\n                }));\n            } else {\n                ranges.forEach((range)=>{\n                    const from = range.$from.pos;\n                    const to = range.$to.pos;\n                    state.doc.nodesBetween(from, to, (node, pos)=>{\n                        const trimmedFrom = Math.max(pos, from);\n                        const trimmedTo = Math.min(pos + node.nodeSize, to);\n                        const someHasMark = node.marks.find((mark)=>mark.type === type);\n                        // if there is already a mark of this type\n                        // we know that we have to merge its attributes\n                        // otherwise we add a fresh new mark\n                        if (someHasMark) {\n                            node.marks.forEach((mark)=>{\n                                if (type === mark.type) {\n                                    tr.addMark(trimmedFrom, trimmedTo, type.create({\n                                        ...mark.attrs,\n                                        ...attributes\n                                    }));\n                                }\n                            });\n                        } else {\n                            tr.addMark(trimmedFrom, trimmedTo, type.create(attributes));\n                        }\n                    });\n                });\n            }\n        }\n        return canSetMark(state, tr, type);\n    };\nconst setMeta = (key, value)=>({ tr })=>{\n        tr.setMeta(key, value);\n        return true;\n    };\nconst setNode = (typeOrName, attributes = {})=>({ state, dispatch, chain })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        // TODO: use a fallback like insertContent?\n        if (!type.isTextblock) {\n            console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.');\n            return false;\n        }\n        return chain()// try to convert node to default node if needed\n        .command(({ commands })=>{\n            const canSetBlock = (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.setBlockType)(type, attributes)(state);\n            if (canSetBlock) {\n                return true;\n            }\n            return commands.clearNodes();\n        }).command(({ state: updatedState })=>{\n            return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.setBlockType)(type, attributes)(updatedState, dispatch);\n        }).run();\n    };\nconst setNodeSelection = (position)=>({ tr, dispatch })=>{\n        if (dispatch) {\n            const { doc } = tr;\n            const from = minMax(position, 0, doc.content.size);\n            const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.create(doc, from);\n            tr.setSelection(selection);\n        }\n        return true;\n    };\nconst setTextSelection = (position)=>({ tr, dispatch })=>{\n        if (dispatch) {\n            const { doc } = tr;\n            const { from, to } = typeof position === \"number\" ? {\n                from: position,\n                to: position\n            } : position;\n            const minPos = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.atStart(doc).from;\n            const maxPos = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.atEnd(doc).to;\n            const resolvedFrom = minMax(from, minPos, maxPos);\n            const resolvedEnd = minMax(to, minPos, maxPos);\n            const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, resolvedFrom, resolvedEnd);\n            tr.setSelection(selection);\n        }\n        return true;\n    };\nconst sinkListItem = (typeOrName)=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.sinkListItem)(type)(state, dispatch);\n    };\nfunction ensureMarks(state, splittableMarks) {\n    const marks = state.storedMarks || state.selection.$to.parentOffset && state.selection.$from.marks();\n    if (marks) {\n        const filteredMarks = marks.filter((mark)=>splittableMarks === null || splittableMarks === void 0 ? void 0 : splittableMarks.includes(mark.type.name));\n        state.tr.ensureMarks(filteredMarks);\n    }\n}\nconst splitBlock = ({ keepMarks = true } = {})=>({ tr, state, dispatch, editor })=>{\n        const { selection, doc } = tr;\n        const { $from, $to } = selection;\n        const extensionAttributes = editor.extensionManager.attributes;\n        const newAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n        if (selection instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection && selection.node.isBlock) {\n            if (!$from.parentOffset || !(0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(doc, $from.pos)) {\n                return false;\n            }\n            if (dispatch) {\n                if (keepMarks) {\n                    ensureMarks(state, editor.extensionManager.splittableMarks);\n                }\n                tr.split($from.pos).scrollIntoView();\n            }\n            return true;\n        }\n        if (!$from.parent.isBlock) {\n            return false;\n        }\n        if (dispatch) {\n            const atEnd = $to.parentOffset === $to.parent.content.size;\n            if (selection instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection) {\n                tr.deleteSelection();\n            }\n            const deflt = $from.depth === 0 ? undefined : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n            let types = atEnd && deflt ? [\n                {\n                    type: deflt,\n                    attrs: newAttributes\n                }\n            ] : undefined;\n            let can = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, tr.mapping.map($from.pos), 1, types);\n            if (!types && !can && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [\n                {\n                    type: deflt\n                }\n            ] : undefined)) {\n                can = true;\n                types = deflt ? [\n                    {\n                        type: deflt,\n                        attrs: newAttributes\n                    }\n                ] : undefined;\n            }\n            if (can) {\n                tr.split(tr.mapping.map($from.pos), 1, types);\n                if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\n                    const first = tr.mapping.map($from.before());\n                    const $first = tr.doc.resolve(first);\n                    if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\n                        tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\n                    }\n                }\n            }\n            if (keepMarks) {\n                ensureMarks(state, editor.extensionManager.splittableMarks);\n            }\n            tr.scrollIntoView();\n        }\n        return true;\n    };\nconst splitListItem = (typeOrName)=>({ tr, state, dispatch, editor })=>{\n        var _a;\n        const type = getNodeType(typeOrName, state.schema);\n        const { $from, $to } = state.selection;\n        // @ts-ignore\n        // eslint-disable-next-line\n        const node = state.selection.node;\n        if (node && node.isBlock || $from.depth < 2 || !$from.sameParent($to)) {\n            return false;\n        }\n        const grandParent = $from.node(-1);\n        if (grandParent.type !== type) {\n            return false;\n        }\n        const extensionAttributes = editor.extensionManager.attributes;\n        if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\n            // In an empty block. If this is a nested list, the wrapping\n            // list item should be split. Otherwise, bail out and let next\n            // command handle lifting.\n            if ($from.depth === 2 || $from.node(-3).type !== type || $from.index(-2) !== $from.node(-2).childCount - 1) {\n                return false;\n            }\n            if (dispatch) {\n                let wrap = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.empty;\n                // eslint-disable-next-line\n                const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n                // Build a fragment containing empty versions of the structure\n                // from the outer list item to the parent node of the cursor\n                for(let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1){\n                    wrap = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.from($from.node(d).copy(wrap));\n                }\n                // eslint-disable-next-line\n                const depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n                // Add a second list item with an empty default start node\n                const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n                const nextType = ((_a = type.contentMatch.defaultType) === null || _a === void 0 ? void 0 : _a.createAndFill(newNextTypeAttributes)) || undefined;\n                wrap = wrap.append(_tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.from(type.createAndFill(null, nextType) || undefined));\n                const start = $from.before($from.depth - (depthBefore - 1));\n                tr.replace(start, $from.after(-depthAfter), new _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Slice(wrap, 4 - depthBefore, 0));\n                let sel = -1;\n                tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos)=>{\n                    if (sel > -1) {\n                        return false;\n                    }\n                    if (n.isTextblock && n.content.size === 0) {\n                        sel = pos + 1;\n                    }\n                });\n                if (sel > -1) {\n                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.near(tr.doc.resolve(sel)));\n                }\n                tr.scrollIntoView();\n            }\n            return true;\n        }\n        const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n        const newTypeAttributes = getSplittedAttributes(extensionAttributes, grandParent.type.name, grandParent.attrs);\n        const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n        tr.delete($from.pos, $to.pos);\n        const types = nextType ? [\n            {\n                type,\n                attrs: newTypeAttributes\n            },\n            {\n                type: nextType,\n                attrs: newNextTypeAttributes\n            }\n        ] : [\n            {\n                type,\n                attrs: newTypeAttributes\n            }\n        ];\n        if (!(0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, $from.pos, 2)) {\n            return false;\n        }\n        if (dispatch) {\n            const { selection, storedMarks } = state;\n            const { splittableMarks } = editor.extensionManager;\n            const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n            tr.split($from.pos, 2, types).scrollIntoView();\n            if (!marks || !dispatch) {\n                return true;\n            }\n            const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n            tr.ensureMarks(filteredMarks);\n        }\n        return true;\n    };\nconst joinListBackwards = (tr, listType)=>{\n    const list = findParentNode((node)=>node.type === listType)(tr.selection);\n    if (!list) {\n        return true;\n    }\n    const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth);\n    if (before === undefined) {\n        return true;\n    }\n    const nodeBefore = tr.doc.nodeAt(before);\n    const canJoinBackwards = list.node.type === (nodeBefore === null || nodeBefore === void 0 ? void 0 : nodeBefore.type) && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, list.pos);\n    if (!canJoinBackwards) {\n        return true;\n    }\n    tr.join(list.pos);\n    return true;\n};\nconst joinListForwards = (tr, listType)=>{\n    const list = findParentNode((node)=>node.type === listType)(tr.selection);\n    if (!list) {\n        return true;\n    }\n    const after = tr.doc.resolve(list.start).after(list.depth);\n    if (after === undefined) {\n        return true;\n    }\n    const nodeAfter = tr.doc.nodeAt(after);\n    const canJoinForwards = list.node.type === (nodeAfter === null || nodeAfter === void 0 ? void 0 : nodeAfter.type) && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, after);\n    if (!canJoinForwards) {\n        return true;\n    }\n    tr.join(after);\n    return true;\n};\nconst toggleList = (listTypeOrName, itemTypeOrName, keepMarks, attributes = {})=>({ editor, tr, state, dispatch, chain, commands, can })=>{\n        const { extensions, splittableMarks } = editor.extensionManager;\n        const listType = getNodeType(listTypeOrName, state.schema);\n        const itemType = getNodeType(itemTypeOrName, state.schema);\n        const { selection, storedMarks } = state;\n        const { $from, $to } = selection;\n        const range = $from.blockRange($to);\n        const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n        if (!range) {\n            return false;\n        }\n        const parentList = findParentNode((node)=>isList(node.type.name, extensions))(selection);\n        if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n            // remove list\n            if (parentList.node.type === listType) {\n                return commands.liftListItem(itemType);\n            }\n            // change list type\n            if (isList(parentList.node.type.name, extensions) && listType.validContent(parentList.node.content) && dispatch) {\n                return chain().command(()=>{\n                    tr.setNodeMarkup(parentList.pos, listType);\n                    return true;\n                }).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n            }\n        }\n        if (!keepMarks || !marks || !dispatch) {\n            return chain()// try to convert node to default node if needed\n            .command(()=>{\n                const canWrapInList = can().wrapInList(listType, attributes);\n                if (canWrapInList) {\n                    return true;\n                }\n                return commands.clearNodes();\n            }).wrapInList(listType, attributes).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n        }\n        return chain()// try to convert node to default node if needed\n        .command(()=>{\n            const canWrapInList = can().wrapInList(listType, attributes);\n            const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n            tr.ensureMarks(filteredMarks);\n            if (canWrapInList) {\n                return true;\n            }\n            return commands.clearNodes();\n        }).wrapInList(listType, attributes).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n    };\nconst toggleMark = (typeOrName, attributes = {}, options = {})=>({ state, commands })=>{\n        const { extendEmptyMarkRange = false } = options;\n        const type = getMarkType(typeOrName, state.schema);\n        const isActive = isMarkActive(state, type, attributes);\n        if (isActive) {\n            return commands.unsetMark(type, {\n                extendEmptyMarkRange\n            });\n        }\n        return commands.setMark(type, attributes);\n    };\nconst toggleNode = (typeOrName, toggleTypeOrName, attributes = {})=>({ state, commands })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const toggleType = getNodeType(toggleTypeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (isActive) {\n            return commands.setNode(toggleType);\n        }\n        return commands.setNode(type, attributes);\n    };\nconst toggleWrap = (typeOrName, attributes = {})=>({ state, commands })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (isActive) {\n            return commands.lift(type);\n        }\n        return commands.wrapIn(type, attributes);\n    };\nconst undoInputRule = ()=>({ state, dispatch })=>{\n        const plugins = state.plugins;\n        for(let i = 0; i < plugins.length; i += 1){\n            const plugin = plugins[i];\n            let undoable;\n            // @ts-ignore\n            // eslint-disable-next-line\n            if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n                if (dispatch) {\n                    const tr = state.tr;\n                    const toUndo = undoable.transform;\n                    for(let j = toUndo.steps.length - 1; j >= 0; j -= 1){\n                        tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\n                    }\n                    if (undoable.text) {\n                        const marks = tr.doc.resolve(undoable.from).marks();\n                        tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n                    } else {\n                        tr.delete(undoable.from, undoable.to);\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst unsetAllMarks = ()=>({ tr, dispatch })=>{\n        const { selection } = tr;\n        const { empty, ranges } = selection;\n        if (empty) {\n            return true;\n        }\n        if (dispatch) {\n            ranges.forEach((range)=>{\n                tr.removeMark(range.$from.pos, range.$to.pos);\n            });\n        }\n        return true;\n    };\nconst unsetMark = (typeOrName, options = {})=>({ tr, state, dispatch })=>{\n        var _a;\n        const { extendEmptyMarkRange = false } = options;\n        const { selection } = tr;\n        const type = getMarkType(typeOrName, state.schema);\n        const { $from, empty, ranges } = selection;\n        if (!dispatch) {\n            return true;\n        }\n        if (empty && extendEmptyMarkRange) {\n            let { from, to } = selection;\n            const attrs = (_a = $from.marks().find((mark)=>mark.type === type)) === null || _a === void 0 ? void 0 : _a.attrs;\n            const range = getMarkRange($from, type, attrs);\n            if (range) {\n                from = range.from;\n                to = range.to;\n            }\n            tr.removeMark(from, to, type);\n        } else {\n            ranges.forEach((range)=>{\n                tr.removeMark(range.$from.pos, range.$to.pos, type);\n            });\n        }\n        tr.removeStoredMark(type);\n        return true;\n    };\nconst updateAttributes = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        let nodeType = null;\n        let markType = null;\n        const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n        if (!schemaType) {\n            return false;\n        }\n        if (schemaType === \"node\") {\n            nodeType = getNodeType(typeOrName, state.schema);\n        }\n        if (schemaType === \"mark\") {\n            markType = getMarkType(typeOrName, state.schema);\n        }\n        if (dispatch) {\n            tr.selection.ranges.forEach((range)=>{\n                const from = range.$from.pos;\n                const to = range.$to.pos;\n                state.doc.nodesBetween(from, to, (node, pos)=>{\n                    if (nodeType && nodeType === node.type) {\n                        tr.setNodeMarkup(pos, undefined, {\n                            ...node.attrs,\n                            ...attributes\n                        });\n                    }\n                    if (markType && node.marks.length) {\n                        node.marks.forEach((mark)=>{\n                            if (markType === mark.type) {\n                                const trimmedFrom = Math.max(pos, from);\n                                const trimmedTo = Math.min(pos + node.nodeSize, to);\n                                tr.addMark(trimmedFrom, trimmedTo, markType.create({\n                                    ...mark.attrs,\n                                    ...attributes\n                                }));\n                            }\n                        });\n                    }\n                });\n            });\n        }\n        return true;\n    };\nconst wrapIn = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.wrapIn)(type, attributes)(state, dispatch);\n    };\nconst wrapInList = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.wrapInList)(type, attributes)(state, dispatch);\n    };\nvar commands = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    blur: blur,\n    clearContent: clearContent,\n    clearNodes: clearNodes,\n    command: command,\n    createParagraphNear: createParagraphNear,\n    cut: cut,\n    deleteCurrentNode: deleteCurrentNode,\n    deleteNode: deleteNode,\n    deleteRange: deleteRange,\n    deleteSelection: deleteSelection,\n    enter: enter,\n    exitCode: exitCode,\n    extendMarkRange: extendMarkRange,\n    first: first,\n    focus: focus,\n    forEach: forEach,\n    insertContent: insertContent,\n    insertContentAt: insertContentAt,\n    joinUp: joinUp,\n    joinDown: joinDown,\n    joinBackward: joinBackward,\n    joinForward: joinForward,\n    joinItemBackward: joinItemBackward,\n    joinItemForward: joinItemForward,\n    keyboardShortcut: keyboardShortcut,\n    lift: lift,\n    liftEmptyBlock: liftEmptyBlock,\n    liftListItem: liftListItem,\n    newlineInCode: newlineInCode,\n    resetAttributes: resetAttributes,\n    scrollIntoView: scrollIntoView,\n    selectAll: selectAll,\n    selectNodeBackward: selectNodeBackward,\n    selectNodeForward: selectNodeForward,\n    selectParentNode: selectParentNode,\n    selectTextblockEnd: selectTextblockEnd,\n    selectTextblockStart: selectTextblockStart,\n    setContent: setContent,\n    setMark: setMark,\n    setMeta: setMeta,\n    setNode: setNode,\n    setNodeSelection: setNodeSelection,\n    setTextSelection: setTextSelection,\n    sinkListItem: sinkListItem,\n    splitBlock: splitBlock,\n    splitListItem: splitListItem,\n    toggleList: toggleList,\n    toggleMark: toggleMark,\n    toggleNode: toggleNode,\n    toggleWrap: toggleWrap,\n    undoInputRule: undoInputRule,\n    unsetAllMarks: unsetAllMarks,\n    unsetMark: unsetMark,\n    updateAttributes: updateAttributes,\n    wrapIn: wrapIn,\n    wrapInList: wrapInList\n});\nconst Commands = Extension.create({\n    name: \"commands\",\n    addCommands () {\n        return {\n            ...commands\n        };\n    }\n});\nconst Editable = Extension.create({\n    name: \"editable\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"editable\"),\n                props: {\n                    editable: ()=>this.editor.options.editable\n                }\n            })\n        ];\n    }\n});\nconst FocusEvents = Extension.create({\n    name: \"focusEvents\",\n    addProseMirrorPlugins () {\n        const { editor } = this;\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"focusEvents\"),\n                props: {\n                    handleDOMEvents: {\n                        focus: (view, event)=>{\n                            editor.isFocused = true;\n                            const transaction = editor.state.tr.setMeta(\"focus\", {\n                                event\n                            }).setMeta(\"addToHistory\", false);\n                            view.dispatch(transaction);\n                            return false;\n                        },\n                        blur: (view, event)=>{\n                            editor.isFocused = false;\n                            const transaction = editor.state.tr.setMeta(\"blur\", {\n                                event\n                            }).setMeta(\"addToHistory\", false);\n                            view.dispatch(transaction);\n                            return false;\n                        }\n                    }\n                }\n            })\n        ];\n    }\n});\nconst Keymap = Extension.create({\n    name: \"keymap\",\n    addKeyboardShortcuts () {\n        const handleBackspace = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.undoInputRule(),\n                    // maybe convert first text block node to default node\n                    ()=>commands.command(({ tr })=>{\n                            const { selection, doc } = tr;\n                            const { empty, $anchor } = selection;\n                            const { pos, parent } = $anchor;\n                            const $parentPos = $anchor.parent.isTextblock ? tr.doc.resolve(pos - 1) : $anchor;\n                            const parentIsIsolating = $parentPos.parent.type.spec.isolating;\n                            const parentPos = $anchor.pos - $anchor.parentOffset;\n                            const isAtStart = parentIsIsolating && $parentPos.parent.childCount === 1 ? parentPos === $anchor.pos : _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(doc).from === pos;\n                            if (!empty || !isAtStart || !parent.type.isTextblock || parent.textContent.length) {\n                                return false;\n                            }\n                            return commands.clearNodes();\n                        }),\n                    ()=>commands.deleteSelection(),\n                    ()=>commands.joinBackward(),\n                    ()=>commands.selectNodeBackward()\n                ]);\n        const handleDelete = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.deleteSelection(),\n                    ()=>commands.deleteCurrentNode(),\n                    ()=>commands.joinForward(),\n                    ()=>commands.selectNodeForward()\n                ]);\n        const handleEnter = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.newlineInCode(),\n                    ()=>commands.createParagraphNear(),\n                    ()=>commands.liftEmptyBlock(),\n                    ()=>commands.splitBlock()\n                ]);\n        const baseKeymap = {\n            Enter: handleEnter,\n            \"Mod-Enter\": ()=>this.editor.commands.exitCode(),\n            Backspace: handleBackspace,\n            \"Mod-Backspace\": handleBackspace,\n            \"Shift-Backspace\": handleBackspace,\n            Delete: handleDelete,\n            \"Mod-Delete\": handleDelete,\n            \"Mod-a\": ()=>this.editor.commands.selectAll()\n        };\n        const pcKeymap = {\n            ...baseKeymap\n        };\n        const macKeymap = {\n            ...baseKeymap,\n            \"Ctrl-h\": handleBackspace,\n            \"Alt-Backspace\": handleBackspace,\n            \"Ctrl-d\": handleDelete,\n            \"Ctrl-Alt-Backspace\": handleDelete,\n            \"Alt-Delete\": handleDelete,\n            \"Alt-d\": handleDelete,\n            \"Ctrl-a\": ()=>this.editor.commands.selectTextblockStart(),\n            \"Ctrl-e\": ()=>this.editor.commands.selectTextblockEnd()\n        };\n        if (isiOS() || isMacOS()) {\n            return macKeymap;\n        }\n        return pcKeymap;\n    },\n    addProseMirrorPlugins () {\n        return [\n            // With this plugin we check if the whole document was selected and deleted.\n            // In this case we will additionally call `clearNodes()` to convert e.g. a heading\n            // to a paragraph if necessary.\n            // This is an alternative to ProseMirror's `AllSelection`, which doesn’t work well\n            // with many other commands.\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"clearDocument\"),\n                appendTransaction: (transactions, oldState, newState)=>{\n                    const docChanges = transactions.some((transaction)=>transaction.docChanged) && !oldState.doc.eq(newState.doc);\n                    if (!docChanges) {\n                        return;\n                    }\n                    const { empty, from, to } = oldState.selection;\n                    const allFrom = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(oldState.doc).from;\n                    const allEnd = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atEnd(oldState.doc).to;\n                    const allWasSelected = from === allFrom && to === allEnd;\n                    if (empty || !allWasSelected) {\n                        return;\n                    }\n                    const isEmpty = newState.doc.textBetween(0, newState.doc.content.size, \" \", \" \").length === 0;\n                    if (!isEmpty) {\n                        return;\n                    }\n                    const tr = newState.tr;\n                    const state = createChainableState({\n                        state: newState,\n                        transaction: tr\n                    });\n                    const { commands } = new CommandManager({\n                        editor: this.editor,\n                        state\n                    });\n                    commands.clearNodes();\n                    if (!tr.steps.length) {\n                        return;\n                    }\n                    return tr;\n                }\n            })\n        ];\n    }\n});\nconst Tabindex = Extension.create({\n    name: \"tabindex\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"tabindex\"),\n                props: {\n                    attributes: this.editor.isEditable ? {\n                        tabindex: \"0\"\n                    } : {}\n                }\n            })\n        ];\n    }\n});\nvar extensions = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ClipboardTextSerializer: ClipboardTextSerializer,\n    Commands: Commands,\n    Editable: Editable,\n    FocusEvents: FocusEvents,\n    Keymap: Keymap,\n    Tabindex: Tabindex\n});\nconst style = `.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}`;\nfunction createStyleTag(style, nonce, suffix) {\n    const tiptapStyleTag = document.querySelector(`style[data-tiptap-style${suffix ? `-${suffix}` : \"\"}]`);\n    if (tiptapStyleTag !== null) {\n        return tiptapStyleTag;\n    }\n    const styleNode = document.createElement(\"style\");\n    if (nonce) {\n        styleNode.setAttribute(\"nonce\", nonce);\n    }\n    styleNode.setAttribute(`data-tiptap-style${suffix ? `-${suffix}` : \"\"}`, \"\");\n    styleNode.innerHTML = style;\n    document.getElementsByTagName(\"head\")[0].appendChild(styleNode);\n    return styleNode;\n}\nclass Editor extends EventEmitter {\n    constructor(options = {}){\n        super();\n        this.isFocused = false;\n        this.extensionStorage = {};\n        this.options = {\n            element: document.createElement(\"div\"),\n            content: \"\",\n            injectCSS: true,\n            injectNonce: undefined,\n            extensions: [],\n            autofocus: false,\n            editable: true,\n            editorProps: {},\n            parseOptions: {},\n            enableInputRules: true,\n            enablePasteRules: true,\n            enableCoreExtensions: true,\n            onBeforeCreate: ()=>null,\n            onCreate: ()=>null,\n            onUpdate: ()=>null,\n            onSelectionUpdate: ()=>null,\n            onTransaction: ()=>null,\n            onFocus: ()=>null,\n            onBlur: ()=>null,\n            onDestroy: ()=>null\n        };\n        this.isCapturingTransaction = false;\n        this.capturedTransaction = null;\n        this.setOptions(options);\n        this.createExtensionManager();\n        this.createCommandManager();\n        this.createSchema();\n        this.on(\"beforeCreate\", this.options.onBeforeCreate);\n        this.emit(\"beforeCreate\", {\n            editor: this\n        });\n        this.createView();\n        this.injectCSS();\n        this.on(\"create\", this.options.onCreate);\n        this.on(\"update\", this.options.onUpdate);\n        this.on(\"selectionUpdate\", this.options.onSelectionUpdate);\n        this.on(\"transaction\", this.options.onTransaction);\n        this.on(\"focus\", this.options.onFocus);\n        this.on(\"blur\", this.options.onBlur);\n        this.on(\"destroy\", this.options.onDestroy);\n        window.setTimeout(()=>{\n            if (this.isDestroyed) {\n                return;\n            }\n            this.commands.focus(this.options.autofocus);\n            this.emit(\"create\", {\n                editor: this\n            });\n        }, 0);\n    }\n    /**\r\n     * Returns the editor storage.\r\n     */ get storage() {\n        return this.extensionStorage;\n    }\n    /**\r\n     * An object of all registered commands.\r\n     */ get commands() {\n        return this.commandManager.commands;\n    }\n    /**\r\n     * Create a command chain to call multiple commands at once.\r\n     */ chain() {\n        return this.commandManager.chain();\n    }\n    /**\r\n     * Check if a command or a command chain can be executed. Without executing it.\r\n     */ can() {\n        return this.commandManager.can();\n    }\n    /**\r\n     * Inject CSS styles.\r\n     */ injectCSS() {\n        if (this.options.injectCSS && document) {\n            this.css = createStyleTag(style, this.options.injectNonce);\n        }\n    }\n    /**\r\n     * Update editor options.\r\n     *\r\n     * @param options A list of options\r\n     */ setOptions(options = {}) {\n        this.options = {\n            ...this.options,\n            ...options\n        };\n        if (!this.view || !this.state || this.isDestroyed) {\n            return;\n        }\n        if (this.options.editorProps) {\n            this.view.setProps(this.options.editorProps);\n        }\n        this.view.updateState(this.state);\n    }\n    /**\r\n     * Update editable state of the editor.\r\n     */ setEditable(editable, emitUpdate = true) {\n        this.setOptions({\n            editable\n        });\n        if (emitUpdate) {\n            this.emit(\"update\", {\n                editor: this,\n                transaction: this.state.tr\n            });\n        }\n    }\n    /**\r\n     * Returns whether the editor is editable.\r\n     */ get isEditable() {\n        // since plugins are applied after creating the view\n        // `editable` is always `true` for one tick.\n        // that’s why we also have to check for `options.editable`\n        return this.options.editable && this.view && this.view.editable;\n    }\n    /**\r\n     * Returns the editor state.\r\n     */ get state() {\n        return this.view.state;\n    }\n    /**\r\n     * Register a ProseMirror plugin.\r\n     *\r\n     * @param plugin A ProseMirror plugin\r\n     * @param handlePlugins Control how to merge the plugin into the existing plugins.\r\n     */ registerPlugin(plugin, handlePlugins) {\n        const plugins = isFunction(handlePlugins) ? handlePlugins(plugin, [\n            ...this.state.plugins\n        ]) : [\n            ...this.state.plugins,\n            plugin\n        ];\n        const state = this.state.reconfigure({\n            plugins\n        });\n        this.view.updateState(state);\n    }\n    /**\r\n     * Unregister a ProseMirror plugin.\r\n     *\r\n     * @param nameOrPluginKey The plugins name\r\n     */ unregisterPlugin(nameOrPluginKey) {\n        if (this.isDestroyed) {\n            return;\n        }\n        // @ts-ignore\n        const name = typeof nameOrPluginKey === \"string\" ? `${nameOrPluginKey}$` : nameOrPluginKey.key;\n        const state = this.state.reconfigure({\n            // @ts-ignore\n            plugins: this.state.plugins.filter((plugin)=>!plugin.key.startsWith(name))\n        });\n        this.view.updateState(state);\n    }\n    /**\r\n     * Creates an extension manager.\r\n     */ createExtensionManager() {\n        const coreExtensions = this.options.enableCoreExtensions ? Object.values(extensions) : [];\n        const allExtensions = [\n            ...coreExtensions,\n            ...this.options.extensions\n        ].filter((extension)=>{\n            return [\n                \"extension\",\n                \"node\",\n                \"mark\"\n            ].includes(extension === null || extension === void 0 ? void 0 : extension.type);\n        });\n        this.extensionManager = new ExtensionManager(allExtensions, this);\n    }\n    /**\r\n     * Creates an command manager.\r\n     */ createCommandManager() {\n        this.commandManager = new CommandManager({\n            editor: this\n        });\n    }\n    /**\r\n     * Creates a ProseMirror schema.\r\n     */ createSchema() {\n        this.schema = this.extensionManager.schema;\n    }\n    /**\r\n     * Creates a ProseMirror view.\r\n     */ createView() {\n        const doc = createDocument(this.options.content, this.schema, this.options.parseOptions);\n        const selection = resolveFocusPosition(doc, this.options.autofocus);\n        this.view = new _tiptap_pm_view__WEBPACK_IMPORTED_MODULE_1__.EditorView(this.options.element, {\n            ...this.options.editorProps,\n            dispatchTransaction: this.dispatchTransaction.bind(this),\n            state: _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.EditorState.create({\n                doc,\n                selection: selection || undefined\n            })\n        });\n        // `editor.view` is not yet available at this time.\n        // Therefore we will add all plugins and node views directly afterwards.\n        const newState = this.state.reconfigure({\n            plugins: this.extensionManager.plugins\n        });\n        this.view.updateState(newState);\n        this.createNodeViews();\n        this.prependClass();\n        // Let’s store the editor instance in the DOM element.\n        // So we’ll have access to it for tests.\n        const dom = this.view.dom;\n        dom.editor = this;\n    }\n    /**\r\n     * Creates all node views.\r\n     */ createNodeViews() {\n        this.view.setProps({\n            nodeViews: this.extensionManager.nodeViews\n        });\n    }\n    /**\r\n     * Prepend class name to element.\r\n     */ prependClass() {\n        this.view.dom.className = `tiptap ${this.view.dom.className}`;\n    }\n    captureTransaction(fn) {\n        this.isCapturingTransaction = true;\n        fn();\n        this.isCapturingTransaction = false;\n        const tr = this.capturedTransaction;\n        this.capturedTransaction = null;\n        return tr;\n    }\n    /**\r\n     * The callback over which to send transactions (state updates) produced by the view.\r\n     *\r\n     * @param transaction An editor state transaction\r\n     */ dispatchTransaction(transaction) {\n        // if the editor / the view of the editor was destroyed\n        // the transaction should not be dispatched as there is no view anymore.\n        if (this.view.isDestroyed) {\n            return;\n        }\n        if (this.isCapturingTransaction) {\n            if (!this.capturedTransaction) {\n                this.capturedTransaction = transaction;\n                return;\n            }\n            transaction.steps.forEach((step)=>{\n                var _a;\n                return (_a = this.capturedTransaction) === null || _a === void 0 ? void 0 : _a.step(step);\n            });\n            return;\n        }\n        const state = this.state.apply(transaction);\n        const selectionHasChanged = !this.state.selection.eq(state.selection);\n        this.view.updateState(state);\n        this.emit(\"transaction\", {\n            editor: this,\n            transaction\n        });\n        if (selectionHasChanged) {\n            this.emit(\"selectionUpdate\", {\n                editor: this,\n                transaction\n            });\n        }\n        const focus = transaction.getMeta(\"focus\");\n        const blur = transaction.getMeta(\"blur\");\n        if (focus) {\n            this.emit(\"focus\", {\n                editor: this,\n                event: focus.event,\n                transaction\n            });\n        }\n        if (blur) {\n            this.emit(\"blur\", {\n                editor: this,\n                event: blur.event,\n                transaction\n            });\n        }\n        if (!transaction.docChanged || transaction.getMeta(\"preventUpdate\")) {\n            return;\n        }\n        this.emit(\"update\", {\n            editor: this,\n            transaction\n        });\n    }\n    /**\r\n     * Get attributes of the currently selected node or mark.\r\n     */ getAttributes(nameOrType) {\n        return getAttributes(this.state, nameOrType);\n    }\n    isActive(nameOrAttributes, attributesOrUndefined) {\n        const name = typeof nameOrAttributes === \"string\" ? nameOrAttributes : null;\n        const attributes = typeof nameOrAttributes === \"string\" ? attributesOrUndefined : nameOrAttributes;\n        return isActive(this.state, name, attributes);\n    }\n    /**\r\n     * Get the document as JSON.\r\n     */ getJSON() {\n        return this.state.doc.toJSON();\n    }\n    /**\r\n     * Get the document as HTML.\r\n     */ getHTML() {\n        return getHTMLFromFragment(this.state.doc.content, this.schema);\n    }\n    /**\r\n     * Get the document as text.\r\n     */ getText(options) {\n        const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n        return getText(this.state.doc, {\n            blockSeparator,\n            textSerializers: {\n                ...getTextSerializersFromSchema(this.schema),\n                ...textSerializers\n            }\n        });\n    }\n    /**\r\n     * Check if there is no content.\r\n     */ get isEmpty() {\n        return isNodeEmpty(this.state.doc);\n    }\n    /**\r\n     * Get the number of characters for the current document.\r\n     *\r\n     * @deprecated\r\n     */ getCharacterCount() {\n        console.warn('[tiptap warn]: \"editor.getCharacterCount()\" is deprecated. Please use \"editor.storage.characterCount.characters()\" instead.');\n        return this.state.doc.content.size - 2;\n    }\n    /**\r\n     * Destroy the editor.\r\n     */ destroy() {\n        this.emit(\"destroy\");\n        if (this.view) {\n            this.view.destroy();\n        }\n        this.removeAllListeners();\n    }\n    /**\r\n     * Check if the editor is already destroyed.\r\n     */ get isDestroyed() {\n        var _a;\n        // @ts-ignore\n        return !((_a = this.view) === null || _a === void 0 ? void 0 : _a.docView);\n    }\n}\n/**\r\n * Build an input rule that adds a mark when the\r\n * matched text is typed into it.\r\n */ function markInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            const { tr } = state;\n            const captureGroup = match[match.length - 1];\n            const fullMatch = match[0];\n            if (captureGroup) {\n                const startSpaces = fullMatch.search(/\\S/);\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\n                const textEnd = textStart + captureGroup.length;\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item)=>{\n                    // @ts-ignore\n                    const excluded = item.mark.type.excluded;\n                    return excluded.find((type)=>type === config.type && type !== item.mark.type);\n                }).filter((item)=>item.to > textStart);\n                if (excludedMarks.length) {\n                    return null;\n                }\n                if (textEnd < range.to) {\n                    tr.delete(textEnd, range.to);\n                }\n                if (textStart > range.from) {\n                    tr.delete(range.from + startSpaces, textStart);\n                }\n                const markEnd = range.from + startSpaces + captureGroup.length;\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n                tr.removeStoredMark(config.type);\n            }\n        }\n    });\n}\n/**\r\n * Build an input rule that adds a node when the\r\n * matched text is typed into it.\r\n */ function nodeInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            const { tr } = state;\n            const start = range.from;\n            let end = range.to;\n            const newNode = config.type.create(attributes);\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                let matchStart = start + offset;\n                if (matchStart > end) {\n                    matchStart = end;\n                } else {\n                    end = matchStart + match[1].length;\n                }\n                // insert last typed character\n                const lastChar = match[0][match[0].length - 1];\n                tr.insertText(lastChar, start + match[0].length - 1);\n                // insert node from input rule\n                tr.replaceWith(matchStart, end, newNode);\n            } else if (match[0]) {\n                tr.insert(start - 1, config.type.create(attributes)).delete(tr.mapping.map(start), tr.mapping.map(end));\n            }\n            tr.scrollIntoView();\n        }\n    });\n}\n/**\r\n * Build an input rule that changes the type of a textblock when the\r\n * matched text is typed into it. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n */ function textblockTypeInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const $start = state.doc.resolve(range.from);\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), config.type)) {\n                return null;\n            }\n            state.tr.delete(range.from, range.to).setBlockType(range.from, range.from, config.type, attributes);\n        }\n    });\n}\n/**\r\n * Build an input rule that replaces text when the\r\n * matched text is typed into it.\r\n */ function textInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            let insert = config.replace;\n            let start = range.from;\n            const end = range.to;\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                insert += match[0].slice(offset + match[1].length);\n                start += offset;\n                const cutOff = start - end;\n                if (cutOff > 0) {\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\n                    start = end;\n                }\n            }\n            state.tr.insertText(insert, start, end);\n        }\n    });\n}\n/**\r\n * Build an input rule for automatically wrapping a textblock when a\r\n * given string is typed. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n *\r\n * `type` is the type of node to wrap in.\r\n *\r\n * By default, if there’s a node with the same type above the newly\r\n * wrapped node, the rule will try to join those\r\n * two nodes. You can pass a join predicate, which takes a regular\r\n * expression match and the node before the wrapped node, and can\r\n * return a boolean to indicate whether a join should happen.\r\n */ function wrappingInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match, chain })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            const tr = state.tr.delete(range.from, range.to);\n            const $start = tr.doc.resolve(range.from);\n            const blockRange = $start.blockRange();\n            const wrapping = blockRange && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.findWrapping)(blockRange, config.type, attributes);\n            if (!wrapping) {\n                return null;\n            }\n            tr.wrap(blockRange, wrapping);\n            if (config.keepMarks && config.editor) {\n                const { selection, storedMarks } = state;\n                const { splittableMarks } = config.editor.extensionManager;\n                const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n                if (marks) {\n                    const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n                    tr.ensureMarks(filteredMarks);\n                }\n            }\n            if (config.keepAttributes) {\n                /** If the nodeType is `bulletList` or `orderedList` set the `nodeType` as `listItem` */ const nodeType = config.type.name === \"bulletList\" || config.type.name === \"orderedList\" ? \"listItem\" : \"taskList\";\n                chain().updateAttributes(nodeType, attributes).run();\n            }\n            const before = tr.doc.resolve(range.from - 1).nodeBefore;\n            if (before && before.type === config.type && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, range.from - 1) && (!config.joinPredicate || config.joinPredicate(match, before))) {\n                tr.join(range.from - 1);\n            }\n        }\n    });\n}\nclass Mark {\n    constructor(config = {}){\n        this.type = \"mark\";\n        this.name = \"mark\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Mark(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Mark(extendedConfig);\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    static handleExit({ editor, mark }) {\n        const { tr } = editor.state;\n        const currentPos = editor.state.selection.$from;\n        const isAtEnd = currentPos.pos === currentPos.end();\n        if (isAtEnd) {\n            const currentMarks = currentPos.marks();\n            const isInMark = !!currentMarks.find((m)=>(m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\n            if (!isInMark) {\n                return false;\n            }\n            const removeMark = currentMarks.find((m)=>(m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\n            if (removeMark) {\n                tr.removeStoredMark(removeMark);\n            }\n            tr.insertText(\" \", currentPos.pos);\n            editor.view.dispatch(tr);\n            return true;\n        }\n        return false;\n    }\n}\nclass Node {\n    constructor(config = {}){\n        this.type = \"node\";\n        this.name = \"node\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Node(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Node(extendedConfig);\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n}\nfunction isAndroid() {\n    return navigator.platform === \"Android\" || /android/i.test(navigator.userAgent);\n}\nclass NodeView {\n    constructor(component, props, options){\n        this.isDragging = false;\n        this.component = component;\n        this.editor = props.editor;\n        this.options = {\n            stopEvent: null,\n            ignoreMutation: null,\n            ...options\n        };\n        this.extension = props.extension;\n        this.node = props.node;\n        this.decorations = props.decorations;\n        this.getPos = props.getPos;\n        this.mount();\n    }\n    mount() {\n        // eslint-disable-next-line\n        return;\n    }\n    get dom() {\n        return this.editor.view.dom;\n    }\n    get contentDOM() {\n        return null;\n    }\n    onDragStart(event) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { view } = this.editor;\n        const target = event.target;\n        // get the drag handle element\n        // `closest` is not available for text nodes so we may have to use its parent\n        const dragHandle = target.nodeType === 3 ? (_a = target.parentElement) === null || _a === void 0 ? void 0 : _a.closest(\"[data-drag-handle]\") : target.closest(\"[data-drag-handle]\");\n        if (!this.dom || ((_b = this.contentDOM) === null || _b === void 0 ? void 0 : _b.contains(target)) || !dragHandle) {\n            return;\n        }\n        let x = 0;\n        let y = 0;\n        // calculate offset for drag element if we use a different drag handle element\n        if (this.dom !== dragHandle) {\n            const domBox = this.dom.getBoundingClientRect();\n            const handleBox = dragHandle.getBoundingClientRect();\n            // In React, we have to go through nativeEvent to reach offsetX/offsetY.\n            const offsetX = (_c = event.offsetX) !== null && _c !== void 0 ? _c : (_d = event.nativeEvent) === null || _d === void 0 ? void 0 : _d.offsetX;\n            const offsetY = (_e = event.offsetY) !== null && _e !== void 0 ? _e : (_f = event.nativeEvent) === null || _f === void 0 ? void 0 : _f.offsetY;\n            x = handleBox.x - domBox.x + offsetX;\n            y = handleBox.y - domBox.y + offsetY;\n        }\n        (_g = event.dataTransfer) === null || _g === void 0 ? void 0 : _g.setDragImage(this.dom, x, y);\n        // we need to tell ProseMirror that we want to move the whole node\n        // so we create a NodeSelection\n        const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.create(view.state.doc, this.getPos());\n        const transaction = view.state.tr.setSelection(selection);\n        view.dispatch(transaction);\n    }\n    stopEvent(event) {\n        var _a;\n        if (!this.dom) {\n            return false;\n        }\n        if (typeof this.options.stopEvent === \"function\") {\n            return this.options.stopEvent({\n                event\n            });\n        }\n        const target = event.target;\n        const isInElement = this.dom.contains(target) && !((_a = this.contentDOM) === null || _a === void 0 ? void 0 : _a.contains(target));\n        // any event from child nodes should be handled by ProseMirror\n        if (!isInElement) {\n            return false;\n        }\n        const isDragEvent = event.type.startsWith(\"drag\");\n        const isDropEvent = event.type === \"drop\";\n        const isInput = [\n            \"INPUT\",\n            \"BUTTON\",\n            \"SELECT\",\n            \"TEXTAREA\"\n        ].includes(target.tagName) || target.isContentEditable;\n        // any input event within node views should be ignored by ProseMirror\n        if (isInput && !isDropEvent && !isDragEvent) {\n            return true;\n        }\n        const { isEditable } = this.editor;\n        const { isDragging } = this;\n        const isDraggable = !!this.node.type.spec.draggable;\n        const isSelectable = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.isSelectable(this.node);\n        const isCopyEvent = event.type === \"copy\";\n        const isPasteEvent = event.type === \"paste\";\n        const isCutEvent = event.type === \"cut\";\n        const isClickEvent = event.type === \"mousedown\";\n        // ProseMirror tries to drag selectable nodes\n        // even if `draggable` is set to `false`\n        // this fix prevents that\n        if (!isDraggable && isSelectable && isDragEvent) {\n            event.preventDefault();\n        }\n        if (isDraggable && isDragEvent && !isDragging) {\n            event.preventDefault();\n            return false;\n        }\n        // we have to store that dragging started\n        if (isDraggable && isEditable && !isDragging && isClickEvent) {\n            const dragHandle = target.closest(\"[data-drag-handle]\");\n            const isValidDragHandle = dragHandle && (this.dom === dragHandle || this.dom.contains(dragHandle));\n            if (isValidDragHandle) {\n                this.isDragging = true;\n                document.addEventListener(\"dragend\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n                document.addEventListener(\"drop\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n                document.addEventListener(\"mouseup\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n            }\n        }\n        // these events are handled by prosemirror\n        if (isDragging || isDropEvent || isCopyEvent || isPasteEvent || isCutEvent || isClickEvent && isSelectable) {\n            return false;\n        }\n        return true;\n    }\n    ignoreMutation(mutation) {\n        if (!this.dom || !this.contentDOM) {\n            return true;\n        }\n        if (typeof this.options.ignoreMutation === \"function\") {\n            return this.options.ignoreMutation({\n                mutation\n            });\n        }\n        // a leaf/atom node is like a black box for ProseMirror\n        // and should be fully handled by the node view\n        if (this.node.isLeaf || this.node.isAtom) {\n            return true;\n        }\n        // ProseMirror should handle any selections\n        if (mutation.type === \"selection\") {\n            return false;\n        }\n        // try to prevent a bug on iOS and Android that will break node views on enter\n        // this is because ProseMirror can’t preventDispatch on enter\n        // this will lead to a re-render of the node view on enter\n        // see: https://github.com/ueberdosis/tiptap/issues/1214\n        // see: https://github.com/ueberdosis/tiptap/issues/2534\n        if (this.dom.contains(mutation.target) && mutation.type === \"childList\" && (isiOS() || isAndroid()) && this.editor.isFocused) {\n            const changedNodes = [\n                ...Array.from(mutation.addedNodes),\n                ...Array.from(mutation.removedNodes)\n            ];\n            // we’ll check if every changed node is contentEditable\n            // to make sure it’s probably mutated by ProseMirror\n            if (changedNodes.every((node)=>node.isContentEditable)) {\n                return false;\n            }\n        }\n        // we will allow mutation contentDOM with attributes\n        // so we can for example adding classes within our node view\n        if (this.contentDOM === mutation.target && mutation.type === \"attributes\") {\n            return true;\n        }\n        // ProseMirror should handle any changes within contentDOM\n        if (this.contentDOM.contains(mutation.target)) {\n            return false;\n        }\n        return true;\n    }\n    updateAttributes(attributes) {\n        this.editor.commands.command(({ tr })=>{\n            const pos = this.getPos();\n            tr.setNodeMarkup(pos, undefined, {\n                ...this.node.attrs,\n                ...attributes\n            });\n            return true;\n        });\n    }\n    deleteNode() {\n        const from = this.getPos();\n        const to = from + this.node.nodeSize;\n        this.editor.commands.deleteRange({\n            from,\n            to\n        });\n    }\n}\n/**\r\n * Build an paste rule that adds a mark when the\r\n * matched text is pasted into it.\r\n */ function markPasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler: ({ state, range, match, pasteEvent })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match, pasteEvent);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            const { tr } = state;\n            const captureGroup = match[match.length - 1];\n            const fullMatch = match[0];\n            let markEnd = range.to;\n            if (captureGroup) {\n                const startSpaces = fullMatch.search(/\\S/);\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\n                const textEnd = textStart + captureGroup.length;\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item)=>{\n                    // @ts-ignore\n                    const excluded = item.mark.type.excluded;\n                    return excluded.find((type)=>type === config.type && type !== item.mark.type);\n                }).filter((item)=>item.to > textStart);\n                if (excludedMarks.length) {\n                    return null;\n                }\n                if (textEnd < range.to) {\n                    tr.delete(textEnd, range.to);\n                }\n                if (textStart > range.from) {\n                    tr.delete(range.from + startSpaces, textStart);\n                }\n                markEnd = range.from + startSpaces + captureGroup.length;\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n                tr.removeStoredMark(config.type);\n            }\n        }\n    });\n}\n// source: https://stackoverflow.com/a/6969486\nfunction escapeForRegEx(string) {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\nfunction isString(value) {\n    return typeof value === \"string\";\n}\n/**\r\n * Build an paste rule that adds a node when the\r\n * matched text is pasted into it.\r\n */ function nodePasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler ({ match, chain, range, pasteEvent }) {\n            const attributes = callOrReturn(config.getAttributes, undefined, match, pasteEvent);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            if (match.input) {\n                chain().deleteRange(range).insertContentAt(range.from, {\n                    type: config.type.name,\n                    attrs: attributes\n                });\n            }\n        }\n    });\n}\n/**\r\n * Build an paste rule that replaces text when the\r\n * matched text is pasted into it.\r\n */ function textPasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            let insert = config.replace;\n            let start = range.from;\n            const end = range.to;\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                insert += match[0].slice(offset + match[1].length);\n                start += offset;\n                const cutOff = start - end;\n                if (cutOff > 0) {\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\n                    start = end;\n                }\n            }\n            state.tr.insertText(insert, start, end);\n        }\n    });\n}\nclass Tracker {\n    constructor(transaction){\n        this.transaction = transaction;\n        this.currentStep = this.transaction.steps.length;\n    }\n    map(position) {\n        let deleted = false;\n        const mappedPosition = this.transaction.steps.slice(this.currentStep).reduce((newPosition, step)=>{\n            const mapResult = step.getMap().mapResult(newPosition);\n            if (mapResult.deleted) {\n                deleted = true;\n            }\n            return mapResult.pos;\n        }, position);\n        return {\n            position: mappedPosition,\n            deleted\n        };\n    }\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRztBQUM5RDtBQUNGO0FBQzBEO0FBQ29DO0FBQ29jO0FBQ3pjO0FBRXBJLFNBQVM4RCxxQkFBcUJDLE1BQU07SUFDaEMsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRSxHQUFHRjtJQUMvQixJQUFJLEVBQUVHLFNBQVMsRUFBRSxHQUFHRDtJQUNwQixJQUFJLEVBQUVFLEdBQUcsRUFBRSxHQUFHRjtJQUNkLElBQUksRUFBRUcsV0FBVyxFQUFFLEdBQUdIO0lBQ3RCLE9BQU87UUFDSCxHQUFHRCxLQUFLO1FBQ1JLLE9BQU9MLE1BQU1LLEtBQUssQ0FBQ0MsSUFBSSxDQUFDTjtRQUN4Qk8sa0JBQWtCUCxNQUFNTyxnQkFBZ0IsQ0FBQ0QsSUFBSSxDQUFDTjtRQUM5Q1EsbUJBQW1CUixNQUFNUSxpQkFBaUI7UUFDMUNDLFNBQVNULE1BQU1TLE9BQU87UUFDdEJDLFFBQVFWLE1BQU1VLE1BQU07UUFDcEJDLGFBQWFYLE1BQU1XLFdBQVcsQ0FBQ0wsSUFBSSxDQUFDTjtRQUNwQ1ksUUFBUVosTUFBTVksTUFBTSxDQUFDTixJQUFJLENBQUNOO1FBQzFCLElBQUlJLGVBQWM7WUFDZCxPQUFPQTtRQUNYO1FBQ0EsSUFBSUYsYUFBWTtZQUNaLE9BQU9BO1FBQ1g7UUFDQSxJQUFJQyxPQUFNO1lBQ04sT0FBT0E7UUFDWDtRQUNBLElBQUlVLE1BQUs7WUFDTFgsWUFBWUQsWUFBWUMsU0FBUztZQUNqQ0MsTUFBTUYsWUFBWUUsR0FBRztZQUNyQkMsY0FBY0gsWUFBWUcsV0FBVztZQUNyQyxPQUFPSDtRQUNYO0lBQ0o7QUFDSjtBQUVBLE1BQU1hO0lBQ0ZDLFlBQVlDLEtBQUss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QUFDNmMsVUFBVSxDQUFDN0YsUUFBUXpJLE9BQU9DO1FBQ3ZDO0lBQ0o7QUFDSjtBQUVBLE1BQU15bEI7SUFDRi96QixZQUFZZCxXQUFXLENBQUU7UUFDckIsSUFBSSxDQUFDQSxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQzgwQixXQUFXLEdBQUcsSUFBSSxDQUFDOTBCLFdBQVcsQ0FBQ21OLEtBQUssQ0FBQy9GLE1BQU07SUFDcEQ7SUFDQXpGLElBQUl5WSxRQUFRLEVBQUU7UUFDVixJQUFJMmEsVUFBVTtRQUNkLE1BQU1DLGlCQUFpQixJQUFJLENBQUNoMUIsV0FBVyxDQUFDbU4sS0FBSyxDQUN4QzNCLEtBQUssQ0FBQyxJQUFJLENBQUNzcEIsV0FBVyxFQUN0Qjd1QixNQUFNLENBQUMsQ0FBQ2d2QixhQUFheFk7WUFDdEIsTUFBTXlZLFlBQVl6WSxLQUFLMFksTUFBTSxHQUFHRCxTQUFTLENBQUNEO1lBQzFDLElBQUlDLFVBQVVILE9BQU8sRUFBRTtnQkFDbkJBLFVBQVU7WUFDZDtZQUNBLE9BQU9HLFVBQVVqcUIsR0FBRztRQUN4QixHQUFHbVA7UUFDSCxPQUFPO1lBQ0hBLFVBQVU0YTtZQUNWRDtRQUNKO0lBQ0o7QUFDSjtBQUVvOEMsQ0FDcDhDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9jb3JlL2Rpc3QvaW5kZXguanM/ZTU0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHVnaW4sIFBsdWdpbktleSwgVGV4dFNlbGVjdGlvbiwgU2VsZWN0aW9uLCBOb2RlU2VsZWN0aW9uLCBFZGl0b3JTdGF0ZSB9IGZyb20gJ0B0aXB0YXAvcG0vc3RhdGUnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ0B0aXB0YXAvcG0vdmlldyc7XG5pbXBvcnQgeyBrZXltYXAgfSBmcm9tICdAdGlwdGFwL3BtL2tleW1hcCc7XG5pbXBvcnQgeyBTY2hlbWEsIEZyYWdtZW50LCBET01QYXJzZXIsIERPTVNlcmlhbGl6ZXIsIE5vZGUgYXMgTm9kZSQxLCBTbGljZSB9IGZyb20gJ0B0aXB0YXAvcG0vbW9kZWwnO1xuaW1wb3J0IHsgbGlmdFRhcmdldCwgUmVwbGFjZVN0ZXAsIFJlcGxhY2VBcm91bmRTdGVwLCBqb2luUG9pbnQsIFRyYW5zZm9ybSwgY2FuU3BsaXQsIGNhbkpvaW4sIGZpbmRXcmFwcGluZyB9IGZyb20gJ0B0aXB0YXAvcG0vdHJhbnNmb3JtJztcbmltcG9ydCB7IGNyZWF0ZVBhcmFncmFwaE5lYXIgYXMgY3JlYXRlUGFyYWdyYXBoTmVhciQxLCBkZWxldGVTZWxlY3Rpb24gYXMgZGVsZXRlU2VsZWN0aW9uJDEsIGV4aXRDb2RlIGFzIGV4aXRDb2RlJDEsIGpvaW5VcCBhcyBqb2luVXAkMSwgam9pbkRvd24gYXMgam9pbkRvd24kMSwgam9pbkJhY2t3YXJkIGFzIGpvaW5CYWNrd2FyZCQxLCBqb2luRm9yd2FyZCBhcyBqb2luRm9yd2FyZCQxLCBsaWZ0IGFzIGxpZnQkMSwgbGlmdEVtcHR5QmxvY2sgYXMgbGlmdEVtcHR5QmxvY2skMSwgbmV3bGluZUluQ29kZSBhcyBuZXdsaW5lSW5Db2RlJDEsIHNlbGVjdE5vZGVCYWNrd2FyZCBhcyBzZWxlY3ROb2RlQmFja3dhcmQkMSwgc2VsZWN0Tm9kZUZvcndhcmQgYXMgc2VsZWN0Tm9kZUZvcndhcmQkMSwgc2VsZWN0UGFyZW50Tm9kZSBhcyBzZWxlY3RQYXJlbnROb2RlJDEsIHNlbGVjdFRleHRibG9ja0VuZCBhcyBzZWxlY3RUZXh0YmxvY2tFbmQkMSwgc2VsZWN0VGV4dGJsb2NrU3RhcnQgYXMgc2VsZWN0VGV4dGJsb2NrU3RhcnQkMSwgc2V0QmxvY2tUeXBlLCB3cmFwSW4gYXMgd3JhcEluJDEgfSBmcm9tICdAdGlwdGFwL3BtL2NvbW1hbmRzJztcbmltcG9ydCB7IGxpZnRMaXN0SXRlbSBhcyBsaWZ0TGlzdEl0ZW0kMSwgc2lua0xpc3RJdGVtIGFzIHNpbmtMaXN0SXRlbSQxLCB3cmFwSW5MaXN0IGFzIHdyYXBJbkxpc3QkMSB9IGZyb20gJ0B0aXB0YXAvcG0vc2NoZW1hLWxpc3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVTdGF0ZShjb25maWcpIHtcclxuICAgIGNvbnN0IHsgc3RhdGUsIHRyYW5zYWN0aW9uIH0gPSBjb25maWc7XHJcbiAgICBsZXQgeyBzZWxlY3Rpb24gfSA9IHRyYW5zYWN0aW9uO1xyXG4gICAgbGV0IHsgZG9jIH0gPSB0cmFuc2FjdGlvbjtcclxuICAgIGxldCB7IHN0b3JlZE1hcmtzIH0gPSB0cmFuc2FjdGlvbjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgYXBwbHk6IHN0YXRlLmFwcGx5LmJpbmQoc3RhdGUpLFxyXG4gICAgICAgIGFwcGx5VHJhbnNhY3Rpb246IHN0YXRlLmFwcGx5VHJhbnNhY3Rpb24uYmluZChzdGF0ZSksXHJcbiAgICAgICAgZmlsdGVyVHJhbnNhY3Rpb246IHN0YXRlLmZpbHRlclRyYW5zYWN0aW9uLFxyXG4gICAgICAgIHBsdWdpbnM6IHN0YXRlLnBsdWdpbnMsXHJcbiAgICAgICAgc2NoZW1hOiBzdGF0ZS5zY2hlbWEsXHJcbiAgICAgICAgcmVjb25maWd1cmU6IHN0YXRlLnJlY29uZmlndXJlLmJpbmQoc3RhdGUpLFxyXG4gICAgICAgIHRvSlNPTjogc3RhdGUudG9KU09OLmJpbmQoc3RhdGUpLFxyXG4gICAgICAgIGdldCBzdG9yZWRNYXJrcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlZE1hcmtzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IHNlbGVjdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBkb2MoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb2M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdHIoKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IHRyYW5zYWN0aW9uLnNlbGVjdGlvbjtcclxuICAgICAgICAgICAgZG9jID0gdHJhbnNhY3Rpb24uZG9jO1xyXG4gICAgICAgICAgICBzdG9yZWRNYXJrcyA9IHRyYW5zYWN0aW9uLnN0b3JlZE1hcmtzO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cblxuY2xhc3MgQ29tbWFuZE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IHByb3BzLmVkaXRvcjtcclxuICAgICAgICB0aGlzLnJhd0NvbW1hbmRzID0gdGhpcy5lZGl0b3IuZXh0ZW5zaW9uTWFuYWdlci5jb21tYW5kcztcclxuICAgICAgICB0aGlzLmN1c3RvbVN0YXRlID0gcHJvcHMuc3RhdGU7XHJcbiAgICB9XHJcbiAgICBnZXQgaGFzQ3VzdG9tU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5jdXN0b21TdGF0ZTtcclxuICAgIH1cclxuICAgIGdldCBzdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21TdGF0ZSB8fCB0aGlzLmVkaXRvci5zdGF0ZTtcclxuICAgIH1cclxuICAgIGdldCBjb21tYW5kcygpIHtcclxuICAgICAgICBjb25zdCB7IHJhd0NvbW1hbmRzLCBlZGl0b3IsIHN0YXRlIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHsgdmlldyB9ID0gZWRpdG9yO1xyXG4gICAgICAgIGNvbnN0IHsgdHIgfSA9IHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5idWlsZFByb3BzKHRyKTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJhd0NvbW1hbmRzKS5tYXAoKFtuYW1lLCBjb21tYW5kXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBjb21tYW5kKC4uLmFyZ3MpKHByb3BzKTtcclxuICAgICAgICAgICAgICAgIGlmICghdHIuZ2V0TWV0YSgncHJldmVudERpc3BhdGNoJykgJiYgIXRoaXMuaGFzQ3VzdG9tU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIFtuYW1lLCBtZXRob2RdO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIGdldCBjaGFpbigpIHtcclxuICAgICAgICByZXR1cm4gKCkgPT4gdGhpcy5jcmVhdGVDaGFpbigpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNhbigpIHtcclxuICAgICAgICByZXR1cm4gKCkgPT4gdGhpcy5jcmVhdGVDYW4oKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNoYWluKHN0YXJ0VHIsIHNob3VsZERpc3BhdGNoID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgcmF3Q29tbWFuZHMsIGVkaXRvciwgc3RhdGUgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgeyB2aWV3IH0gPSBlZGl0b3I7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgY29uc3QgaGFzU3RhcnRUcmFuc2FjdGlvbiA9ICEhc3RhcnRUcjtcclxuICAgICAgICBjb25zdCB0ciA9IHN0YXJ0VHIgfHwgc3RhdGUudHI7XHJcbiAgICAgICAgY29uc3QgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhhc1N0YXJ0VHJhbnNhY3Rpb25cclxuICAgICAgICAgICAgICAgICYmIHNob3VsZERpc3BhdGNoXHJcbiAgICAgICAgICAgICAgICAmJiAhdHIuZ2V0TWV0YSgncHJldmVudERpc3BhdGNoJylcclxuICAgICAgICAgICAgICAgICYmICF0aGlzLmhhc0N1c3RvbVN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tzLmV2ZXJ5KGNhbGxiYWNrID0+IGNhbGxiYWNrID09PSB0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGNoYWluID0ge1xyXG4gICAgICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocmF3Q29tbWFuZHMpLm1hcCgoW25hbWUsIGNvbW1hbmRdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFpbmVkQ29tbWFuZCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLmJ1aWxkUHJvcHModHIsIHNob3VsZERpc3BhdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNvbW1hbmQoLi4uYXJncykocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhaW47XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtuYW1lLCBjaGFpbmVkQ29tbWFuZF07XHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgcnVuLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNoYWluO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2FuKHN0YXJ0VHIpIHtcclxuICAgICAgICBjb25zdCB7IHJhd0NvbW1hbmRzLCBzdGF0ZSB9ID0gdGhpcztcclxuICAgICAgICBjb25zdCBkaXNwYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHRyID0gc3RhcnRUciB8fCBzdGF0ZS50cjtcclxuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuYnVpbGRQcm9wcyh0ciwgZGlzcGF0Y2gpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZENvbW1hbmRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJhd0NvbW1hbmRzKS5tYXAoKFtuYW1lLCBjb21tYW5kXSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW25hbWUsICguLi5hcmdzKSA9PiBjb21tYW5kKC4uLmFyZ3MpKHsgLi4ucHJvcHMsIGRpc3BhdGNoOiB1bmRlZmluZWQgfSldO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5mb3JtYXR0ZWRDb21tYW5kcyxcclxuICAgICAgICAgICAgY2hhaW46ICgpID0+IHRoaXMuY3JlYXRlQ2hhaW4odHIsIGRpc3BhdGNoKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgYnVpbGRQcm9wcyh0ciwgc2hvdWxkRGlzcGF0Y2ggPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyByYXdDb21tYW5kcywgZWRpdG9yLCBzdGF0ZSB9ID0gdGhpcztcclxuICAgICAgICBjb25zdCB7IHZpZXcgfSA9IGVkaXRvcjtcclxuICAgICAgICBjb25zdCBwcm9wcyA9IHtcclxuICAgICAgICAgICAgdHIsXHJcbiAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgdmlldyxcclxuICAgICAgICAgICAgc3RhdGU6IGNyZWF0ZUNoYWluYWJsZVN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRyLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgZGlzcGF0Y2g6IHNob3VsZERpc3BhdGNoID8gKCkgPT4gdW5kZWZpbmVkIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBjaGFpbjogKCkgPT4gdGhpcy5jcmVhdGVDaGFpbih0ciwgc2hvdWxkRGlzcGF0Y2gpLFxyXG4gICAgICAgICAgICBjYW46ICgpID0+IHRoaXMuY3JlYXRlQ2FuKHRyKSxcclxuICAgICAgICAgICAgZ2V0IGNvbW1hbmRzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhyYXdDb21tYW5kcykubWFwKChbbmFtZSwgY29tbWFuZF0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW25hbWUsICguLi5hcmdzKSA9PiBjb21tYW5kKC4uLmFyZ3MpKHByb3BzKV07XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcHJvcHM7XHJcbiAgICB9XHJcbn1cblxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge307XHJcbiAgICB9XHJcbiAgICBvbihldmVudCwgZm4pIHtcclxuICAgICAgICBpZiAoIXRoaXMuY2FsbGJhY2tzW2V2ZW50XSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tldmVudF0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3NbZXZlbnRdLnB1c2goZm4pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZW1pdChldmVudCwgLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzW2V2ZW50XTtcclxuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBvZmYoZXZlbnQsIGZuKSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tldmVudF0gPSBjYWxsYmFja3MuZmlsdGVyKGNhbGxiYWNrID0+IGNhbGxiYWNrICE9PSBmbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge307XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCBmaWVsZCwgY29udGV4dCkge1xyXG4gICAgaWYgKGV4dGVuc2lvbi5jb25maWdbZmllbGRdID09PSB1bmRlZmluZWQgJiYgZXh0ZW5zaW9uLnBhcmVudCkge1xyXG4gICAgICAgIHJldHVybiBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24ucGFyZW50LCBmaWVsZCwgY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGV4dGVuc2lvbi5jb25maWdbZmllbGRdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBleHRlbnNpb24uY29uZmlnW2ZpZWxkXS5iaW5kKHtcclxuICAgICAgICAgICAgLi4uY29udGV4dCxcclxuICAgICAgICAgICAgcGFyZW50OiBleHRlbnNpb24ucGFyZW50XHJcbiAgICAgICAgICAgICAgICA/IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbi5wYXJlbnQsIGZpZWxkLCBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHRlbnNpb24uY29uZmlnW2ZpZWxkXTtcclxufVxuXG5mdW5jdGlvbiBzcGxpdEV4dGVuc2lvbnMoZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3QgYmFzZUV4dGVuc2lvbnMgPSBleHRlbnNpb25zLmZpbHRlcihleHRlbnNpb24gPT4gZXh0ZW5zaW9uLnR5cGUgPT09ICdleHRlbnNpb24nKTtcclxuICAgIGNvbnN0IG5vZGVFeHRlbnNpb25zID0gZXh0ZW5zaW9ucy5maWx0ZXIoZXh0ZW5zaW9uID0+IGV4dGVuc2lvbi50eXBlID09PSAnbm9kZScpO1xyXG4gICAgY29uc3QgbWFya0V4dGVuc2lvbnMgPSBleHRlbnNpb25zLmZpbHRlcihleHRlbnNpb24gPT4gZXh0ZW5zaW9uLnR5cGUgPT09ICdtYXJrJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJhc2VFeHRlbnNpb25zLFxyXG4gICAgICAgIG5vZGVFeHRlbnNpb25zLFxyXG4gICAgICAgIG1hcmtFeHRlbnNpb25zLFxyXG4gICAgfTtcclxufVxuXG4vKipcclxuICogR2V0IGEgbGlzdCBvZiBhbGwgZXh0ZW5zaW9uIGF0dHJpYnV0ZXMgZGVmaW5lZCBpbiBgYWRkQXR0cmlidXRlYCBhbmQgYGFkZEdsb2JhbEF0dHJpYnV0ZWAuXHJcbiAqIEBwYXJhbSBleHRlbnNpb25zIExpc3Qgb2YgZXh0ZW5zaW9uc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlc0Zyb21FeHRlbnNpb25zKGV4dGVuc2lvbnMpIHtcclxuICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSBbXTtcclxuICAgIGNvbnN0IHsgbm9kZUV4dGVuc2lvbnMsIG1hcmtFeHRlbnNpb25zIH0gPSBzcGxpdEV4dGVuc2lvbnMoZXh0ZW5zaW9ucyk7XHJcbiAgICBjb25zdCBub2RlQW5kTWFya0V4dGVuc2lvbnMgPSBbLi4ubm9kZUV4dGVuc2lvbnMsIC4uLm1hcmtFeHRlbnNpb25zXTtcclxuICAgIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGUgPSB7XHJcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICByZW5kZXJlZDogdHJ1ZSxcclxuICAgICAgICByZW5kZXJIVE1MOiBudWxsLFxyXG4gICAgICAgIHBhcnNlSFRNTDogbnVsbCxcclxuICAgICAgICBrZWVwT25TcGxpdDogdHJ1ZSxcclxuICAgICAgICBpc1JlcXVpcmVkOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgYWRkR2xvYmFsQXR0cmlidXRlcyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZEdsb2JhbEF0dHJpYnV0ZXMnLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAoIWFkZEdsb2JhbEF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgYGFzIEdsb2JhbEF0dHJpYnV0ZXNgXHJcbiAgICAgICAgY29uc3QgZ2xvYmFsQXR0cmlidXRlcyA9IGFkZEdsb2JhbEF0dHJpYnV0ZXMoKTtcclxuICAgICAgICBnbG9iYWxBdHRyaWJ1dGVzLmZvckVhY2goZ2xvYmFsQXR0cmlidXRlID0+IHtcclxuICAgICAgICAgICAgZ2xvYmFsQXR0cmlidXRlLnR5cGVzLmZvckVhY2godHlwZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAuZW50cmllcyhnbG9iYWxBdHRyaWJ1dGUuYXR0cmlidXRlcylcclxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW25hbWUsIGF0dHJpYnV0ZV0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25BdHRyaWJ1dGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRBdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIG5vZGVBbmRNYXJrRXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGFkZEF0dHJpYnV0ZXMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRBdHRyaWJ1dGVzJywgY29udGV4dCk7XHJcbiAgICAgICAgaWYgKCFhZGRBdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGBhcyBBdHRyaWJ1dGVzYFxyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBhZGRBdHRyaWJ1dGVzKCk7XHJcbiAgICAgICAgT2JqZWN0XHJcbiAgICAgICAgICAgIC5lbnRyaWVzKGF0dHJpYnV0ZXMpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChbbmFtZSwgYXR0cmlidXRlXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXJnZWRBdHRyID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgICAgIC4uLmF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAobWVyZ2VkQXR0ciA9PT0gbnVsbCB8fCBtZXJnZWRBdHRyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXJnZWRBdHRyLmRlZmF1bHQpID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZWRBdHRyLmRlZmF1bHQgPSBtZXJnZWRBdHRyLmRlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG1lcmdlZEF0dHIgPT09IG51bGwgfHwgbWVyZ2VkQXR0ciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVyZ2VkQXR0ci5pc1JlcXVpcmVkKSAmJiAobWVyZ2VkQXR0ciA9PT0gbnVsbCB8fCBtZXJnZWRBdHRyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXJnZWRBdHRyLmRlZmF1bHQpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXJnZWRBdHRyLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXh0ZW5zaW9uQXR0cmlidXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogbWVyZ2VkQXR0cixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBleHRlbnNpb25BdHRyaWJ1dGVzO1xyXG59XG5cbmZ1bmN0aW9uIGdldE5vZGVUeXBlKG5hbWVPclR5cGUsIHNjaGVtYSkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lT3JUeXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmICghc2NoZW1hLm5vZGVzW25hbWVPclR5cGVdKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBUaGVyZSBpcyBubyBub2RlIHR5cGUgbmFtZWQgJyR7bmFtZU9yVHlwZX0nLiBNYXliZSB5b3UgZm9yZ290IHRvIGFkZCB0aGUgZXh0ZW5zaW9uP2ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2NoZW1hLm5vZGVzW25hbWVPclR5cGVdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVPclR5cGU7XHJcbn1cblxuZnVuY3Rpb24gbWVyZ2VBdHRyaWJ1dGVzKC4uLm9iamVjdHMpIHtcclxuICAgIHJldHVybiBvYmplY3RzXHJcbiAgICAgICAgLmZpbHRlcihpdGVtID0+ICEhaXRlbSlcclxuICAgICAgICAucmVkdWNlKChpdGVtcywgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1lcmdlZEF0dHJpYnV0ZXMgPSB7IC4uLml0ZW1zIH07XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoaXRlbSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IG1lcmdlZEF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZEF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQ2xhc3NlcyA9IHZhbHVlID8gdmFsdWUuc3BsaXQoJyAnKSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDbGFzc2VzID0gbWVyZ2VkQXR0cmlidXRlc1trZXldID8gbWVyZ2VkQXR0cmlidXRlc1trZXldLnNwbGl0KCcgJykgOiBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc2VydENsYXNzZXMgPSB2YWx1ZUNsYXNzZXMuZmlsdGVyKHZhbHVlQ2xhc3MgPT4gIWV4aXN0aW5nQ2xhc3Nlcy5pbmNsdWRlcyh2YWx1ZUNsYXNzKSk7XHJcbiAgICAgICAgICAgICAgICBtZXJnZWRBdHRyaWJ1dGVzW2tleV0gPSBbLi4uZXhpc3RpbmdDbGFzc2VzLCAuLi5pbnNlcnRDbGFzc2VzXS5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZWRBdHRyaWJ1dGVzW2tleV0gPSBbbWVyZ2VkQXR0cmlidXRlc1trZXldLCB2YWx1ZV0uam9pbignOyAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZEF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1lcmdlZEF0dHJpYnV0ZXM7XHJcbiAgICB9LCB7fSk7XHJcbn1cblxuZnVuY3Rpb24gZ2V0UmVuZGVyZWRBdHRyaWJ1dGVzKG5vZGVPck1hcmssIGV4dGVuc2lvbkF0dHJpYnV0ZXMpIHtcclxuICAgIHJldHVybiBleHRlbnNpb25BdHRyaWJ1dGVzXHJcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0uYXR0cmlidXRlLnJlbmRlcmVkKVxyXG4gICAgICAgIC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgaWYgKCFpdGVtLmF0dHJpYnV0ZS5yZW5kZXJIVE1MKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBbaXRlbS5uYW1lXTogbm9kZU9yTWFyay5hdHRyc1tpdGVtLm5hbWVdLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbS5hdHRyaWJ1dGUucmVuZGVySFRNTChub2RlT3JNYXJrLmF0dHJzKSB8fCB7fTtcclxuICAgIH0pXHJcbiAgICAgICAgLnJlZHVjZSgoYXR0cmlidXRlcywgYXR0cmlidXRlKSA9PiBtZXJnZUF0dHJpYnV0ZXMoYXR0cmlidXRlcywgYXR0cmlidXRlKSwge30pO1xyXG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cblxuLyoqXHJcbiAqIE9wdGlvbmFsbHkgY2FsbHMgYHZhbHVlYCBhcyBhIGZ1bmN0aW9uLlxyXG4gKiBPdGhlcndpc2UgaXQgaXMgcmV0dXJuZWQgZGlyZWN0bHkuXHJcbiAqIEBwYXJhbSB2YWx1ZSBGdW5jdGlvbiBvciBhbnkgdmFsdWUuXHJcbiAqIEBwYXJhbSBjb250ZXh0IE9wdGlvbmFsIGNvbnRleHQgdG8gYmluZCB0byBmdW5jdGlvbi5cclxuICogQHBhcmFtIHByb3BzIE9wdGlvbmFsIHByb3BzIHRvIHBhc3MgdG8gZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxsT3JSZXR1cm4odmFsdWUsIGNvbnRleHQgPSB1bmRlZmluZWQsIC4uLnByb3BzKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuYmluZChjb250ZXh0KSguLi5wcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZSguLi5wcm9wcyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gaXNFbXB0eU9iamVjdCh2YWx1ZSA9IHt9KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMCAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcodmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGNoKC9eWystXT8oPzpcXGQqXFwuKT9cXGQrJC8pKSB7XHJcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbi8qKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIG1lcmdlcyBleHRlbnNpb24gYXR0cmlidXRlcyBpbnRvIHBhcnNlcnVsZSBhdHRyaWJ1dGVzIChgYXR0cnNgIG9yIGBnZXRBdHRyc2ApLlxyXG4gKiBDYW5jZWxzIHdoZW4gYGdldEF0dHJzYCByZXR1cm5lZCBgZmFsc2VgLlxyXG4gKiBAcGFyYW0gcGFyc2VSdWxlIFByb3NlTWlycm9yIFBhcnNlUnVsZVxyXG4gKiBAcGFyYW0gZXh0ZW5zaW9uQXR0cmlidXRlcyBMaXN0IG9mIGF0dHJpYnV0ZXMgdG8gaW5qZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBpbmplY3RFeHRlbnNpb25BdHRyaWJ1dGVzVG9QYXJzZVJ1bGUocGFyc2VSdWxlLCBleHRlbnNpb25BdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAocGFyc2VSdWxlLnN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlUnVsZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ucGFyc2VSdWxlLFxyXG4gICAgICAgIGdldEF0dHJzOiBub2RlID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQXR0cmlidXRlcyA9IHBhcnNlUnVsZS5nZXRBdHRycyA/IHBhcnNlUnVsZS5nZXRBdHRycyhub2RlKSA6IHBhcnNlUnVsZS5hdHRycztcclxuICAgICAgICAgICAgaWYgKG9sZEF0dHJpYnV0ZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmV3QXR0cmlidXRlcyA9IGV4dGVuc2lvbkF0dHJpYnV0ZXMucmVkdWNlKChpdGVtcywgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtLmF0dHJpYnV0ZS5wYXJzZUhUTUxcclxuICAgICAgICAgICAgICAgICAgICA/IGl0ZW0uYXR0cmlidXRlLnBhcnNlSFRNTChub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIDogZnJvbVN0cmluZyhub2RlLmdldEF0dHJpYnV0ZShpdGVtLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBbaXRlbS5uYW1lXTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLm9sZEF0dHJpYnV0ZXMsIC4uLm5ld0F0dHJpYnV0ZXMgfTtcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBjbGVhblVwU2NoZW1hSXRlbShkYXRhKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgT2JqZWN0LmVudHJpZXMoZGF0YSkuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSAnYXR0cnMnICYmIGlzRW1wdHlPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9KSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0U2NoZW1hQnlSZXNvbHZlZEV4dGVuc2lvbnMoZXh0ZW5zaW9ucywgZWRpdG9yKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCBhbGxBdHRyaWJ1dGVzID0gZ2V0QXR0cmlidXRlc0Zyb21FeHRlbnNpb25zKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgeyBub2RlRXh0ZW5zaW9ucywgbWFya0V4dGVuc2lvbnMgfSA9IHNwbGl0RXh0ZW5zaW9ucyhleHRlbnNpb25zKTtcclxuICAgIGNvbnN0IHRvcE5vZGUgPSAoX2EgPSBub2RlRXh0ZW5zaW9ucy5maW5kKGV4dGVuc2lvbiA9PiBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICd0b3BOb2RlJykpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZTtcclxuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmZyb21FbnRyaWVzKG5vZGVFeHRlbnNpb25zLm1hcChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSBhbGxBdHRyaWJ1dGVzLmZpbHRlcihhdHRyaWJ1dGUgPT4gYXR0cmlidXRlLnR5cGUgPT09IGV4dGVuc2lvbi5uYW1lKTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBleHRyYU5vZGVGaWVsZHMgPSBleHRlbnNpb25zLnJlZHVjZSgoZmllbGRzLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZE5vZGVTY2hlbWEgPSBnZXRFeHRlbnNpb25GaWVsZChlLCAnZXh0ZW5kTm9kZVNjaGVtYScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgLi4uZmllbGRzLFxyXG4gICAgICAgICAgICAgICAgLi4uKGV4dGVuZE5vZGVTY2hlbWEgPyBleHRlbmROb2RlU2NoZW1hKGV4dGVuc2lvbikgOiB7fSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IGNsZWFuVXBTY2hlbWFJdGVtKHtcclxuICAgICAgICAgICAgLi4uZXh0cmFOb2RlRmllbGRzLFxyXG4gICAgICAgICAgICBjb250ZW50OiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnY29udGVudCcsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgbWFya3M6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdtYXJrcycsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgZ3JvdXA6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdncm91cCcsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgaW5saW5lOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnaW5saW5lJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBhdG9tOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYXRvbScsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3NlbGVjdGFibGUnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2RyYWdnYWJsZScsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgY29kZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2NvZGUnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGRlZmluaW5nOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnZGVmaW5pbmcnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGlzb2xhdGluZzogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2lzb2xhdGluZycsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgYXR0cnM6IE9iamVjdC5mcm9tRW50cmllcyhleHRlbnNpb25BdHRyaWJ1dGVzLm1hcChleHRlbnNpb25BdHRyaWJ1dGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtleHRlbnNpb25BdHRyaWJ1dGUubmFtZSwgeyBkZWZhdWx0OiAoX2EgPSBleHRlbnNpb25BdHRyaWJ1dGUgPT09IG51bGwgfHwgZXh0ZW5zaW9uQXR0cmlidXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBleHRlbnNpb25BdHRyaWJ1dGUuYXR0cmlidXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVmYXVsdCB9XTtcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhcnNlSFRNTCA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdwYXJzZUhUTUwnLCBjb250ZXh0KSk7XHJcbiAgICAgICAgaWYgKHBhcnNlSFRNTCkge1xyXG4gICAgICAgICAgICBzY2hlbWEucGFyc2VET00gPSBwYXJzZUhUTUwubWFwKHBhcnNlUnVsZSA9PiBpbmplY3RFeHRlbnNpb25BdHRyaWJ1dGVzVG9QYXJzZVJ1bGUocGFyc2VSdWxlLCBleHRlbnNpb25BdHRyaWJ1dGVzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlbmRlckhUTUwgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdyZW5kZXJIVE1MJywgY29udGV4dCk7XHJcbiAgICAgICAgaWYgKHJlbmRlckhUTUwpIHtcclxuICAgICAgICAgICAgc2NoZW1hLnRvRE9NID0gbm9kZSA9PiByZW5kZXJIVE1MKHtcclxuICAgICAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgICAgICBIVE1MQXR0cmlidXRlczogZ2V0UmVuZGVyZWRBdHRyaWJ1dGVzKG5vZGUsIGV4dGVuc2lvbkF0dHJpYnV0ZXMpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVuZGVyVGV4dCA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3JlbmRlclRleHQnLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAocmVuZGVyVGV4dCkge1xyXG4gICAgICAgICAgICBzY2hlbWEudG9UZXh0ID0gcmVuZGVyVGV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtleHRlbnNpb24ubmFtZSwgc2NoZW1hXTtcclxuICAgIH0pKTtcclxuICAgIGNvbnN0IG1hcmtzID0gT2JqZWN0LmZyb21FbnRyaWVzKG1hcmtFeHRlbnNpb25zLm1hcChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSBhbGxBdHRyaWJ1dGVzLmZpbHRlcihhdHRyaWJ1dGUgPT4gYXR0cmlidXRlLnR5cGUgPT09IGV4dGVuc2lvbi5uYW1lKTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBleHRyYU1hcmtGaWVsZHMgPSBleHRlbnNpb25zLnJlZHVjZSgoZmllbGRzLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZE1hcmtTY2hlbWEgPSBnZXRFeHRlbnNpb25GaWVsZChlLCAnZXh0ZW5kTWFya1NjaGVtYScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgLi4uZmllbGRzLFxyXG4gICAgICAgICAgICAgICAgLi4uKGV4dGVuZE1hcmtTY2hlbWEgPyBleHRlbmRNYXJrU2NoZW1hKGV4dGVuc2lvbikgOiB7fSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IGNsZWFuVXBTY2hlbWFJdGVtKHtcclxuICAgICAgICAgICAgLi4uZXh0cmFNYXJrRmllbGRzLFxyXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdpbmNsdXNpdmUnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGV4Y2x1ZGVzOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnZXhjbHVkZXMnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGdyb3VwOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnZ3JvdXAnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIHNwYW5uaW5nOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnc3Bhbm5pbmcnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGNvZGU6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdjb2RlJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBhdHRyczogT2JqZWN0LmZyb21FbnRyaWVzKGV4dGVuc2lvbkF0dHJpYnV0ZXMubWFwKGV4dGVuc2lvbkF0dHJpYnV0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2V4dGVuc2lvbkF0dHJpYnV0ZS5uYW1lLCB7IGRlZmF1bHQ6IChfYSA9IGV4dGVuc2lvbkF0dHJpYnV0ZSA9PT0gbnVsbCB8fCBleHRlbnNpb25BdHRyaWJ1dGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4dGVuc2lvbkF0dHJpYnV0ZS5hdHRyaWJ1dGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWZhdWx0IH1dO1xyXG4gICAgICAgICAgICB9KSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgcGFyc2VIVE1MID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3BhcnNlSFRNTCcsIGNvbnRleHQpKTtcclxuICAgICAgICBpZiAocGFyc2VIVE1MKSB7XHJcbiAgICAgICAgICAgIHNjaGVtYS5wYXJzZURPTSA9IHBhcnNlSFRNTC5tYXAocGFyc2VSdWxlID0+IGluamVjdEV4dGVuc2lvbkF0dHJpYnV0ZXNUb1BhcnNlUnVsZShwYXJzZVJ1bGUsIGV4dGVuc2lvbkF0dHJpYnV0ZXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVuZGVySFRNTCA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3JlbmRlckhUTUwnLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAocmVuZGVySFRNTCkge1xyXG4gICAgICAgICAgICBzY2hlbWEudG9ET00gPSBtYXJrID0+IHJlbmRlckhUTUwoe1xyXG4gICAgICAgICAgICAgICAgbWFyayxcclxuICAgICAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiBnZXRSZW5kZXJlZEF0dHJpYnV0ZXMobWFyaywgZXh0ZW5zaW9uQXR0cmlidXRlcyksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2V4dGVuc2lvbi5uYW1lLCBzY2hlbWFdO1xyXG4gICAgfSkpO1xyXG4gICAgcmV0dXJuIG5ldyBTY2hlbWEoe1xyXG4gICAgICAgIHRvcE5vZGUsXHJcbiAgICAgICAgbm9kZXMsXHJcbiAgICAgICAgbWFya3MsXHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBnZXRTY2hlbWFUeXBlQnlOYW1lKG5hbWUsIHNjaGVtYSkge1xyXG4gICAgcmV0dXJuIHNjaGVtYS5ub2Rlc1tuYW1lXSB8fCBzY2hlbWEubWFya3NbbmFtZV0gfHwgbnVsbDtcclxufVxuXG5mdW5jdGlvbiBpc0V4dGVuc2lvblJ1bGVzRW5hYmxlZChleHRlbnNpb24sIGVuYWJsZWQpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGVuYWJsZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGVuYWJsZWQuc29tZShlbmFibGVkRXh0ZW5zaW9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHR5cGVvZiBlbmFibGVkRXh0ZW5zaW9uID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgPyBlbmFibGVkRXh0ZW5zaW9uXHJcbiAgICAgICAgICAgICAgICA6IGVuYWJsZWRFeHRlbnNpb24ubmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IGV4dGVuc2lvbi5uYW1lO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVuYWJsZWQ7XHJcbn1cblxuY29uc3QgZ2V0VGV4dENvbnRlbnRGcm9tTm9kZXMgPSAoJGZyb20sIG1heE1hdGNoID0gNTAwKSA9PiB7XHJcbiAgICBsZXQgdGV4dEJlZm9yZSA9ICcnO1xyXG4gICAgY29uc3Qgc2xpY2VFbmRQb3MgPSAkZnJvbS5wYXJlbnRPZmZzZXQ7XHJcbiAgICAkZnJvbS5wYXJlbnQubm9kZXNCZXR3ZWVuKE1hdGgubWF4KDAsIHNsaWNlRW5kUG9zIC0gbWF4TWF0Y2gpLCBzbGljZUVuZFBvcywgKG5vZGUsIHBvcywgcGFyZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgY29uc3QgY2h1bmsgPSAoKF9iID0gKF9hID0gbm9kZS50eXBlLnNwZWMpLnRvVGV4dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHtcclxuICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgcG9zLFxyXG4gICAgICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgICAgICB8fCBub2RlLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgIHx8ICclbGVhZiUnO1xyXG4gICAgICAgIHRleHRCZWZvcmUgKz0gY2h1bmsuc2xpY2UoMCwgTWF0aC5tYXgoMCwgc2xpY2VFbmRQb3MgLSBwb3MpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRleHRCZWZvcmU7XHJcbn07XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XHJcbn1cblxuY2xhc3MgSW5wdXRSdWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuZmluZCA9IGNvbmZpZy5maW5kO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGNvbmZpZy5oYW5kbGVyO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlucHV0UnVsZU1hdGNoZXJIYW5kbGVyID0gKHRleHQsIGZpbmQpID0+IHtcclxuICAgIGlmIChpc1JlZ0V4cChmaW5kKSkge1xyXG4gICAgICAgIHJldHVybiBmaW5kLmV4ZWModGV4dCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnB1dFJ1bGVNYXRjaCA9IGZpbmQodGV4dCk7XHJcbiAgICBpZiAoIWlucHV0UnVsZU1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBbaW5wdXRSdWxlTWF0Y2gudGV4dF07XHJcbiAgICByZXN1bHQuaW5kZXggPSBpbnB1dFJ1bGVNYXRjaC5pbmRleDtcclxuICAgIHJlc3VsdC5pbnB1dCA9IHRleHQ7XHJcbiAgICByZXN1bHQuZGF0YSA9IGlucHV0UnVsZU1hdGNoLmRhdGE7XHJcbiAgICBpZiAoaW5wdXRSdWxlTWF0Y2gucmVwbGFjZVdpdGgpIHtcclxuICAgICAgICBpZiAoIWlucHV0UnVsZU1hdGNoLnRleHQuaW5jbHVkZXMoaW5wdXRSdWxlTWF0Y2gucmVwbGFjZVdpdGgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW3RpcHRhcCB3YXJuXTogXCJpbnB1dFJ1bGVNYXRjaC5yZXBsYWNlV2l0aFwiIG11c3QgYmUgcGFydCBvZiBcImlucHV0UnVsZU1hdGNoLnRleHRcIi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0LnB1c2goaW5wdXRSdWxlTWF0Y2gucmVwbGFjZVdpdGgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuZnVuY3Rpb24gcnVuJDEoY29uZmlnKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCB7IGVkaXRvciwgZnJvbSwgdG8sIHRleHQsIHJ1bGVzLCBwbHVnaW4sIH0gPSBjb25maWc7XHJcbiAgICBjb25zdCB7IHZpZXcgfSA9IGVkaXRvcjtcclxuICAgIGlmICh2aWV3LmNvbXBvc2luZykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0ICRmcm9tID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShmcm9tKTtcclxuICAgIGlmIChcclxuICAgIC8vIGNoZWNrIGZvciBjb2RlIG5vZGVcclxuICAgICRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZVxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBjb2RlIG1hcmtcclxuICAgICAgICB8fCAhISgoX2EgPSAoJGZyb20ubm9kZUJlZm9yZSB8fCAkZnJvbS5ub2RlQWZ0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFya3MuZmluZChtYXJrID0+IG1hcmsudHlwZS5zcGVjLmNvZGUpKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCBtYXRjaGVkID0gZmFsc2U7XHJcbiAgICBjb25zdCB0ZXh0QmVmb3JlID0gZ2V0VGV4dENvbnRlbnRGcm9tTm9kZXMoJGZyb20pICsgdGV4dDtcclxuICAgIHJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XHJcbiAgICAgICAgaWYgKG1hdGNoZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtYXRjaCA9IGlucHV0UnVsZU1hdGNoZXJIYW5kbGVyKHRleHRCZWZvcmUsIHJ1bGUuZmluZCk7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRyID0gdmlldy5zdGF0ZS50cjtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZUNoYWluYWJsZVN0YXRlKHtcclxuICAgICAgICAgICAgc3RhdGU6IHZpZXcuc3RhdGUsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB0cixcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHtcclxuICAgICAgICAgICAgZnJvbTogZnJvbSAtIChtYXRjaFswXS5sZW5ndGggLSB0ZXh0Lmxlbmd0aCksXHJcbiAgICAgICAgICAgIHRvLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgeyBjb21tYW5kcywgY2hhaW4sIGNhbiB9ID0gbmV3IENvbW1hbmRNYW5hZ2VyKHtcclxuICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gcnVsZS5oYW5kbGVyKHtcclxuICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgIHJhbmdlLFxyXG4gICAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgICAgY29tbWFuZHMsXHJcbiAgICAgICAgICAgIGNoYWluLFxyXG4gICAgICAgICAgICBjYW4sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gc3RvcCBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlc1xyXG4gICAgICAgIGlmIChoYW5kbGVyID09PSBudWxsIHx8ICF0ci5zdGVwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdG9yZSB0cmFuc2Zvcm0gYXMgbWV0YSBkYXRhXHJcbiAgICAgICAgLy8gc28gd2UgY2FuIHVuZG8gaW5wdXQgcnVsZXMgd2l0aGluIHRoZSBgdW5kb0lucHV0UnVsZXNgIGNvbW1hbmRcclxuICAgICAgICB0ci5zZXRNZXRhKHBsdWdpbiwge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyLFxyXG4gICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICB0byxcclxuICAgICAgICAgICAgdGV4dCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcclxuICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG1hdGNoZWQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhbiBpbnB1dCBydWxlcyBwbHVnaW4uIFdoZW4gZW5hYmxlZCwgaXQgd2lsbCBjYXVzZSB0ZXh0XHJcbiAqIGlucHV0IHRoYXQgbWF0Y2hlcyBhbnkgb2YgdGhlIGdpdmVuIHJ1bGVzIHRvIHRyaWdnZXIgdGhlIHJ1bGXigJlzXHJcbiAqIGFjdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGlucHV0UnVsZXNQbHVnaW4ocHJvcHMpIHtcclxuICAgIGNvbnN0IHsgZWRpdG9yLCBydWxlcyB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBwbHVnaW4gPSBuZXcgUGx1Z2luKHtcclxuICAgICAgICBzdGF0ZToge1xyXG4gICAgICAgICAgICBpbml0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFwcGx5KHRyLCBwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSB0ci5nZXRNZXRhKHBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0ci5zZWxlY3Rpb25TZXQgfHwgdHIuZG9jQ2hhbmdlZCA/IG51bGwgOiBwcmV2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgaGFuZGxlVGV4dElucHV0KHZpZXcsIGZyb20sIHRvLCB0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVuJDEoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZURPTUV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25lbmQ6IHZpZXcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7ICRjdXJzb3IgfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuJDEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAkY3Vyc29yLnBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogJGN1cnNvci5wb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBhZGQgc3VwcG9ydCBmb3IgaW5wdXQgcnVsZXMgdG8gdHJpZ2dlciBvbiBlbnRlclxyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHVzZWZ1bCBmb3IgZXhhbXBsZSBmb3IgY29kZSBibG9ja3NcclxuICAgICAgICAgICAgaGFuZGxlS2V5RG93bih2aWV3LCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgJGN1cnNvciB9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpZiAoJGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW4kMSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJGN1cnNvci5wb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAkY3Vyc29yLnBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1xcbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaXNJbnB1dFJ1bGVzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcGx1Z2luO1xyXG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcclxufVxuXG5jbGFzcyBQYXN0ZVJ1bGUge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5maW5kID0gY29uZmlnLmZpbmQ7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gY29uZmlnLmhhbmRsZXI7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgcGFzdGVSdWxlTWF0Y2hlckhhbmRsZXIgPSAodGV4dCwgZmluZCkgPT4ge1xyXG4gICAgaWYgKGlzUmVnRXhwKGZpbmQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50ZXh0Lm1hdGNoQWxsKGZpbmQpXTtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hdGNoZXMgPSBmaW5kKHRleHQpO1xyXG4gICAgaWYgKCFtYXRjaGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hdGNoZXMubWFwKHBhc3RlUnVsZU1hdGNoID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbcGFzdGVSdWxlTWF0Y2gudGV4dF07XHJcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gcGFzdGVSdWxlTWF0Y2guaW5kZXg7XHJcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gdGV4dDtcclxuICAgICAgICByZXN1bHQuZGF0YSA9IHBhc3RlUnVsZU1hdGNoLmRhdGE7XHJcbiAgICAgICAgaWYgKHBhc3RlUnVsZU1hdGNoLnJlcGxhY2VXaXRoKSB7XHJcbiAgICAgICAgICAgIGlmICghcGFzdGVSdWxlTWF0Y2gudGV4dC5pbmNsdWRlcyhwYXN0ZVJ1bGVNYXRjaC5yZXBsYWNlV2l0aCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW3RpcHRhcCB3YXJuXTogXCJwYXN0ZVJ1bGVNYXRjaC5yZXBsYWNlV2l0aFwiIG11c3QgYmUgcGFydCBvZiBcInBhc3RlUnVsZU1hdGNoLnRleHRcIi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChwYXN0ZVJ1bGVNYXRjaC5yZXBsYWNlV2l0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxufTtcclxuZnVuY3Rpb24gcnVuKGNvbmZpZykge1xyXG4gICAgY29uc3QgeyBlZGl0b3IsIHN0YXRlLCBmcm9tLCB0bywgcnVsZSwgcGFzdGVFdmVudCwgZHJvcEV2ZW50LCB9ID0gY29uZmlnO1xyXG4gICAgY29uc3QgeyBjb21tYW5kcywgY2hhaW4sIGNhbiB9ID0gbmV3IENvbW1hbmRNYW5hZ2VyKHtcclxuICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgc3RhdGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGhhbmRsZXJzID0gW107XHJcbiAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgaWYgKCFub2RlLmlzVGV4dGJsb2NrIHx8IG5vZGUudHlwZS5zcGVjLmNvZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNvbHZlZEZyb20gPSBNYXRoLm1heChmcm9tLCBwb3MpO1xyXG4gICAgICAgIGNvbnN0IHJlc29sdmVkVG8gPSBNYXRoLm1pbih0bywgcG9zICsgbm9kZS5jb250ZW50LnNpemUpO1xyXG4gICAgICAgIGNvbnN0IHRleHRUb01hdGNoID0gbm9kZS50ZXh0QmV0d2VlbihyZXNvbHZlZEZyb20gLSBwb3MsIHJlc29sdmVkVG8gLSBwb3MsIHVuZGVmaW5lZCwgJ1xcdWZmZmMnKTtcclxuICAgICAgICBjb25zdCBtYXRjaGVzID0gcGFzdGVSdWxlTWF0Y2hlckhhbmRsZXIodGV4dFRvTWF0Y2gsIHJ1bGUuZmluZCk7XHJcbiAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcclxuICAgICAgICAgICAgaWYgKG1hdGNoLmluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHJlc29sdmVkRnJvbSArIG1hdGNoLmluZGV4ICsgMTtcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBtYXRjaFswXS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogc3RhdGUudHIubWFwcGluZy5tYXAoc3RhcnQpLFxyXG4gICAgICAgICAgICAgICAgdG86IHN0YXRlLnRyLm1hcHBpbmcubWFwKGVuZCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBydWxlLmhhbmRsZXIoe1xyXG4gICAgICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgICAgICByYW5nZSxcclxuICAgICAgICAgICAgICAgIG1hdGNoLFxyXG4gICAgICAgICAgICAgICAgY29tbWFuZHMsXHJcbiAgICAgICAgICAgICAgICBjaGFpbixcclxuICAgICAgICAgICAgICAgIGNhbixcclxuICAgICAgICAgICAgICAgIHBhc3RlRXZlbnQsXHJcbiAgICAgICAgICAgICAgICBkcm9wRXZlbnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdWNjZXNzID0gaGFuZGxlcnMuZXZlcnkoaGFuZGxlciA9PiBoYW5kbGVyICE9PSBudWxsKTtcclxuICAgIHJldHVybiBzdWNjZXNzO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYW4gcGFzdGUgcnVsZXMgcGx1Z2luLiBXaGVuIGVuYWJsZWQsIGl0IHdpbGwgY2F1c2UgcGFzdGVkXHJcbiAqIHRleHQgdGhhdCBtYXRjaGVzIGFueSBvZiB0aGUgZ2l2ZW4gcnVsZXMgdG8gdHJpZ2dlciB0aGUgcnVsZeKAmXNcclxuICogYWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFzdGVSdWxlc1BsdWdpbihwcm9wcykge1xyXG4gICAgY29uc3QgeyBlZGl0b3IsIHJ1bGVzIH0gPSBwcm9wcztcclxuICAgIGxldCBkcmFnU291cmNlRWxlbWVudCA9IG51bGw7XHJcbiAgICBsZXQgaXNQYXN0ZWRGcm9tUHJvc2VNaXJyb3IgPSBmYWxzZTtcclxuICAgIGxldCBpc0Ryb3BwZWRGcm9tUHJvc2VNaXJyb3IgPSBmYWxzZTtcclxuICAgIGxldCBwYXN0ZUV2ZW50ID0gbmV3IENsaXBib2FyZEV2ZW50KCdwYXN0ZScpO1xyXG4gICAgbGV0IGRyb3BFdmVudCA9IG5ldyBEcmFnRXZlbnQoJ2Ryb3AnKTtcclxuICAgIGNvbnN0IHBsdWdpbnMgPSBydWxlcy5tYXAocnVsZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgICAgICAvLyB3ZSByZWdpc3RlciBhIGdsb2JhbCBkcmFnIGhhbmRsZXIgdG8gdHJhY2sgdGhlIGN1cnJlbnQgZHJhZyBzb3VyY2UgZWxlbWVudFxyXG4gICAgICAgICAgICB2aWV3KHZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyYWdzdGFydCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnU291cmNlRWxlbWVudCA9ICgoX2EgPSB2aWV3LmRvbS5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZXZlbnQudGFyZ2V0KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB2aWV3LmRvbS5wYXJlbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBkcm9wOiAodmlldywgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEcm9wcGVkRnJvbVByb3NlTWlycm9yID0gZHJhZ1NvdXJjZUVsZW1lbnQgPT09IHZpZXcuZG9tLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBwYXN0ZTogKF92aWV3LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAoX2EgPSBldmVudC5jbGlwYm9hcmREYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0RGF0YSgndGV4dC9odG1sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3RlRXZlbnQgPSBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXN0ZWRGcm9tUHJvc2VNaXJyb3IgPSAhIShodG1sID09PSBudWxsIHx8IGh0bWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGh0bWwuaW5jbHVkZXMoJ2RhdGEtcG0tc2xpY2UnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXBwZW5kVHJhbnNhY3Rpb246ICh0cmFuc2FjdGlvbnMsIG9sZFN0YXRlLCBzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbnNbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3RlID0gdHJhbnNhY3Rpb24uZ2V0TWV0YSgndWlFdmVudCcpID09PSAncGFzdGUnICYmICFpc1Bhc3RlZEZyb21Qcm9zZU1pcnJvcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRHJvcCA9IHRyYW5zYWN0aW9uLmdldE1ldGEoJ3VpRXZlbnQnKSA9PT0gJ2Ryb3AnICYmICFpc0Ryb3BwZWRGcm9tUHJvc2VNaXJyb3I7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUGFzdGUgJiYgIWlzRHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHN0b3AgaWYgdGhlcmUgaXMgbm8gY2hhbmdlZCByYW5nZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IG9sZFN0YXRlLmRvYy5jb250ZW50LmZpbmREaWZmU3RhcnQoc3RhdGUuZG9jLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG8gPSBvbGRTdGF0ZS5kb2MuY29udGVudC5maW5kRGlmZkVuZChzdGF0ZS5kb2MuY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTnVtYmVyKGZyb20pIHx8ICF0byB8fCBmcm9tID09PSB0by5iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYnVpbGQgYSBjaGFpbmFibGUgc3RhdGVcclxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGNhbiB1c2UgYSBzaW5nbGUgdHJhbnNhY3Rpb24gZm9yIGFsbCBwYXN0ZSBydWxlc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHIgPSBzdGF0ZS50cjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluYWJsZVN0YXRlID0gY3JlYXRlQ2hhaW5hYmxlU3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB0cixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHJ1bih7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBjaGFpbmFibGVTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBNYXRoLm1heChmcm9tIC0gMSwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgdG86IHRvLmIgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzdGVFdmVudCxcclxuICAgICAgICAgICAgICAgICAgICBkcm9wRXZlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHN0b3AgaWYgdGhlcmUgYXJlIG5vIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlciB8fCAhdHIuc3RlcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJvcEV2ZW50ID0gbmV3IERyYWdFdmVudCgnZHJvcCcpO1xyXG4gICAgICAgICAgICAgICAgcGFzdGVFdmVudCA9IG5ldyBDbGlwYm9hcmRFdmVudCgncGFzdGUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHBsdWdpbnM7XHJcbn1cblxuZnVuY3Rpb24gZmluZER1cGxpY2F0ZXMoaXRlbXMpIHtcclxuICAgIGNvbnN0IGZpbHRlcmVkID0gaXRlbXMuZmlsdGVyKChlbCwgaW5kZXgpID0+IGl0ZW1zLmluZGV4T2YoZWwpICE9PSBpbmRleCk7XHJcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoZmlsdGVyZWQpXTtcclxufVxuXG5jbGFzcyBFeHRlbnNpb25NYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGV4dGVuc2lvbnMsIGVkaXRvcikge1xyXG4gICAgICAgIHRoaXMuc3BsaXR0YWJsZU1hcmtzID0gW107XHJcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gRXh0ZW5zaW9uTWFuYWdlci5yZXNvbHZlKGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIHRoaXMuc2NoZW1hID0gZ2V0U2NoZW1hQnlSZXNvbHZlZEV4dGVuc2lvbnModGhpcy5leHRlbnNpb25zLCBlZGl0b3IpO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgLy8gc3RvcmUgZXh0ZW5zaW9uIHN0b3JhZ2UgaW4gZWRpdG9yXHJcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmV4dGVuc2lvblN0b3JhZ2VbZXh0ZW5zaW9uLm5hbWVdID0gZXh0ZW5zaW9uLnN0b3JhZ2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogZ2V0U2NoZW1hVHlwZUJ5TmFtZShleHRlbnNpb24ubmFtZSwgdGhpcy5zY2hlbWEpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW5zaW9uLnR5cGUgPT09ICdtYXJrJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2VlcE9uU3BsaXQgPSAoX2EgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAna2VlcE9uU3BsaXQnLCBjb250ZXh0KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2VlcE9uU3BsaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGl0dGFibGVNYXJrcy5wdXNoKGV4dGVuc2lvbi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkJlZm9yZUNyZWF0ZSA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uQmVmb3JlQ3JlYXRlJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvbkJlZm9yZUNyZWF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ2JlZm9yZUNyZWF0ZScsIG9uQmVmb3JlQ3JlYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkNyZWF0ZSA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uQ3JlYXRlJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvbkNyZWF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ2NyZWF0ZScsIG9uQ3JlYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvblVwZGF0ZSA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uVXBkYXRlJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvblVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ3VwZGF0ZScsIG9uVXBkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvblNlbGVjdGlvblVwZGF0ZSA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uU2VsZWN0aW9uVXBkYXRlJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvblNlbGVjdGlvblVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ3NlbGVjdGlvblVwZGF0ZScsIG9uU2VsZWN0aW9uVXBkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvblRyYW5zYWN0aW9uID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnb25UcmFuc2FjdGlvbicsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25UcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ3RyYW5zYWN0aW9uJywgb25UcmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25Gb2N1cyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uRm9jdXMnLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKG9uRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCdmb2N1cycsIG9uRm9jdXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9uQmx1ciA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uQmx1cicsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25CbHVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5vbignYmx1cicsIG9uQmx1cik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25EZXN0cm95ID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnb25EZXN0cm95JywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvbkRlc3Ryb3kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCdkZXN0cm95Jywgb25EZXN0cm95KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHJlc29sdmUoZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGNvbnN0IHJlc29sdmVkRXh0ZW5zaW9ucyA9IEV4dGVuc2lvbk1hbmFnZXIuc29ydChFeHRlbnNpb25NYW5hZ2VyLmZsYXR0ZW4oZXh0ZW5zaW9ucykpO1xyXG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZWROYW1lcyA9IGZpbmREdXBsaWNhdGVzKHJlc29sdmVkRXh0ZW5zaW9ucy5tYXAoZXh0ZW5zaW9uID0+IGV4dGVuc2lvbi5uYW1lKSk7XHJcbiAgICAgICAgaWYgKGR1cGxpY2F0ZWROYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBEdXBsaWNhdGUgZXh0ZW5zaW9uIG5hbWVzIGZvdW5kOiBbJHtkdXBsaWNhdGVkTmFtZXNcclxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiBgJyR7aXRlbX0nYClcclxuICAgICAgICAgICAgICAgIC5qb2luKCcsICcpfV0uIFRoaXMgY2FuIGxlYWQgdG8gaXNzdWVzLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRFeHRlbnNpb25zO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZsYXR0ZW4oZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIHJldHVybiAoZXh0ZW5zaW9uc1xyXG4gICAgICAgICAgICAubWFwKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZEV4dGVuc2lvbnMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRFeHRlbnNpb25zJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChhZGRFeHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2V4dGVuc2lvbiwgLi4udGhpcy5mbGF0dGVuKGFkZEV4dGVuc2lvbnMoKSldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBleHRlbnNpb247XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gYEluZmluaXR5YCB3aWxsIGJyZWFrIFR5cGVTY3JpcHQgc28gd2Ugc2V0IGEgbnVtYmVyIHRoYXQgaXMgcHJvYmFibHkgaGlnaCBlbm91Z2hcclxuICAgICAgICAgICAgLmZsYXQoMTApKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBzb3J0KGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0UHJpb3JpdHkgPSAxMDA7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcmlvcml0eUEgPSBnZXRFeHRlbnNpb25GaWVsZChhLCAncHJpb3JpdHknKSB8fCBkZWZhdWx0UHJpb3JpdHk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByaW9yaXR5QiA9IGdldEV4dGVuc2lvbkZpZWxkKGIsICdwcmlvcml0eScpIHx8IGRlZmF1bHRQcmlvcml0eTtcclxuICAgICAgICAgICAgaWYgKHByaW9yaXR5QSA+IHByaW9yaXR5Qikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcmlvcml0eUEgPCBwcmlvcml0eUIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnMucmVkdWNlKChjb21tYW5kcywgZXh0ZW5zaW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogZ2V0U2NoZW1hVHlwZUJ5TmFtZShleHRlbnNpb24ubmFtZSwgdGhpcy5zY2hlbWEpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBhZGRDb21tYW5kcyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZENvbW1hbmRzJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmICghYWRkQ29tbWFuZHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgLi4uY29tbWFuZHMsXHJcbiAgICAgICAgICAgICAgICAuLi5hZGRDb21tYW5kcygpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuICAgIGdldCBwbHVnaW5zKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZWRpdG9yIH0gPSB0aGlzO1xyXG4gICAgICAgIC8vIFdpdGggUHJvc2VNaXJyb3IsIGZpcnN0IHBsdWdpbnMgd2l0aGluIGFuIGFycmF5IGFyZSBleGVjdXRlZCBmaXJzdC5cclxuICAgICAgICAvLyBJbiBUaXB0YXAsIHdlIHByb3ZpZGUgdGhlIGFiaWxpdHkgdG8gb3ZlcnJpZGUgcGx1Z2lucyxcclxuICAgICAgICAvLyBzbyBpdCBmZWVscyBtb3JlIG5hdHVyYWwgdG8gcnVuIHBsdWdpbnMgYXQgdGhlIGVuZCBvZiBhbiBhcnJheSBmaXJzdC5cclxuICAgICAgICAvLyBUaGF04oCZcyB3aHkgd2UgaGF2ZSB0byByZXZlcnNlIHRoZSBgZXh0ZW5zaW9uc2AgYXJyYXkgYW5kIHNvcnQgYWdhaW5cclxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgYHByaW9yaXR5YCBvcHRpb24uXHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IEV4dGVuc2lvbk1hbmFnZXIuc29ydChbLi4udGhpcy5leHRlbnNpb25zXS5yZXZlcnNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UnVsZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBwYXN0ZVJ1bGVzID0gW107XHJcbiAgICAgICAgY29uc3QgYWxsUGx1Z2lucyA9IGV4dGVuc2lvbnNcclxuICAgICAgICAgICAgLm1hcChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogZ2V0U2NoZW1hVHlwZUJ5TmFtZShleHRlbnNpb24ubmFtZSwgdGhpcy5zY2hlbWEpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5zID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZEtleWJvYXJkU2hvcnRjdXRzID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkS2V5Ym9hcmRTaG9ydGN1dHMnLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgbGV0IGRlZmF1bHRCaW5kaW5ncyA9IHt9O1xyXG4gICAgICAgICAgICAvLyBiaW5kIGV4aXQgaGFuZGxpbmdcclxuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbi50eXBlID09PSAnbWFyaycgJiYgZXh0ZW5zaW9uLmNvbmZpZy5leGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdEJpbmRpbmdzLkFycm93UmlnaHQgPSAoKSA9PiBNYXJrLmhhbmRsZUV4aXQoeyBlZGl0b3IsIG1hcms6IGV4dGVuc2lvbiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkS2V5Ym9hcmRTaG9ydGN1dHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGFkZEtleWJvYXJkU2hvcnRjdXRzKCkpLm1hcCgoW3Nob3J0Y3V0LCBtZXRob2RdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzaG9ydGN1dCwgKCkgPT4gbWV0aG9kKHsgZWRpdG9yIH0pXTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRCaW5kaW5ncyA9IHsgLi4uZGVmYXVsdEJpbmRpbmdzLCAuLi5iaW5kaW5ncyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGtleU1hcFBsdWdpbiA9IGtleW1hcChkZWZhdWx0QmluZGluZ3MpO1xyXG4gICAgICAgICAgICBwbHVnaW5zLnB1c2goa2V5TWFwUGx1Z2luKTtcclxuICAgICAgICAgICAgY29uc3QgYWRkSW5wdXRSdWxlcyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZElucHV0UnVsZXMnLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKGlzRXh0ZW5zaW9uUnVsZXNFbmFibGVkKGV4dGVuc2lvbiwgZWRpdG9yLm9wdGlvbnMuZW5hYmxlSW5wdXRSdWxlcykgJiYgYWRkSW5wdXRSdWxlcykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSdWxlcy5wdXNoKC4uLmFkZElucHV0UnVsZXMoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYWRkUGFzdGVSdWxlcyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZFBhc3RlUnVsZXMnLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKGlzRXh0ZW5zaW9uUnVsZXNFbmFibGVkKGV4dGVuc2lvbiwgZWRpdG9yLm9wdGlvbnMuZW5hYmxlUGFzdGVSdWxlcykgJiYgYWRkUGFzdGVSdWxlcykge1xyXG4gICAgICAgICAgICAgICAgcGFzdGVSdWxlcy5wdXNoKC4uLmFkZFBhc3RlUnVsZXMoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYWRkUHJvc2VNaXJyb3JQbHVnaW5zID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkUHJvc2VNaXJyb3JQbHVnaW5zJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChhZGRQcm9zZU1pcnJvclBsdWdpbnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3NlTWlycm9yUGx1Z2lucyA9IGFkZFByb3NlTWlycm9yUGx1Z2lucygpO1xyXG4gICAgICAgICAgICAgICAgcGx1Z2lucy5wdXNoKC4uLnByb3NlTWlycm9yUGx1Z2lucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBsdWdpbnM7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZsYXQoKTtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBpbnB1dFJ1bGVzUGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgIHJ1bGVzOiBpbnB1dFJ1bGVzLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgLi4ucGFzdGVSdWxlc1BsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBydWxlczogcGFzdGVSdWxlcyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIC4uLmFsbFBsdWdpbnMsXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIGdldCBhdHRyaWJ1dGVzKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVzRnJvbUV4dGVuc2lvbnModGhpcy5leHRlbnNpb25zKTtcclxuICAgIH1cclxuICAgIGdldCBub2RlVmlld3MoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgeyBub2RlRXh0ZW5zaW9ucyB9ID0gc3BsaXRFeHRlbnNpb25zKHRoaXMuZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhub2RlRXh0ZW5zaW9uc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGV4dGVuc2lvbiA9PiAhIWdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZE5vZGVWaWV3JykpXHJcbiAgICAgICAgICAgIC5tYXAoZXh0ZW5zaW9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcy5maWx0ZXIoYXR0cmlidXRlID0+IGF0dHJpYnV0ZS50eXBlID09PSBleHRlbnNpb24ubmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBnZXROb2RlVHlwZShleHRlbnNpb24ubmFtZSwgdGhpcy5zY2hlbWEpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBhZGROb2RlVmlldyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZE5vZGVWaWV3JywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmICghYWRkTm9kZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub2RldmlldyA9IChub2RlLCB2aWV3LCBnZXRQb3MsIGRlY29yYXRpb25zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBIVE1MQXR0cmlidXRlcyA9IGdldFJlbmRlcmVkQXR0cmlidXRlcyhub2RlLCBleHRlbnNpb25BdHRyaWJ1dGVzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhZGROb2RlVmlldygpKHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRQb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBbZXh0ZW5zaW9uLm5hbWUsIG5vZGV2aWV3XTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn1cblxuLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vbWVzcXVlZWIvaXMtd2hhdC9ibG9iLzg4ZDZlNGNhOTJmYjJiYWFiNjAwM2M1NGUwMmVlZGY0ZTcyOWU1YWIvc3JjL2luZGV4LnRzXHJcbmZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKTtcclxufVxyXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XHJcbiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgIT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZURlZXAodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGNvbnN0IG91dHB1dCA9IHsgLi4udGFyZ2V0IH07XHJcbiAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIGlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChzb3VyY2Vba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiB0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdXRwdXQsIHsgW2tleV06IHNvdXJjZVtrZXldIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBtZXJnZURlZXAodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3V0cHV0LCB7IFtrZXldOiBzb3VyY2Vba2V5XSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxufVxuXG5jbGFzcyBFeHRlbnNpb24ge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnZXh0ZW5zaW9uJztcclxuICAgICAgICB0aGlzLm5hbWUgPSAnZXh0ZW5zaW9uJztcclxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbmZpZy5uYW1lO1xyXG4gICAgICAgIGlmIChjb25maWcuZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBCUkVBS0lORyBDSEFOR0U6IFwiZGVmYXVsdE9wdGlvbnNcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiYWRkT3B0aW9uc1wiIGluc3RlYWQuIEZvdW5kIGluIGV4dGVuc2lvbjogXCIke3RoaXMubmFtZX1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGBhZGRPcHRpb25zYCBmYWxsYmFja1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuY29uZmlnLmRlZmF1bHRPcHRpb25zO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hZGRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZCh0aGlzLCAnYWRkT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQodGhpcywgJ2FkZFN0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxyXG4gICAgICAgIH0pKSB8fCB7fTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGUoY29uZmlnID0ge30pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEV4dGVuc2lvbihjb25maWcpO1xyXG4gICAgfVxyXG4gICAgY29uZmlndXJlKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIC8vIHJldHVybiBhIG5ldyBpbnN0YW5jZSBzbyB3ZSBjYW4gdXNlIHRoZSBzYW1lIGV4dGVuc2lvblxyXG4gICAgICAgIC8vIHdpdGggZGlmZmVyZW50IGNhbGxzIG9mIGBjb25maWd1cmVgXHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gdGhpcy5leHRlbmQoKTtcclxuICAgICAgICBleHRlbnNpb24ub3B0aW9ucyA9IG1lcmdlRGVlcCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5zdG9yYWdlID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZFN0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbjtcclxuICAgIH1cclxuICAgIGV4dGVuZChleHRlbmRlZENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gbmV3IEV4dGVuc2lvbihleHRlbmRlZENvbmZpZyk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jaGlsZCA9IGV4dGVuc2lvbjtcclxuICAgICAgICBleHRlbnNpb24ubmFtZSA9IGV4dGVuZGVkQ29uZmlnLm5hbWUgPyBleHRlbmRlZENvbmZpZy5uYW1lIDogZXh0ZW5zaW9uLnBhcmVudC5uYW1lO1xyXG4gICAgICAgIGlmIChleHRlbmRlZENvbmZpZy5kZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFt0aXB0YXAgd2Fybl06IEJSRUFLSU5HIENIQU5HRTogXCJkZWZhdWx0T3B0aW9uc1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJhZGRPcHRpb25zXCIgaW5zdGVhZC4gRm91bmQgaW4gZXh0ZW5zaW9uOiBcIiR7ZXh0ZW5zaW9uLm5hbWV9XCIuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4dGVuc2lvbi5vcHRpb25zID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZE9wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBleHRlbnNpb24uc3RvcmFnZSA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRTdG9yYWdlJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiBleHRlbnNpb247XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZ2V0VGV4dEJldHdlZW4oc3RhcnROb2RlLCByYW5nZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gcmFuZ2U7XHJcbiAgICBjb25zdCB7IGJsb2NrU2VwYXJhdG9yID0gJ1xcblxcbicsIHRleHRTZXJpYWxpemVycyA9IHt9IH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgbGV0IHRleHQgPSAnJztcclxuICAgIGxldCBzZXBhcmF0ZWQgPSB0cnVlO1xyXG4gICAgc3RhcnROb2RlLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcywgcGFyZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCB0ZXh0U2VyaWFsaXplciA9IHRleHRTZXJpYWxpemVycyA9PT0gbnVsbCB8fCB0ZXh0U2VyaWFsaXplcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHRTZXJpYWxpemVyc1tub2RlLnR5cGUubmFtZV07XHJcbiAgICAgICAgaWYgKHRleHRTZXJpYWxpemVyKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLmlzQmxvY2sgJiYgIXNlcGFyYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCArPSBibG9ja1NlcGFyYXRvcjtcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCArPSB0ZXh0U2VyaWFsaXplcih7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobm9kZS5pc1RleHQpIHtcclxuICAgICAgICAgICAgdGV4dCArPSAoX2EgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUudGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNsaWNlKE1hdGgubWF4KGZyb20sIHBvcykgLSBwb3MsIHRvIC0gcG9zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgICAgICBzZXBhcmF0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobm9kZS5pc0Jsb2NrICYmICFzZXBhcmF0ZWQpIHtcclxuICAgICAgICAgICAgdGV4dCArPSBibG9ja1NlcGFyYXRvcjtcclxuICAgICAgICAgICAgc2VwYXJhdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0ZXh0O1xyXG59XG5cbmZ1bmN0aW9uIGdldFRleHRTZXJpYWxpemVyc0Zyb21TY2hlbWEoc2NoZW1hKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHNjaGVtYS5ub2RlcylcclxuICAgICAgICAuZmlsdGVyKChbLCBub2RlXSkgPT4gbm9kZS5zcGVjLnRvVGV4dClcclxuICAgICAgICAubWFwKChbbmFtZSwgbm9kZV0pID0+IFtuYW1lLCBub2RlLnNwZWMudG9UZXh0XSkpO1xyXG59XG5cbmNvbnN0IENsaXBib2FyZFRleHRTZXJpYWxpemVyID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXInLFxyXG4gICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgICAgICAgICAga2V5OiBuZXcgUGx1Z2luS2V5KCdjbGlwYm9hcmRUZXh0U2VyaWFsaXplcicpLFxyXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmRUZXh0U2VyaWFsaXplcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVkaXRvciB9ID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgc2NoZW1hIH0gPSBlZGl0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJhbmdlcyB9ID0gc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gTWF0aC5taW4oLi4ucmFuZ2VzLm1hcChyYW5nZSA9PiByYW5nZS4kZnJvbS5wb3MpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG8gPSBNYXRoLm1heCguLi5yYW5nZXMubWFwKHJhbmdlID0+IHJhbmdlLiR0by5wb3MpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dFNlcmlhbGl6ZXJzID0gZ2V0VGV4dFNlcmlhbGl6ZXJzRnJvbVNjaGVtYShzY2hlbWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHsgZnJvbSwgdG8gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRleHRCZXR3ZWVuKGRvYywgcmFuZ2UsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTZXJpYWxpemVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuY29uc3QgYmx1ciA9ICgpID0+ICh7IGVkaXRvciwgdmlldyB9KSA9PiB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoIWVkaXRvci5pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICB2aWV3LmRvbS5ibHVyKCk7XHJcbiAgICAgICAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCByZW1vdmUgdGhlIGNhcmV0IG9uIGJsdXIgYnV0IHNhZmFyaSBkb2VzIG5vdC5cclxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzI0MDVcclxuICAgICAgICAgICAgKF9hID0gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmdldFNlbGVjdGlvbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgY2xlYXJDb250ZW50ID0gKGVtaXRVcGRhdGUgPSBmYWxzZSkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgcmV0dXJuIGNvbW1hbmRzLnNldENvbnRlbnQoJycsIGVtaXRVcGRhdGUpO1xyXG59O1xuXG5jb25zdCBjbGVhck5vZGVzID0gKCkgPT4gKHsgc3RhdGUsIHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gdHI7XHJcbiAgICBjb25zdCB7IHJhbmdlcyB9ID0gc2VsZWN0aW9uO1xyXG4gICAgaWYgKCFkaXNwYXRjaCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmFuZ2VzLmZvckVhY2goKHsgJGZyb20sICR0byB9KSA9PiB7XHJcbiAgICAgICAgc3RhdGUuZG9jLm5vZGVzQmV0d2VlbigkZnJvbS5wb3MsICR0by5wb3MsIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZS5pc1RleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGRvYywgbWFwcGluZyB9ID0gdHI7XHJcbiAgICAgICAgICAgIGNvbnN0ICRtYXBwZWRGcm9tID0gZG9jLnJlc29sdmUobWFwcGluZy5tYXAocG9zKSk7XHJcbiAgICAgICAgICAgIGNvbnN0ICRtYXBwZWRUbyA9IGRvYy5yZXNvbHZlKG1hcHBpbmcubWFwKHBvcyArIG5vZGUubm9kZVNpemUpKTtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZVJhbmdlID0gJG1hcHBlZEZyb20uYmxvY2tSYW5nZSgkbWFwcGVkVG8pO1xyXG4gICAgICAgICAgICBpZiAoIW5vZGVSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpZnREZXB0aCA9IGxpZnRUYXJnZXQobm9kZVJhbmdlKTtcclxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZS5pc1RleHRibG9jaykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWZhdWx0VHlwZSB9ID0gJG1hcHBlZEZyb20ucGFyZW50LmNvbnRlbnRNYXRjaEF0KCRtYXBwZWRGcm9tLmluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgdHIuc2V0Tm9kZU1hcmt1cChub2RlUmFuZ2Uuc3RhcnQsIGRlZmF1bHRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0TGlmdERlcHRoIHx8IHRhcmdldExpZnREZXB0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdHIubGlmdChub2RlUmFuZ2UsIHRhcmdldExpZnREZXB0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGNvbW1hbmQgPSBmbiA9PiBwcm9wcyA9PiB7XHJcbiAgICByZXR1cm4gZm4ocHJvcHMpO1xyXG59O1xuXG5jb25zdCBjcmVhdGVQYXJhZ3JhcGhOZWFyID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBjcmVhdGVQYXJhZ3JhcGhOZWFyJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuY29uc3QgY3V0ID0gKG9yaWdpblJhbmdlLCB0YXJnZXRQb3MpID0+ICh7IGVkaXRvciwgdHIgfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gZWRpdG9yO1xyXG4gICAgY29uc3QgY29udGVudFNsaWNlID0gc3RhdGUuZG9jLnNsaWNlKG9yaWdpblJhbmdlLmZyb20sIG9yaWdpblJhbmdlLnRvKTtcclxuICAgIHRyLmRlbGV0ZVJhbmdlKG9yaWdpblJhbmdlLmZyb20sIG9yaWdpblJhbmdlLnRvKTtcclxuICAgIGNvbnN0IG5ld1BvcyA9IHRyLm1hcHBpbmcubWFwKHRhcmdldFBvcyk7XHJcbiAgICB0ci5pbnNlcnQobmV3UG9zLCBjb250ZW50U2xpY2UuY29udGVudCk7XHJcbiAgICB0ci5zZXRTZWxlY3Rpb24obmV3IFRleHRTZWxlY3Rpb24odHIuZG9jLnJlc29sdmUobmV3UG9zIC0gMSkpKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBkZWxldGVDdXJyZW50Tm9kZSA9ICgpID0+ICh7IHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gdHI7XHJcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHNlbGVjdGlvbi4kYW5jaG9yLm5vZGUoKTtcclxuICAgIC8vIGlmIHRoZXJlIGlzIGNvbnRlbnQgaW5zaWRlIHRoZSBjdXJyZW50IG5vZGUsIGJyZWFrIG91dCBvZiB0aGlzIGNvbW1hbmRcclxuICAgIGlmIChjdXJyZW50Tm9kZS5jb250ZW50LnNpemUgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgJHBvcyA9IHRyLnNlbGVjdGlvbi4kYW5jaG9yO1xyXG4gICAgZm9yIChsZXQgZGVwdGggPSAkcG9zLmRlcHRoOyBkZXB0aCA+IDA7IGRlcHRoIC09IDEpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gJHBvcy5ub2RlKGRlcHRoKTtcclxuICAgICAgICBpZiAobm9kZS50eXBlID09PSBjdXJyZW50Tm9kZS50eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9ICRwb3MuYmVmb3JlKGRlcHRoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gJHBvcy5hZnRlcihkZXB0aCk7XHJcbiAgICAgICAgICAgICAgICB0ci5kZWxldGUoZnJvbSwgdG8pLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xuXG5jb25zdCBkZWxldGVOb2RlID0gdHlwZU9yTmFtZSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgJHBvcyA9IHRyLnNlbGVjdGlvbi4kYW5jaG9yO1xyXG4gICAgZm9yIChsZXQgZGVwdGggPSAkcG9zLmRlcHRoOyBkZXB0aCA+IDA7IGRlcHRoIC09IDEpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gJHBvcy5ub2RlKGRlcHRoKTtcclxuICAgICAgICBpZiAobm9kZS50eXBlID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9ICRwb3MuYmVmb3JlKGRlcHRoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gJHBvcy5hZnRlcihkZXB0aCk7XHJcbiAgICAgICAgICAgICAgICB0ci5kZWxldGUoZnJvbSwgdG8pLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xuXG5jb25zdCBkZWxldGVSYW5nZSA9IHJhbmdlID0+ICh7IHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSByYW5nZTtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHRyLmRlbGV0ZShmcm9tLCB0byk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgZGVsZXRlU2VsZWN0aW9uID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBkZWxldGVTZWxlY3Rpb24kMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5jb25zdCBlbnRlciA9ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgIHJldHVybiBjb21tYW5kcy5rZXlib2FyZFNob3J0Y3V0KCdFbnRlcicpO1xyXG59O1xuXG5jb25zdCBleGl0Q29kZSA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gZXhpdENvZGUkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG4vKipcclxuICogQ2hlY2sgaWYgb2JqZWN0MSBpbmNsdWRlcyBvYmplY3QyXHJcbiAqIEBwYXJhbSBvYmplY3QxIE9iamVjdFxyXG4gKiBAcGFyYW0gb2JqZWN0MiBPYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG9iamVjdEluY2x1ZGVzKG9iamVjdDEsIG9iamVjdDIsIG9wdGlvbnMgPSB7IHN0cmljdDogdHJ1ZSB9KSB7XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0Mik7XHJcbiAgICBpZiAoIWtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5cy5ldmVyeShrZXkgPT4ge1xyXG4gICAgICAgIGlmIChvcHRpb25zLnN0cmljdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0MltrZXldID09PSBvYmplY3QxW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JlZ0V4cChvYmplY3QyW2tleV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QyW2tleV0udGVzdChvYmplY3QxW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0MltrZXldID09PSBvYmplY3QxW2tleV07XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBmaW5kTWFya0luU2V0KG1hcmtzLCB0eXBlLCBhdHRyaWJ1dGVzID0ge30pIHtcclxuICAgIHJldHVybiBtYXJrcy5maW5kKGl0ZW0gPT4ge1xyXG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUgPT09IHR5cGUgJiYgb2JqZWN0SW5jbHVkZXMoaXRlbS5hdHRycywgYXR0cmlidXRlcyk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpc01hcmtJblNldChtYXJrcywgdHlwZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICByZXR1cm4gISFmaW5kTWFya0luU2V0KG1hcmtzLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxufVxyXG5mdW5jdGlvbiBnZXRNYXJrUmFuZ2UoJHBvcywgdHlwZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICBpZiAoISRwb3MgfHwgIXR5cGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgc3RhcnQgPSAkcG9zLnBhcmVudC5jaGlsZEFmdGVyKCRwb3MucGFyZW50T2Zmc2V0KTtcclxuICAgIGlmICgkcG9zLnBhcmVudE9mZnNldCA9PT0gc3RhcnQub2Zmc2V0ICYmIHN0YXJ0Lm9mZnNldCAhPT0gMCkge1xyXG4gICAgICAgIHN0YXJ0ID0gJHBvcy5wYXJlbnQuY2hpbGRCZWZvcmUoJHBvcy5wYXJlbnRPZmZzZXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFzdGFydC5ub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWFyayA9IGZpbmRNYXJrSW5TZXQoWy4uLnN0YXJ0Lm5vZGUubWFya3NdLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgIGlmICghbWFyaykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBzdGFydEluZGV4ID0gc3RhcnQuaW5kZXg7XHJcbiAgICBsZXQgc3RhcnRQb3MgPSAkcG9zLnN0YXJ0KCkgKyBzdGFydC5vZmZzZXQ7XHJcbiAgICBsZXQgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgMTtcclxuICAgIGxldCBlbmRQb3MgPSBzdGFydFBvcyArIHN0YXJ0Lm5vZGUubm9kZVNpemU7XHJcbiAgICBmaW5kTWFya0luU2V0KFsuLi5zdGFydC5ub2RlLm1hcmtzXSwgdHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA+IDAgJiYgbWFyay5pc0luU2V0KCRwb3MucGFyZW50LmNoaWxkKHN0YXJ0SW5kZXggLSAxKS5tYXJrcykpIHtcclxuICAgICAgICBzdGFydEluZGV4IC09IDE7XHJcbiAgICAgICAgc3RhcnRQb3MgLT0gJHBvcy5wYXJlbnQuY2hpbGQoc3RhcnRJbmRleCkubm9kZVNpemU7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoZW5kSW5kZXggPCAkcG9zLnBhcmVudC5jaGlsZENvdW50XHJcbiAgICAgICAgJiYgaXNNYXJrSW5TZXQoWy4uLiRwb3MucGFyZW50LmNoaWxkKGVuZEluZGV4KS5tYXJrc10sIHR5cGUsIGF0dHJpYnV0ZXMpKSB7XHJcbiAgICAgICAgZW5kUG9zICs9ICRwb3MucGFyZW50LmNoaWxkKGVuZEluZGV4KS5ub2RlU2l6ZTtcclxuICAgICAgICBlbmRJbmRleCArPSAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBmcm9tOiBzdGFydFBvcyxcclxuICAgICAgICB0bzogZW5kUG9zLFxyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBnZXRNYXJrVHlwZShuYW1lT3JUeXBlLCBzY2hlbWEpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZU9yVHlwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBpZiAoIXNjaGVtYS5tYXJrc1tuYW1lT3JUeXBlXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVGhlcmUgaXMgbm8gbWFyayB0eXBlIG5hbWVkICcke25hbWVPclR5cGV9Jy4gTWF5YmUgeW91IGZvcmdvdCB0byBhZGQgdGhlIGV4dGVuc2lvbj9gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5tYXJrc1tuYW1lT3JUeXBlXTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYW1lT3JUeXBlO1xyXG59XG5cbmNvbnN0IGV4dGVuZE1hcmtSYW5nZSA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCB7IGRvYywgc2VsZWN0aW9uIH0gPSB0cjtcclxuICAgIGNvbnN0IHsgJGZyb20sIGZyb20sIHRvIH0gPSBzZWxlY3Rpb247XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBjb25zdCByYW5nZSA9IGdldE1hcmtSYW5nZSgkZnJvbSwgdHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmZyb20gPD0gZnJvbSAmJiByYW5nZS50byA+PSB0bykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcclxuICAgICAgICAgICAgdHIuc2V0U2VsZWN0aW9uKG5ld1NlbGVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGZpcnN0ID0gY29tbWFuZHMgPT4gcHJvcHMgPT4ge1xyXG4gICAgY29uc3QgaXRlbXMgPSB0eXBlb2YgY29tbWFuZHMgPT09ICdmdW5jdGlvbidcclxuICAgICAgICA/IGNvbW1hbmRzKHByb3BzKVxyXG4gICAgICAgIDogY29tbWFuZHM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgaWYgKGl0ZW1zW2ldKHByb3BzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XG5cbmZ1bmN0aW9uIGlzVGV4dFNlbGVjdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbjtcclxufVxuXG5mdW5jdGlvbiBtaW5NYXgodmFsdWUgPSAwLCBtaW4gPSAwLCBtYXggPSAwKSB7XHJcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XHJcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUZvY3VzUG9zaXRpb24oZG9jLCBwb3NpdGlvbiA9IG51bGwpIHtcclxuICAgIGlmICghcG9zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlbGVjdGlvbkF0U3RhcnQgPSBTZWxlY3Rpb24uYXRTdGFydChkb2MpO1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uQXRFbmQgPSBTZWxlY3Rpb24uYXRFbmQoZG9jKTtcclxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3N0YXJ0JyB8fCBwb3NpdGlvbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25BdFN0YXJ0O1xyXG4gICAgfVxyXG4gICAgaWYgKHBvc2l0aW9uID09PSAnZW5kJykge1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25BdEVuZDtcclxuICAgIH1cclxuICAgIGNvbnN0IG1pblBvcyA9IHNlbGVjdGlvbkF0U3RhcnQuZnJvbTtcclxuICAgIGNvbnN0IG1heFBvcyA9IHNlbGVjdGlvbkF0RW5kLnRvO1xyXG4gICAgaWYgKHBvc2l0aW9uID09PSAnYWxsJykge1xyXG4gICAgICAgIHJldHVybiBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIG1pbk1heCgwLCBtaW5Qb3MsIG1heFBvcyksIG1pbk1heChkb2MuY29udGVudC5zaXplLCBtaW5Qb3MsIG1heFBvcykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRleHRTZWxlY3Rpb24uY3JlYXRlKGRvYywgbWluTWF4KHBvc2l0aW9uLCBtaW5Qb3MsIG1heFBvcyksIG1pbk1heChwb3NpdGlvbiwgbWluUG9zLCBtYXhQb3MpKTtcclxufVxuXG5mdW5jdGlvbiBpc2lPUygpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgJ2lQYWQgU2ltdWxhdG9yJyxcclxuICAgICAgICAnaVBob25lIFNpbXVsYXRvcicsXHJcbiAgICAgICAgJ2lQb2QgU2ltdWxhdG9yJyxcclxuICAgICAgICAnaVBhZCcsXHJcbiAgICAgICAgJ2lQaG9uZScsXHJcbiAgICAgICAgJ2lQb2QnLFxyXG4gICAgXS5pbmNsdWRlcyhuYXZpZ2F0b3IucGxhdGZvcm0pXHJcbiAgICAgICAgLy8gaVBhZCBvbiBpT1MgMTMgZGV0ZWN0aW9uXHJcbiAgICAgICAgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ01hYycpICYmICdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudCk7XHJcbn1cblxuY29uc3QgZm9jdXMgPSAocG9zaXRpb24gPSBudWxsLCBvcHRpb25zID0ge30pID0+ICh7IGVkaXRvciwgdmlldywgdHIsIGRpc3BhdGNoLCB9KSA9PiB7XHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxyXG4gICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZGVsYXllZEZvY3VzID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIGZvY3VzIHdpdGhpbiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBicmVha3MgZm9jdXMgb24gaU9TXHJcbiAgICAgICAgLy8gc28gd2UgaGF2ZSB0byBjYWxsIHRoaXNcclxuICAgICAgICBpZiAoaXNpT1MoKSkge1xyXG4gICAgICAgICAgICB2aWV3LmRvbS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb3IgUmVhY3Qgd2UgaGF2ZSB0byBmb2N1cyBhc3luY2hyb25vdXNseS4gT3RoZXJ3aXNlIHdpbGQgdGhpbmdzIGhhcHBlbi5cclxuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS91ZWJlcmRvc2lzL3RpcHRhcC9pc3N1ZXMvMTUyMFxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmlzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgICAgICB2aWV3LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNjcm9sbEludG9WaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNvbW1hbmRzLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBpZiAoKHZpZXcuaGFzRm9jdXMoKSAmJiBwb3NpdGlvbiA9PT0gbnVsbCkgfHwgcG9zaXRpb24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyB3ZSBkb27igJl0IHRyeSB0byByZXNvbHZlIGEgTm9kZVNlbGVjdGlvbiBvciBDZWxsU2VsZWN0aW9uXHJcbiAgICBpZiAoZGlzcGF0Y2ggJiYgcG9zaXRpb24gPT09IG51bGwgJiYgIWlzVGV4dFNlbGVjdGlvbihlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uKSkge1xyXG4gICAgICAgIGRlbGF5ZWRGb2N1cygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gcGFzcyB0aHJvdWdoIHRyLmRvYyBpbnN0ZWFkIG9mIGVkaXRvci5zdGF0ZS5kb2NcclxuICAgIC8vIHNpbmNlIHRyYW5zYWN0aW9ucyBjb3VsZCBjaGFuZ2UgdGhlIGVkaXRvcnMgc3RhdGUgYmVmb3JlIHRoaXMgY29tbWFuZCBoYXMgYmVlbiBydW5cclxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHJlc29sdmVGb2N1c1Bvc2l0aW9uKHRyLmRvYywgcG9zaXRpb24pIHx8IGVkaXRvci5zdGF0ZS5zZWxlY3Rpb247XHJcbiAgICBjb25zdCBpc1NhbWVTZWxlY3Rpb24gPSBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmVxKHNlbGVjdGlvbik7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBpZiAoIWlzU2FtZVNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICB0ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYHRyLnNldFNlbGVjdGlvbmAgcmVzZXRzIHRoZSBzdG9yZWQgbWFya3NcclxuICAgICAgICAvLyBzbyB3ZeKAmWxsIHJlc3RvcmUgdGhlbSBpZiB0aGUgc2VsZWN0aW9uIGlzIHRoZSBzYW1lIGFzIGJlZm9yZVxyXG4gICAgICAgIGlmIChpc1NhbWVTZWxlY3Rpb24gJiYgdHIuc3RvcmVkTWFya3MpIHtcclxuICAgICAgICAgICAgdHIuc2V0U3RvcmVkTWFya3ModHIuc3RvcmVkTWFya3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxheWVkRm9jdXMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBmb3JFYWNoID0gKGl0ZW1zLCBmbikgPT4gcHJvcHMgPT4ge1xyXG4gICAgcmV0dXJuIGl0ZW1zLmV2ZXJ5KChpdGVtLCBpbmRleCkgPT4gZm4oaXRlbSwgeyAuLi5wcm9wcywgaW5kZXggfSkpO1xyXG59O1xuXG5jb25zdCBpbnNlcnRDb250ZW50ID0gKHZhbHVlLCBvcHRpb25zKSA9PiAoeyB0ciwgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgcmV0dXJuIGNvbW1hbmRzLmluc2VydENvbnRlbnRBdCh7IGZyb206IHRyLnNlbGVjdGlvbi5mcm9tLCB0bzogdHIuc2VsZWN0aW9uLnRvIH0sIHZhbHVlLCBvcHRpb25zKTtcclxufTtcblxuZnVuY3Rpb24gZWxlbWVudEZyb21TdHJpbmcodmFsdWUpIHtcclxuICAgIC8vIGFkZCBhIHdyYXBwZXIgdG8gcHJlc2VydmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZVxyXG4gICAgY29uc3Qgd3JhcHBlZFZhbHVlID0gYDxib2R5PiR7dmFsdWV9PC9ib2R5PmA7XHJcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcod3JhcHBlZFZhbHVlLCAndGV4dC9odG1sJykuYm9keTtcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2RlRnJvbUNvbnRlbnQoY29udGVudCwgc2NoZW1hLCBvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICAgIHNsaWNlOiB0cnVlLFxyXG4gICAgICAgIHBhcnNlT3B0aW9uczoge30sXHJcbiAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgIH07XHJcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnICYmIGNvbnRlbnQgIT09IG51bGwpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50KSAmJiBjb250ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBGcmFnbWVudC5mcm9tQXJyYXkoY29udGVudC5tYXAoaXRlbSA9PiBzY2hlbWEubm9kZUZyb21KU09OKGl0ZW0pKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5ub2RlRnJvbUpTT04oY29udGVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1t0aXB0YXAgd2Fybl06IEludmFsaWQgY29udGVudC4nLCAnUGFzc2VkIHZhbHVlOicsIGNvbnRlbnQsICdFcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOb2RlRnJvbUNvbnRlbnQoJycsIHNjaGVtYSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IERPTVBhcnNlci5mcm9tU2NoZW1hKHNjaGVtYSk7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2xpY2VcclxuICAgICAgICAgICAgPyBwYXJzZXIucGFyc2VTbGljZShlbGVtZW50RnJvbVN0cmluZyhjb250ZW50KSwgb3B0aW9ucy5wYXJzZU9wdGlvbnMpLmNvbnRlbnRcclxuICAgICAgICAgICAgOiBwYXJzZXIucGFyc2UoZWxlbWVudEZyb21TdHJpbmcoY29udGVudCksIG9wdGlvbnMucGFyc2VPcHRpb25zKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVOb2RlRnJvbUNvbnRlbnQoJycsIHNjaGVtYSwgb3B0aW9ucyk7XHJcbn1cblxuLy8gc291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vUHJvc2VNaXJyb3IvcHJvc2VtaXJyb3Itc3RhdGUvYmxvYi9tYXN0ZXIvc3JjL3NlbGVjdGlvbi5qcyNMNDY2XHJcbmZ1bmN0aW9uIHNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kKHRyLCBzdGFydExlbiwgYmlhcykge1xyXG4gICAgY29uc3QgbGFzdCA9IHRyLnN0ZXBzLmxlbmd0aCAtIDE7XHJcbiAgICBpZiAobGFzdCA8IHN0YXJ0TGVuKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3RlcCA9IHRyLnN0ZXBzW2xhc3RdO1xyXG4gICAgaWYgKCEoc3RlcCBpbnN0YW5jZW9mIFJlcGxhY2VTdGVwIHx8IHN0ZXAgaW5zdGFuY2VvZiBSZXBsYWNlQXJvdW5kU3RlcCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXAgPSB0ci5tYXBwaW5nLm1hcHNbbGFzdF07XHJcbiAgICBsZXQgZW5kID0gMDtcclxuICAgIG1hcC5mb3JFYWNoKChfZnJvbSwgX3RvLCBfbmV3RnJvbSwgbmV3VG8pID0+IHtcclxuICAgICAgICBpZiAoZW5kID09PSAwKSB7XHJcbiAgICAgICAgICAgIGVuZCA9IG5ld1RvO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdHIuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKGVuZCksIGJpYXMpKTtcclxufVxuXG5jb25zdCBpc0ZyYWdtZW50ID0gKG5vZGVPckZyYWdtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gbm9kZU9yRnJhZ21lbnQudG9TdHJpbmcoKS5zdGFydHNXaXRoKCc8Jyk7XHJcbn07XHJcbmNvbnN0IGluc2VydENvbnRlbnRBdCA9IChwb3NpdGlvbiwgdmFsdWUsIG9wdGlvbnMpID0+ICh7IHRyLCBkaXNwYXRjaCwgZWRpdG9yIH0pID0+IHtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHBhcnNlT3B0aW9uczoge30sXHJcbiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjcmVhdGVOb2RlRnJvbUNvbnRlbnQodmFsdWUsIGVkaXRvci5zY2hlbWEsIHtcclxuICAgICAgICAgICAgcGFyc2VPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICdmdWxsJyxcclxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMucGFyc2VPcHRpb25zLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGRvbuKAmXQgZGlzcGF0Y2ggYW4gZW1wdHkgZnJhZ21lbnQgYmVjYXVzZSB0aGlzIGNhbiBsZWFkIHRvIHN0cmFuZ2UgZXJyb3JzXHJcbiAgICAgICAgaWYgKGNvbnRlbnQudG9TdHJpbmcoKSA9PT0gJzw+Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicgPyB7IGZyb206IHBvc2l0aW9uLCB0bzogcG9zaXRpb24gfSA6IHsgZnJvbTogcG9zaXRpb24uZnJvbSwgdG86IHBvc2l0aW9uLnRvIH07XHJcbiAgICAgICAgbGV0IGlzT25seVRleHRDb250ZW50ID0gdHJ1ZTtcclxuICAgICAgICBsZXQgaXNPbmx5QmxvY2tDb250ZW50ID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBub2RlcyA9IGlzRnJhZ21lbnQoY29udGVudCkgPyBjb250ZW50IDogW2NvbnRlbnRdO1xyXG4gICAgICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFkZGVkIG5vZGUgaXMgdmFsaWRcclxuICAgICAgICAgICAgbm9kZS5jaGVjaygpO1xyXG4gICAgICAgICAgICBpc09ubHlUZXh0Q29udGVudCA9IGlzT25seVRleHRDb250ZW50ID8gbm9kZS5pc1RleHQgJiYgbm9kZS5tYXJrcy5sZW5ndGggPT09IDAgOiBmYWxzZTtcclxuICAgICAgICAgICAgaXNPbmx5QmxvY2tDb250ZW50ID0gaXNPbmx5QmxvY2tDb250ZW50ID8gbm9kZS5pc0Jsb2NrIDogZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgY2FuIHJlcGxhY2UgdGhlIHdyYXBwaW5nIG5vZGUgYnlcclxuICAgICAgICAvLyB0aGUgbmV3bHkgaW5zZXJ0ZWQgY29udGVudFxyXG4gICAgICAgIC8vIGV4YW1wbGU6XHJcbiAgICAgICAgLy8gcmVwbGFjZSBhbiBlbXB0eSBwYXJhZ3JhcGggYnkgYW4gaW5zZXJ0ZWQgaW1hZ2VcclxuICAgICAgICAvLyBpbnN0ZWFkIG9mIGluc2VydGluZyB0aGUgaW1hZ2UgYmVsb3cgdGhlIHBhcmFncmFwaFxyXG4gICAgICAgIGlmIChmcm9tID09PSB0byAmJiBpc09ubHlCbG9ja0NvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBwYXJlbnQgfSA9IHRyLmRvYy5yZXNvbHZlKGZyb20pO1xyXG4gICAgICAgICAgICBjb25zdCBpc0VtcHR5VGV4dEJsb2NrID0gcGFyZW50LmlzVGV4dGJsb2NrICYmICFwYXJlbnQudHlwZS5zcGVjLmNvZGUgJiYgIXBhcmVudC5jaGlsZENvdW50O1xyXG4gICAgICAgICAgICBpZiAoaXNFbXB0eVRleHRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgZnJvbSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgdG8gKz0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IHBsYWluIHRleHQgd2UgaGF2ZSB0byB1c2UgYGluc2VydFRleHRgXHJcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIHdpbGwga2VlcCB0aGUgY3VycmVudCBtYXJrc1xyXG4gICAgICAgIGlmIChpc09ubHlUZXh0Q29udGVudCkge1xyXG4gICAgICAgICAgICAvLyBpZiB2YWx1ZSBpcyBzdHJpbmcsIHdlIGNhbiB1c2UgaXQgZGlyZWN0bHlcclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGlmIGl0IGlzIGFuIGFycmF5LCB3ZSBoYXZlIHRvIGpvaW4gaXRcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5pbnNlcnRUZXh0KHZhbHVlLm1hcCh2ID0+IHYudGV4dCB8fCAnJykuam9pbignJyksIGZyb20sIHRvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICEhdmFsdWUgJiYgISF2YWx1ZS50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0ci5pbnNlcnRUZXh0KHZhbHVlLnRleHQsIGZyb20sIHRvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyLmluc2VydFRleHQodmFsdWUsIGZyb20sIHRvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHIucmVwbGFjZVdpdGgoZnJvbSwgdG8sIGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgY3Vyc29yIGF0IGVuZCBvZiBpbnNlcnRlZCBjb250ZW50XHJcbiAgICAgICAgaWYgKG9wdGlvbnMudXBkYXRlU2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kKHRyLCB0ci5zdGVwcy5sZW5ndGggLSAxLCAtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGpvaW5VcCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gam9pblVwJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcclxuY29uc3Qgam9pbkRvd24gPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIGpvaW5Eb3duJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcclxuY29uc3Qgam9pbkJhY2t3YXJkID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBqb2luQmFja3dhcmQkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xyXG5jb25zdCBqb2luRm9yd2FyZCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gam9pbkZvcndhcmQkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5jb25zdCBqb2luSXRlbUJhY2t3YXJkID0gKCkgPT4gKHsgdHIsIHN0YXRlLCBkaXNwYXRjaCwgfSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb2ludCA9IGpvaW5Qb2ludChzdGF0ZS5kb2MsIHN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wb3MsIC0xKTtcclxuICAgICAgICBpZiAocG9pbnQgPT09IG51bGwgfHwgcG9pbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyLmpvaW4ocG9pbnQsIDIpO1xyXG4gICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICBkaXNwYXRjaCh0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2gge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcblxuY29uc3Qgam9pbkl0ZW1Gb3J3YXJkID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoLCB0ciwgfSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb2ludCA9IGpvaW5Qb2ludChzdGF0ZS5kb2MsIHN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wb3MsICsxKTtcclxuICAgICAgICBpZiAocG9pbnQgPT09IG51bGwgfHwgcG9pbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyLmpvaW4ocG9pbnQsIDIpO1xyXG4gICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICBkaXNwYXRjaCh0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XG5cbmZ1bmN0aW9uIGlzTWFjT1MoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxyXG4gICAgICAgIDogZmFsc2U7XHJcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lKSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IG5hbWUuc3BsaXQoLy0oPyEkKS8pO1xyXG4gICAgbGV0IHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKHJlc3VsdCA9PT0gJ1NwYWNlJykge1xyXG4gICAgICAgIHJlc3VsdCA9ICcgJztcclxuICAgIH1cclxuICAgIGxldCBhbHQ7XHJcbiAgICBsZXQgY3RybDtcclxuICAgIGxldCBzaGlmdDtcclxuICAgIGxldCBtZXRhO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBtb2QgPSBwYXJ0c1tpXTtcclxuICAgICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSB7XHJcbiAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgYWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkge1xyXG4gICAgICAgICAgICBjdHJsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgc2hpZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzaU9TKCkgfHwgaXNNYWNPUygpKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0cmwgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiAke21vZH1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYWx0KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gYEFsdC0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKGN0cmwpIHtcclxuICAgICAgICByZXN1bHQgPSBgQ3RybC0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGEpIHtcclxuICAgICAgICByZXN1bHQgPSBgTWV0YS0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoaWZ0KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gYFNoaWZ0LSR7cmVzdWx0fWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmNvbnN0IGtleWJvYXJkU2hvcnRjdXQgPSBuYW1lID0+ICh7IGVkaXRvciwgdmlldywgdHIsIGRpc3BhdGNoLCB9KSA9PiB7XHJcbiAgICBjb25zdCBrZXlzID0gbm9ybWFsaXplS2V5TmFtZShuYW1lKS5zcGxpdCgvLSg/ISQpLyk7XHJcbiAgICBjb25zdCBrZXkgPSBrZXlzLmZpbmQoaXRlbSA9PiAhWydBbHQnLCAnQ3RybCcsICdNZXRhJywgJ1NoaWZ0J10uaW5jbHVkZXMoaXRlbSkpO1xyXG4gICAgY29uc3QgZXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHtcclxuICAgICAgICBrZXk6IGtleSA9PT0gJ1NwYWNlJ1xyXG4gICAgICAgICAgICA/ICcgJ1xyXG4gICAgICAgICAgICA6IGtleSxcclxuICAgICAgICBhbHRLZXk6IGtleXMuaW5jbHVkZXMoJ0FsdCcpLFxyXG4gICAgICAgIGN0cmxLZXk6IGtleXMuaW5jbHVkZXMoJ0N0cmwnKSxcclxuICAgICAgICBtZXRhS2V5OiBrZXlzLmluY2x1ZGVzKCdNZXRhJyksXHJcbiAgICAgICAgc2hpZnRLZXk6IGtleXMuaW5jbHVkZXMoJ1NoaWZ0JyksXHJcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjYXB0dXJlZFRyYW5zYWN0aW9uID0gZWRpdG9yLmNhcHR1cmVUcmFuc2FjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgdmlldy5zb21lUHJvcCgnaGFuZGxlS2V5RG93bicsIGYgPT4gZih2aWV3LCBldmVudCkpO1xyXG4gICAgfSk7XHJcbiAgICBjYXB0dXJlZFRyYW5zYWN0aW9uID09PSBudWxsIHx8IGNhcHR1cmVkVHJhbnNhY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcHR1cmVkVHJhbnNhY3Rpb24uc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgICBjb25zdCBuZXdTdGVwID0gc3RlcC5tYXAodHIubWFwcGluZyk7XHJcbiAgICAgICAgaWYgKG5ld1N0ZXAgJiYgZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgdHIubWF5YmVTdGVwKG5ld1N0ZXApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmZ1bmN0aW9uIGlzTm9kZUFjdGl2ZShzdGF0ZSwgdHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGZyb20sIHRvLCBlbXB0eSB9ID0gc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgY29uc3QgdHlwZSA9IHR5cGVPck5hbWUgPyBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpIDogbnVsbDtcclxuICAgIGNvbnN0IG5vZGVSYW5nZXMgPSBbXTtcclxuICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICBpZiAobm9kZS5pc1RleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWxhdGl2ZUZyb20gPSBNYXRoLm1heChmcm9tLCBwb3MpO1xyXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVG8gPSBNYXRoLm1pbih0bywgcG9zICsgbm9kZS5ub2RlU2l6ZSk7XHJcbiAgICAgICAgbm9kZVJhbmdlcy5wdXNoKHtcclxuICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgZnJvbTogcmVsYXRpdmVGcm9tLFxyXG4gICAgICAgICAgICB0bzogcmVsYXRpdmVUbyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uUmFuZ2UgPSB0byAtIGZyb207XHJcbiAgICBjb25zdCBtYXRjaGVkTm9kZVJhbmdlcyA9IG5vZGVSYW5nZXNcclxuICAgICAgICAuZmlsdGVyKG5vZGVSYW5nZSA9PiB7XHJcbiAgICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZS5uYW1lID09PSBub2RlUmFuZ2Uubm9kZS50eXBlLm5hbWU7XHJcbiAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIobm9kZVJhbmdlID0+IG9iamVjdEluY2x1ZGVzKG5vZGVSYW5nZS5ub2RlLmF0dHJzLCBhdHRyaWJ1dGVzLCB7IHN0cmljdDogZmFsc2UgfSkpO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlZE5vZGVSYW5nZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmFuZ2UgPSBtYXRjaGVkTm9kZVJhbmdlcy5yZWR1Y2UoKHN1bSwgbm9kZVJhbmdlKSA9PiBzdW0gKyBub2RlUmFuZ2UudG8gLSBub2RlUmFuZ2UuZnJvbSwgMCk7XHJcbiAgICByZXR1cm4gcmFuZ2UgPj0gc2VsZWN0aW9uUmFuZ2U7XHJcbn1cblxuY29uc3QgbGlmdCA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gaXNOb2RlQWN0aXZlKHN0YXRlLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgIGlmICghaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlmdCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGxpZnRFbXB0eUJsb2NrID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBsaWZ0RW1wdHlCbG9jayQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGxpZnRMaXN0SXRlbSA9IHR5cGVPck5hbWUgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgcmV0dXJuIGxpZnRMaXN0SXRlbSQxKHR5cGUpKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IG5ld2xpbmVJbkNvZGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIG5ld2xpbmVJbkNvZGUkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5mdW5jdGlvbiBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZShuYW1lLCBzY2hlbWEpIHtcclxuICAgIGlmIChzY2hlbWEubm9kZXNbbmFtZV0pIHtcclxuICAgICAgICByZXR1cm4gJ25vZGUnO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYS5tYXJrc1tuYW1lXSkge1xyXG4gICAgICAgIHJldHVybiAnbWFyayc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxuXG4vKipcclxuICogUmVtb3ZlIGEgcHJvcGVydHkgb3IgYW4gYXJyYXkgb2YgcHJvcGVydGllcyBmcm9tIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0gb2JqIE9iamVjdFxyXG4gKiBAcGFyYW0ga2V5IEtleSB0byByZW1vdmVcclxuICovXHJcbmZ1bmN0aW9uIGRlbGV0ZVByb3BzKG9iaiwgcHJvcE9yUHJvcHMpIHtcclxuICAgIGNvbnN0IHByb3BzID0gdHlwZW9mIHByb3BPclByb3BzID09PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gW3Byb3BPclByb3BzXVxyXG4gICAgICAgIDogcHJvcE9yUHJvcHM7XHJcbiAgICByZXR1cm4gT2JqZWN0XHJcbiAgICAgICAgLmtleXMob2JqKVxyXG4gICAgICAgIC5yZWR1Y2UoKG5ld09iaiwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghcHJvcHMuaW5jbHVkZXMocHJvcCkpIHtcclxuICAgICAgICAgICAgbmV3T2JqW3Byb3BdID0gb2JqW3Byb3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgfSwge30pO1xyXG59XG5cbmNvbnN0IHJlc2V0QXR0cmlidXRlcyA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzKSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGxldCBub2RlVHlwZSA9IG51bGw7XHJcbiAgICBsZXQgbWFya1R5cGUgPSBudWxsO1xyXG4gICAgY29uc3Qgc2NoZW1hVHlwZSA9IGdldFNjaGVtYVR5cGVOYW1lQnlOYW1lKHR5cGVvZiB0eXBlT3JOYW1lID09PSAnc3RyaW5nJyA/IHR5cGVPck5hbWUgOiB0eXBlT3JOYW1lLm5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBpZiAoIXNjaGVtYVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gJ25vZGUnKSB7XHJcbiAgICAgICAgbm9kZVR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdtYXJrJykge1xyXG4gICAgICAgIG1hcmtUeXBlID0gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIH1cclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHRyLnNlbGVjdGlvbi5yYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4ocmFuZ2UuJGZyb20ucG9zLCByYW5nZS4kdG8ucG9zLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgJiYgbm9kZVR5cGUgPT09IG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIGRlbGV0ZVByb3BzKG5vZGUuYXR0cnMsIGF0dHJpYnV0ZXMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtYXJrVHlwZSAmJiBub2RlLm1hcmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWFya3MuZm9yRWFjaChtYXJrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtUeXBlID09PSBtYXJrLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsocG9zLCBwb3MgKyBub2RlLm5vZGVTaXplLCBtYXJrVHlwZS5jcmVhdGUoZGVsZXRlUHJvcHMobWFyay5hdHRycywgYXR0cmlidXRlcykpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzY3JvbGxJbnRvVmlldyA9ICgpID0+ICh7IHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICB0ci5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IHNlbGVjdEFsbCA9ICgpID0+ICh7IHRyLCBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICByZXR1cm4gY29tbWFuZHMuc2V0VGV4dFNlbGVjdGlvbih7XHJcbiAgICAgICAgZnJvbTogMCxcclxuICAgICAgICB0bzogdHIuZG9jLmNvbnRlbnQuc2l6ZSxcclxuICAgIH0pO1xyXG59O1xuXG5jb25zdCBzZWxlY3ROb2RlQmFja3dhcmQgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIHNlbGVjdE5vZGVCYWNrd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IHNlbGVjdE5vZGVGb3J3YXJkID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBzZWxlY3ROb2RlRm9yd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IHNlbGVjdFBhcmVudE5vZGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIHNlbGVjdFBhcmVudE5vZGUkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHNlbGVjdFRleHRibG9ja0VuZCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gc2VsZWN0VGV4dGJsb2NrRW5kJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCBzZWxlY3RUZXh0YmxvY2tTdGFydCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gc2VsZWN0VGV4dGJsb2NrU3RhcnQkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVEb2N1bWVudChjb250ZW50LCBzY2hlbWEsIHBhcnNlT3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlTm9kZUZyb21Db250ZW50KGNvbnRlbnQsIHNjaGVtYSwgeyBzbGljZTogZmFsc2UsIHBhcnNlT3B0aW9ucyB9KTtcclxufVxuXG5jb25zdCBzZXRDb250ZW50ID0gKGNvbnRlbnQsIGVtaXRVcGRhdGUgPSBmYWxzZSwgcGFyc2VPcHRpb25zID0ge30pID0+ICh7IHRyLCBlZGl0b3IsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHsgZG9jIH0gPSB0cjtcclxuICAgIGNvbnN0IGRvY3VtZW50ID0gY3JlYXRlRG9jdW1lbnQoY29udGVudCwgZWRpdG9yLnNjaGVtYSwgcGFyc2VPcHRpb25zKTtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHRyLnJlcGxhY2VXaXRoKDAsIGRvYy5jb250ZW50LnNpemUsIGRvY3VtZW50KS5zZXRNZXRhKCdwcmV2ZW50VXBkYXRlJywgIWVtaXRVcGRhdGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmZ1bmN0aW9uIGdldE1hcmtBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKSB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHsgZnJvbSwgdG8sIGVtcHR5IH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICBjb25zdCBtYXJrcyA9IFtdO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgaWYgKHN0YXRlLnN0b3JlZE1hcmtzKSB7XHJcbiAgICAgICAgICAgIG1hcmtzLnB1c2goLi4uc3RhdGUuc3RvcmVkTWFya3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYXJrcy5wdXNoKC4uLnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIG5vZGUgPT4ge1xyXG4gICAgICAgICAgICBtYXJrcy5wdXNoKC4uLm5vZGUubWFya3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWFyayA9IG1hcmtzLmZpbmQobWFya0l0ZW0gPT4gbWFya0l0ZW0udHlwZS5uYW1lID09PSB0eXBlLm5hbWUpO1xyXG4gICAgaWYgKCFtYXJrKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgLi4ubWFyay5hdHRycyB9O1xyXG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGEgbmV3IGBUcmFuc2Zvcm1gIGJhc2VkIG9uIGFsbCBzdGVwcyBvZiB0aGUgcGFzc2VkIHRyYW5zYWN0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGNvbWJpbmVUcmFuc2FjdGlvblN0ZXBzKG9sZERvYywgdHJhbnNhY3Rpb25zKSB7XHJcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKG9sZERvYyk7XHJcbiAgICB0cmFuc2FjdGlvbnMuZm9yRWFjaCh0cmFuc2FjdGlvbiA9PiB7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24uc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtLnN0ZXAoc3RlcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cmFuc2Zvcm07XHJcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJsb2NrQXQobWF0Y2gpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2guZWRnZUNvdW50OyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCB7IHR5cGUgfSA9IG1hdGNoLmVkZ2UoaSk7XHJcbiAgICAgICAgaWYgKHR5cGUuaXNUZXh0YmxvY2sgJiYgIXR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XG5cbmZ1bmN0aW9uIGZpbmRDaGlsZHJlbihub2RlLCBwcmVkaWNhdGUpIHtcclxuICAgIGNvbnN0IG5vZGVzV2l0aFBvcyA9IFtdO1xyXG4gICAgbm9kZS5kZXNjZW5kYW50cygoY2hpbGQsIHBvcykgPT4ge1xyXG4gICAgICAgIGlmIChwcmVkaWNhdGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIG5vZGVzV2l0aFBvcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICAgICAgcG9zLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBub2Rlc1dpdGhQb3M7XHJcbn1cblxuLyoqXHJcbiAqIFNhbWUgYXMgYGZpbmRDaGlsZHJlbmAgYnV0IHNlYXJjaGVzIG9ubHkgd2l0aGluIGEgYHJhbmdlYC5cclxuICovXHJcbmZ1bmN0aW9uIGZpbmRDaGlsZHJlbkluUmFuZ2Uobm9kZSwgcmFuZ2UsIHByZWRpY2F0ZSkge1xyXG4gICAgY29uc3Qgbm9kZXNXaXRoUG9zID0gW107XHJcbiAgICAvLyBpZiAocmFuZ2UuZnJvbSA9PT0gcmFuZ2UudG8pIHtcclxuICAgIC8vICAgY29uc3Qgbm9kZUF0ID0gbm9kZS5ub2RlQXQocmFuZ2UuZnJvbSlcclxuICAgIC8vICAgaWYgKG5vZGVBdCkge1xyXG4gICAgLy8gICAgIG5vZGVzV2l0aFBvcy5wdXNoKHtcclxuICAgIC8vICAgICAgIG5vZGU6IG5vZGVBdCxcclxuICAgIC8vICAgICAgIHBvczogcmFuZ2UuZnJvbSxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICBub2RlLm5vZGVzQmV0d2VlbihyYW5nZS5mcm9tLCByYW5nZS50bywgKGNoaWxkLCBwb3MpID0+IHtcclxuICAgICAgICBpZiAocHJlZGljYXRlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICBub2Rlc1dpdGhQb3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBub2RlOiBjaGlsZCxcclxuICAgICAgICAgICAgICAgIHBvcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbm9kZXNXaXRoUG9zO1xyXG59XG5cbmZ1bmN0aW9uIGZpbmRQYXJlbnROb2RlQ2xvc2VzdFRvUG9zKCRwb3MsIHByZWRpY2F0ZSkge1xyXG4gICAgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGg7IGkgPiAwOyBpIC09IDEpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gJHBvcy5ub2RlKGkpO1xyXG4gICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBvczogaSA+IDAgPyAkcG9zLmJlZm9yZShpKSA6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGFydDogJHBvcy5zdGFydChpKSxcclxuICAgICAgICAgICAgICAgIGRlcHRoOiBpLFxyXG4gICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZmluZFBhcmVudE5vZGUocHJlZGljYXRlKSB7XHJcbiAgICByZXR1cm4gKHNlbGVjdGlvbikgPT4gZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3Moc2VsZWN0aW9uLiRmcm9tLCBwcmVkaWNhdGUpO1xyXG59XG5cbmZ1bmN0aW9uIGdldEhUTUxGcm9tRnJhZ21lbnQoZnJhZ21lbnQsIHNjaGVtYSkge1xyXG4gICAgY29uc3QgZG9jdW1lbnRGcmFnbWVudCA9IERPTVNlcmlhbGl6ZXIuZnJvbVNjaGVtYShzY2hlbWEpLnNlcmlhbGl6ZUZyYWdtZW50KGZyYWdtZW50KTtcclxuICAgIGNvbnN0IHRlbXBvcmFyeURvY3VtZW50ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCk7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0ZW1wb3JhcnlEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudEZyYWdtZW50KTtcclxuICAgIHJldHVybiBjb250YWluZXIuaW5uZXJIVE1MO1xyXG59XG5cbmZ1bmN0aW9uIGdldFNjaGVtYShleHRlbnNpb25zLCBlZGl0b3IpIHtcclxuICAgIGNvbnN0IHJlc29sdmVkRXh0ZW5zaW9ucyA9IEV4dGVuc2lvbk1hbmFnZXIucmVzb2x2ZShleHRlbnNpb25zKTtcclxuICAgIHJldHVybiBnZXRTY2hlbWFCeVJlc29sdmVkRXh0ZW5zaW9ucyhyZXNvbHZlZEV4dGVuc2lvbnMsIGVkaXRvcik7XHJcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIVE1MKGRvYywgZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgY29udGVudE5vZGUgPSBOb2RlJDEuZnJvbUpTT04oc2NoZW1hLCBkb2MpO1xyXG4gICAgcmV0dXJuIGdldEhUTUxGcm9tRnJhZ21lbnQoY29udGVudE5vZGUuY29udGVudCwgc2NoZW1hKTtcclxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUpTT04oaHRtbCwgZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgZG9tID0gZWxlbWVudEZyb21TdHJpbmcoaHRtbCk7XHJcbiAgICByZXR1cm4gRE9NUGFyc2VyLmZyb21TY2hlbWEoc2NoZW1hKS5wYXJzZShkb20pLnRvSlNPTigpO1xyXG59XG5cbmZ1bmN0aW9uIGdldFRleHQobm9kZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSB7XHJcbiAgICAgICAgZnJvbTogMCxcclxuICAgICAgICB0bzogbm9kZS5jb250ZW50LnNpemUsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGdldFRleHRCZXR3ZWVuKG5vZGUsIHJhbmdlLCBvcHRpb25zKTtcclxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRleHQoZG9jLCBleHRlbnNpb25zLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IGJsb2NrU2VwYXJhdG9yID0gJ1xcblxcbicsIHRleHRTZXJpYWxpemVycyA9IHt9IH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgY29udGVudE5vZGUgPSBOb2RlJDEuZnJvbUpTT04oc2NoZW1hLCBkb2MpO1xyXG4gICAgcmV0dXJuIGdldFRleHQoY29udGVudE5vZGUsIHtcclxuICAgICAgICBibG9ja1NlcGFyYXRvcixcclxuICAgICAgICB0ZXh0U2VyaWFsaXplcnM6IHtcclxuICAgICAgICAgICAgLi4uZ2V0VGV4dFNlcmlhbGl6ZXJzRnJvbVNjaGVtYShzY2hlbWEpLFxyXG4gICAgICAgICAgICAuLi50ZXh0U2VyaWFsaXplcnMsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGdldE5vZGVBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKSB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcclxuICAgIGNvbnN0IG5vZGVzID0gW107XHJcbiAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBub2RlID0+IHtcclxuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBub2RlID0gbm9kZXMucmV2ZXJzZSgpLmZpbmQobm9kZUl0ZW0gPT4gbm9kZUl0ZW0udHlwZS5uYW1lID09PSB0eXBlLm5hbWUpO1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgLi4ubm9kZS5hdHRycyB9O1xyXG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZXMoc3RhdGUsIHR5cGVPck5hbWUpIHtcclxuICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZSh0eXBlb2YgdHlwZU9yTmFtZSA9PT0gJ3N0cmluZycgPyB0eXBlT3JOYW1lIDogdHlwZU9yTmFtZS5uYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdub2RlJykge1xyXG4gICAgICAgIHJldHVybiBnZXROb2RlQXR0cmlidXRlcyhzdGF0ZSwgdHlwZU9yTmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gJ21hcmsnKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldE1hcmtBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7fTtcclxufVxuXG4vKipcclxuICogUmVtb3ZlcyBkdXBsaWNhdGVkIHZhbHVlcyB3aXRoaW4gYW4gYXJyYXkuXHJcbiAqIFN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MgYW5kIG9iamVjdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycmF5LCBieSA9IEpTT04uc3RyaW5naWZ5KSB7XHJcbiAgICBjb25zdCBzZWVuID0ge307XHJcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGJ5KGl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Vlbiwga2V5KVxyXG4gICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgIDogKHNlZW5ba2V5XSA9IHRydWUpO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIFJlbW92ZXMgZHVwbGljYXRlZCByYW5nZXMgYW5kIHJhbmdlcyB0aGF0IGFyZVxyXG4gKiBmdWxseSBjYXB0dXJlZCBieSBvdGhlciByYW5nZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW1wbGlmeUNoYW5nZWRSYW5nZXMoY2hhbmdlcykge1xyXG4gICAgY29uc3QgdW5pcXVlQ2hhbmdlcyA9IHJlbW92ZUR1cGxpY2F0ZXMoY2hhbmdlcyk7XHJcbiAgICByZXR1cm4gdW5pcXVlQ2hhbmdlcy5sZW5ndGggPT09IDFcclxuICAgICAgICA/IHVuaXF1ZUNoYW5nZXNcclxuICAgICAgICA6IHVuaXF1ZUNoYW5nZXMuZmlsdGVyKChjaGFuZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3QgPSB1bmlxdWVDaGFuZ2VzLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gIXJlc3Quc29tZShvdGhlckNoYW5nZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlLm9sZFJhbmdlLmZyb20gPj0gb3RoZXJDaGFuZ2Uub2xkUmFuZ2UuZnJvbVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZS5vbGRSYW5nZS50byA8PSBvdGhlckNoYW5nZS5vbGRSYW5nZS50b1xyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZS5uZXdSYW5nZS5mcm9tID49IG90aGVyQ2hhbmdlLm5ld1JhbmdlLmZyb21cclxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2UubmV3UmFuZ2UudG8gPD0gb3RoZXJDaGFuZ2UubmV3UmFuZ2UudG87XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBjaGFuZ2VkIHJhbmdlc1xyXG4gKiBiYXNlZCBvbiB0aGUgZmlyc3QgYW5kIGxhc3Qgc3RhdGUgb2YgYWxsIHN0ZXBzLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q2hhbmdlZFJhbmdlcyh0cmFuc2Zvcm0pIHtcclxuICAgIGNvbnN0IHsgbWFwcGluZywgc3RlcHMgfSA9IHRyYW5zZm9ybTtcclxuICAgIGNvbnN0IGNoYW5nZXMgPSBbXTtcclxuICAgIG1hcHBpbmcubWFwcy5mb3JFYWNoKChzdGVwTWFwLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IFtdO1xyXG4gICAgICAgIC8vIFRoaXMgYWNjb3VudHMgZm9yIHN0ZXAgY2hhbmdlcyB3aGVyZSBubyByYW5nZSB3YXMgYWN0dWFsbHkgYWx0ZXJlZFxyXG4gICAgICAgIC8vIGUuZy4gd2hlbiBzZXR0aW5nIGEgbWFyaywgbm9kZSBhdHRyaWJ1dGUsIGV0Yy5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKCFzdGVwTWFwLnJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gc3RlcHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkIHx8IHRvID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RlcE1hcC5mb3JFYWNoKChmcm9tLCB0bykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJhbmdlcy5mb3JFYWNoKCh7IGZyb20sIHRvIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3U3RhcnQgPSBtYXBwaW5nLnNsaWNlKGluZGV4KS5tYXAoZnJvbSwgLTEpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbmQgPSBtYXBwaW5nLnNsaWNlKGluZGV4KS5tYXAodG8pO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRTdGFydCA9IG1hcHBpbmcuaW52ZXJ0KCkubWFwKG5ld1N0YXJ0LCAtMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZEVuZCA9IG1hcHBpbmcuaW52ZXJ0KCkubWFwKG5ld0VuZCk7XHJcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBvbGRSYW5nZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IG9sZFN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiBvbGRFbmQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbmV3UmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBuZXdTdGFydCxcclxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3RW5kLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzaW1wbGlmeUNoYW5nZWRSYW5nZXMoY2hhbmdlcyk7XHJcbn1cblxuZnVuY3Rpb24gZ2V0RGVidWdKU09OKG5vZGUsIHN0YXJ0T2Zmc2V0ID0gMCkge1xyXG4gICAgY29uc3QgaXNUb3BOb2RlID0gbm9kZS50eXBlID09PSBub2RlLnR5cGUuc2NoZW1hLnRvcE5vZGVUeXBlO1xyXG4gICAgY29uc3QgaW5jcmVtZW50ID0gaXNUb3BOb2RlID8gMCA6IDE7XHJcbiAgICBjb25zdCBmcm9tID0gc3RhcnRPZmZzZXQ7XHJcbiAgICBjb25zdCB0byA9IGZyb20gKyBub2RlLm5vZGVTaXplO1xyXG4gICAgY29uc3QgbWFya3MgPSBub2RlLm1hcmtzLm1hcChtYXJrID0+IHtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IG1hcmsudHlwZS5uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hcmsuYXR0cnMpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBvdXRwdXQuYXR0cnMgPSB7IC4uLm1hcmsuYXR0cnMgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgYXR0cnMgPSB7IC4uLm5vZGUuYXR0cnMgfTtcclxuICAgIGNvbnN0IG91dHB1dCA9IHtcclxuICAgICAgICB0eXBlOiBub2RlLnR5cGUubmFtZSxcclxuICAgICAgICBmcm9tLFxyXG4gICAgICAgIHRvLFxyXG4gICAgfTtcclxuICAgIGlmIChPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0LmF0dHJzID0gYXR0cnM7XHJcbiAgICB9XHJcbiAgICBpZiAobWFya3MubGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0Lm1hcmtzID0gbWFya3M7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZS5jb250ZW50LmNoaWxkQ291bnQpIHtcclxuICAgICAgICBvdXRwdXQuY29udGVudCA9IFtdO1xyXG4gICAgICAgIG5vZGUuZm9yRWFjaCgoY2hpbGQsIG9mZnNldCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIChfYSA9IG91dHB1dC5jb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaChnZXREZWJ1Z0pTT04oY2hpbGQsIHN0YXJ0T2Zmc2V0ICsgb2Zmc2V0ICsgaW5jcmVtZW50KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZS50ZXh0KSB7XHJcbiAgICAgICAgb3V0cHV0LnRleHQgPSBub2RlLnRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG59XG5cbmZ1bmN0aW9uIGdldE1hcmtzQmV0d2Vlbihmcm9tLCB0bywgZG9jKSB7XHJcbiAgICBjb25zdCBtYXJrcyA9IFtdO1xyXG4gICAgLy8gZ2V0IGFsbCBpbmNsdXNpdmUgbWFya3Mgb24gZW1wdHkgc2VsZWN0aW9uXHJcbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcclxuICAgICAgICBkb2NcclxuICAgICAgICAgICAgLnJlc29sdmUoZnJvbSlcclxuICAgICAgICAgICAgLm1hcmtzKClcclxuICAgICAgICAgICAgLmZvckVhY2gobWFyayA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRwb3MgPSBkb2MucmVzb2x2ZShmcm9tIC0gMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZ2V0TWFya1JhbmdlKCRwb3MsIG1hcmsudHlwZSk7XHJcbiAgICAgICAgICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXJrcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1hcmssXHJcbiAgICAgICAgICAgICAgICAuLi5yYW5nZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgIG1hcmtzLnB1c2goLi4ubm9kZS5tYXJrcy5tYXAobWFyayA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZnJvbTogcG9zLFxyXG4gICAgICAgICAgICAgICAgdG86IHBvcyArIG5vZGUubm9kZVNpemUsXHJcbiAgICAgICAgICAgICAgICBtYXJrLFxyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcmtzO1xyXG59XG5cbi8qKlxyXG4gKiBGaW5kcyB0aGUgZmlyc3Qgbm9kZSBvZiBhIGdpdmVuIHR5cGUgb3IgbmFtZSBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXHJcbiAqIEBwYXJhbSBzdGF0ZSBUaGUgZWRpdG9yIHN0YXRlLlxyXG4gKiBAcGFyYW0gdHlwZU9yTmFtZSBUaGUgbm9kZSB0eXBlIG9yIG5hbWUuXHJcbiAqIEBwYXJhbSBwb3MgVGhlIHBvc2l0aW9uIHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tLlxyXG4gKiBAcGFyYW0gbWF4RGVwdGggVGhlIG1heGltdW0gZGVwdGggdG8gc2VhcmNoLlxyXG4gKiBAcmV0dXJucyBUaGUgbm9kZSBhbmQgdGhlIGRlcHRoIGFzIGFuIGFycmF5LlxyXG4gKi9cclxuY29uc3QgZ2V0Tm9kZUF0UG9zaXRpb24gPSAoc3RhdGUsIHR5cGVPck5hbWUsIHBvcywgbWF4RGVwdGggPSAyMCkgPT4ge1xyXG4gICAgY29uc3QgJHBvcyA9IHN0YXRlLmRvYy5yZXNvbHZlKHBvcyk7XHJcbiAgICBsZXQgY3VycmVudERlcHRoID0gbWF4RGVwdGg7XHJcbiAgICBsZXQgbm9kZSA9IG51bGw7XHJcbiAgICB3aGlsZSAoY3VycmVudERlcHRoID4gMCAmJiBub2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSAkcG9zLm5vZGUoY3VycmVudERlcHRoKTtcclxuICAgICAgICBpZiAoKGN1cnJlbnROb2RlID09PSBudWxsIHx8IGN1cnJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50Tm9kZS50eXBlLm5hbWUpID09PSB0eXBlT3JOYW1lKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnREZXB0aCAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbbm9kZSwgY3VycmVudERlcHRoXTtcclxufTtcblxuZnVuY3Rpb24gZ2V0U3BsaXR0ZWRBdHRyaWJ1dGVzKGV4dGVuc2lvbkF0dHJpYnV0ZXMsIHR5cGVOYW1lLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdFxyXG4gICAgICAgIC5lbnRyaWVzKGF0dHJpYnV0ZXMpXHJcbiAgICAgICAgLmZpbHRlcigoW25hbWVdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlID0gZXh0ZW5zaW9uQXR0cmlidXRlcy5maW5kKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSB0eXBlTmFtZSAmJiBpdGVtLm5hbWUgPT09IG5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFleHRlbnNpb25BdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uQXR0cmlidXRlLmF0dHJpYnV0ZS5rZWVwT25TcGxpdDtcclxuICAgIH0pKTtcclxufVxuXG5mdW5jdGlvbiBpc01hcmtBY3RpdmUoc3RhdGUsIHR5cGVPck5hbWUsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgY29uc3QgeyBlbXB0eSwgcmFuZ2VzIH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICBjb25zdCB0eXBlID0gdHlwZU9yTmFtZSA/IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSkgOiBudWxsO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgcmV0dXJuICEhKHN0YXRlLnN0b3JlZE1hcmtzIHx8IHN0YXRlLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKG1hcmsgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlLm5hbWUgPT09IG1hcmsudHlwZS5uYW1lO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5kKG1hcmsgPT4gb2JqZWN0SW5jbHVkZXMobWFyay5hdHRycywgYXR0cmlidXRlcywgeyBzdHJpY3Q6IGZhbHNlIH0pKTtcclxuICAgIH1cclxuICAgIGxldCBzZWxlY3Rpb25SYW5nZSA9IDA7XHJcbiAgICBjb25zdCBtYXJrUmFuZ2VzID0gW107XHJcbiAgICByYW5nZXMuZm9yRWFjaCgoeyAkZnJvbSwgJHRvIH0pID0+IHtcclxuICAgICAgICBjb25zdCBmcm9tID0gJGZyb20ucG9zO1xyXG4gICAgICAgIGNvbnN0IHRvID0gJHRvLnBvcztcclxuICAgICAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5pc1RleHQgJiYgIW5vZGUubWFya3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVGcm9tID0gTWF0aC5tYXgoZnJvbSwgcG9zKTtcclxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVUbyA9IE1hdGgubWluKHRvLCBwb3MgKyBub2RlLm5vZGVTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSByZWxhdGl2ZVRvIC0gcmVsYXRpdmVGcm9tO1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25SYW5nZSArPSByYW5nZTtcclxuICAgICAgICAgICAgbWFya1Jhbmdlcy5wdXNoKC4uLm5vZGUubWFya3MubWFwKG1hcmsgPT4gKHtcclxuICAgICAgICAgICAgICAgIG1hcmssXHJcbiAgICAgICAgICAgICAgICBmcm9tOiByZWxhdGl2ZUZyb20sXHJcbiAgICAgICAgICAgICAgICB0bzogcmVsYXRpdmVUbyxcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKHNlbGVjdGlvblJhbmdlID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gY2FsY3VsYXRlIHJhbmdlIG9mIG1hdGNoZWQgbWFya1xyXG4gICAgY29uc3QgbWF0Y2hlZFJhbmdlID0gbWFya1Jhbmdlc1xyXG4gICAgICAgIC5maWx0ZXIobWFya1JhbmdlID0+IHtcclxuICAgICAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlLm5hbWUgPT09IG1hcmtSYW5nZS5tYXJrLnR5cGUubmFtZTtcclxuICAgIH0pXHJcbiAgICAgICAgLmZpbHRlcihtYXJrUmFuZ2UgPT4gb2JqZWN0SW5jbHVkZXMobWFya1JhbmdlLm1hcmsuYXR0cnMsIGF0dHJpYnV0ZXMsIHsgc3RyaWN0OiBmYWxzZSB9KSlcclxuICAgICAgICAucmVkdWNlKChzdW0sIG1hcmtSYW5nZSkgPT4gc3VtICsgbWFya1JhbmdlLnRvIC0gbWFya1JhbmdlLmZyb20sIDApO1xyXG4gICAgLy8gY2FsY3VsYXRlIHJhbmdlIG9mIG1hcmtzIHRoYXQgZXhjbHVkZXMgdGhlIHNlYXJjaGVkIG1hcmtcclxuICAgIC8vIGZvciBleGFtcGxlIGBjb2RlYCBkb2VzbuKAmXQgYWxsb3cgYW55IG90aGVyIG1hcmtzXHJcbiAgICBjb25zdCBleGNsdWRlZFJhbmdlID0gbWFya1Jhbmdlc1xyXG4gICAgICAgIC5maWx0ZXIobWFya1JhbmdlID0+IHtcclxuICAgICAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXJrUmFuZ2UubWFyay50eXBlICE9PSB0eXBlICYmIG1hcmtSYW5nZS5tYXJrLnR5cGUuZXhjbHVkZXModHlwZSk7XHJcbiAgICB9KVxyXG4gICAgICAgIC5yZWR1Y2UoKHN1bSwgbWFya1JhbmdlKSA9PiBzdW0gKyBtYXJrUmFuZ2UudG8gLSBtYXJrUmFuZ2UuZnJvbSwgMCk7XHJcbiAgICAvLyB3ZSBvbmx5IGluY2x1ZGUgdGhlIHJlc3VsdCBvZiBgZXhjbHVkZWRSYW5nZWBcclxuICAgIC8vIGlmIHRoZXJlIGlzIGEgbWF0Y2ggYXQgYWxsXHJcbiAgICBjb25zdCByYW5nZSA9IG1hdGNoZWRSYW5nZSA+IDAgPyBtYXRjaGVkUmFuZ2UgKyBleGNsdWRlZFJhbmdlIDogbWF0Y2hlZFJhbmdlO1xyXG4gICAgcmV0dXJuIHJhbmdlID49IHNlbGVjdGlvblJhbmdlO1xyXG59XG5cbmZ1bmN0aW9uIGlzQWN0aXZlKHN0YXRlLCBuYW1lLCBhdHRyaWJ1dGVzID0ge30pIHtcclxuICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgIHJldHVybiBpc05vZGVBY3RpdmUoc3RhdGUsIG51bGwsIGF0dHJpYnV0ZXMpIHx8IGlzTWFya0FjdGl2ZShzdGF0ZSwgbnVsbCwgYXR0cmlidXRlcyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzY2hlbWFUeXBlID0gZ2V0U2NoZW1hVHlwZU5hbWVCeU5hbWUobmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGlmIChzY2hlbWFUeXBlID09PSAnbm9kZScpIHtcclxuICAgICAgICByZXR1cm4gaXNOb2RlQWN0aXZlKHN0YXRlLCBuYW1lLCBhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuICAgIGlmIChzY2hlbWFUeXBlID09PSAnbWFyaycpIHtcclxuICAgICAgICByZXR1cm4gaXNNYXJrQWN0aXZlKHN0YXRlLCBuYW1lLCBhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxuXG5jb25zdCBpc0F0RW5kT2ZOb2RlID0gKHN0YXRlLCBub2RlVHlwZSkgPT4ge1xyXG4gICAgY29uc3QgeyAkZnJvbSwgJHRvLCAkYW5jaG9yIH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICBpZiAobm9kZVR5cGUpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gZmluZFBhcmVudE5vZGUobm9kZSA9PiBub2RlLnR5cGUubmFtZSA9PT0gbm9kZVR5cGUpKHN0YXRlLnNlbGVjdGlvbik7XHJcbiAgICAgICAgaWYgKCFwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgJHBhcmVudFBvcyA9IHN0YXRlLmRvYy5yZXNvbHZlKHBhcmVudE5vZGUucG9zICsgMSk7XHJcbiAgICAgICAgaWYgKCRhbmNob3IucG9zICsgMSA9PT0gJHBhcmVudFBvcy5lbmQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCR0by5wYXJlbnRPZmZzZXQgPCAkdG8ucGFyZW50Lm5vZGVTaXplIC0gMiB8fCAkZnJvbS5wb3MgIT09ICR0by5wb3MpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgaXNBdFN0YXJ0T2ZOb2RlID0gKHN0YXRlKSA9PiB7XHJcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcclxuICAgIGlmICgkZnJvbS5wYXJlbnRPZmZzZXQgPiAwIHx8ICRmcm9tLnBvcyAhPT0gJHRvLnBvcykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5mdW5jdGlvbiBpc0xpc3QobmFtZSwgZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3QgeyBub2RlRXh0ZW5zaW9ucyB9ID0gc3BsaXRFeHRlbnNpb25zKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbm9kZUV4dGVuc2lvbnMuZmluZChpdGVtID0+IGl0ZW0ubmFtZSA9PT0gbmFtZSk7XHJcbiAgICBpZiAoIWV4dGVuc2lvbikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ3JvdXAgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnZ3JvdXAnLCBjb250ZXh0KSk7XHJcbiAgICBpZiAodHlwZW9mIGdyb3VwICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBncm91cC5zcGxpdCgnICcpLmluY2x1ZGVzKCdsaXN0Jyk7XHJcbn1cblxuZnVuY3Rpb24gaXNOb2RlRW1wdHkobm9kZSkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgZGVmYXVsdENvbnRlbnQgPSAoX2EgPSBub2RlLnR5cGUuY3JlYXRlQW5kRmlsbCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9KU09OKCk7XHJcbiAgICBjb25zdCBjb250ZW50ID0gbm9kZS50b0pTT04oKTtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkZWZhdWx0Q29udGVudCkgPT09IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpO1xyXG59XG5cbmZ1bmN0aW9uIGlzTm9kZVNlbGVjdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbjtcclxufVxuXG5mdW5jdGlvbiBwb3NUb0RPTVJlY3QodmlldywgZnJvbSwgdG8pIHtcclxuICAgIGNvbnN0IG1pblBvcyA9IDA7XHJcbiAgICBjb25zdCBtYXhQb3MgPSB2aWV3LnN0YXRlLmRvYy5jb250ZW50LnNpemU7XHJcbiAgICBjb25zdCByZXNvbHZlZEZyb20gPSBtaW5NYXgoZnJvbSwgbWluUG9zLCBtYXhQb3MpO1xyXG4gICAgY29uc3QgcmVzb2x2ZWRFbmQgPSBtaW5NYXgodG8sIG1pblBvcywgbWF4UG9zKTtcclxuICAgIGNvbnN0IHN0YXJ0ID0gdmlldy5jb29yZHNBdFBvcyhyZXNvbHZlZEZyb20pO1xyXG4gICAgY29uc3QgZW5kID0gdmlldy5jb29yZHNBdFBvcyhyZXNvbHZlZEVuZCwgLTEpO1xyXG4gICAgY29uc3QgdG9wID0gTWF0aC5taW4oc3RhcnQudG9wLCBlbmQudG9wKTtcclxuICAgIGNvbnN0IGJvdHRvbSA9IE1hdGgubWF4KHN0YXJ0LmJvdHRvbSwgZW5kLmJvdHRvbSk7XHJcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5taW4oc3RhcnQubGVmdCwgZW5kLmxlZnQpO1xyXG4gICAgY29uc3QgcmlnaHQgPSBNYXRoLm1heChzdGFydC5yaWdodCwgZW5kLnJpZ2h0KTtcclxuICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xyXG4gICAgY29uc3QgeCA9IGxlZnQ7XHJcbiAgICBjb25zdCB5ID0gdG9wO1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICB0b3AsXHJcbiAgICAgICAgYm90dG9tLFxyXG4gICAgICAgIGxlZnQsXHJcbiAgICAgICAgcmlnaHQsXHJcbiAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmRhdGEsXHJcbiAgICAgICAgdG9KU09OOiAoKSA9PiBkYXRhLFxyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBjYW5TZXRNYXJrKHN0YXRlLCB0ciwgbmV3TWFya1R5cGUpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSB0cjtcclxuICAgIGxldCBjdXJzb3IgPSBudWxsO1xyXG4gICAgaWYgKGlzVGV4dFNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgY3Vyc29yID0gc2VsZWN0aW9uLiRjdXJzb3I7XHJcbiAgICB9XHJcbiAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudE1hcmtzID0gKF9hID0gc3RhdGUuc3RvcmVkTWFya3MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGN1cnNvci5tYXJrcygpO1xyXG4gICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBjdXJyZW50IG1hcmtzIHRoYXQgZXhjbHVkZSB0aGUgbmV3IG1hcmtcclxuICAgICAgICByZXR1cm4gKCEhbmV3TWFya1R5cGUuaXNJblNldChjdXJyZW50TWFya3MpXHJcbiAgICAgICAgICAgIHx8ICFjdXJyZW50TWFya3Muc29tZShtYXJrID0+IG1hcmsudHlwZS5leGNsdWRlcyhuZXdNYXJrVHlwZSkpKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICByZXR1cm4gcmFuZ2VzLnNvbWUoKHsgJGZyb20sICR0byB9KSA9PiB7XHJcbiAgICAgICAgbGV0IHNvbWVOb2RlU3VwcG9ydHNNYXJrID0gJGZyb20uZGVwdGggPT09IDBcclxuICAgICAgICAgICAgPyBzdGF0ZS5kb2MuaW5saW5lQ29udGVudCAmJiBzdGF0ZS5kb2MudHlwZS5hbGxvd3NNYXJrVHlwZShuZXdNYXJrVHlwZSlcclxuICAgICAgICAgICAgOiBmYWxzZTtcclxuICAgICAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKCRmcm9tLnBvcywgJHRvLnBvcywgKG5vZGUsIF9wb3MsIHBhcmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGZvdW5kIGEgbWFyayB0aGF0IHdlIGNhbiBlbmFibGUsIHJldHVybiBmYWxzZSB0byBieXBhc3MgdGhlIHJlbWFpbmluZyBzZWFyY2hcclxuICAgICAgICAgICAgaWYgKHNvbWVOb2RlU3VwcG9ydHNNYXJrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5vZGUuaXNJbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEFsbG93c01hcmtUeXBlID0gIXBhcmVudCB8fCBwYXJlbnQudHlwZS5hbGxvd3NNYXJrVHlwZShuZXdNYXJrVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TWFya3NBbGxvd01hcmtUeXBlID0gISFuZXdNYXJrVHlwZS5pc0luU2V0KG5vZGUubWFya3MpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgIW5vZGUubWFya3Muc29tZShvdGhlck1hcmsgPT4gb3RoZXJNYXJrLnR5cGUuZXhjbHVkZXMobmV3TWFya1R5cGUpKTtcclxuICAgICAgICAgICAgICAgIHNvbWVOb2RlU3VwcG9ydHNNYXJrID0gcGFyZW50QWxsb3dzTWFya1R5cGUgJiYgY3VycmVudE1hcmtzQWxsb3dNYXJrVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gIXNvbWVOb2RlU3VwcG9ydHNNYXJrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzb21lTm9kZVN1cHBvcnRzTWFyaztcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IHNldE1hcmsgPSAodHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSB0cjtcclxuICAgIGNvbnN0IHsgZW1wdHksIHJhbmdlcyB9ID0gc2VsZWN0aW9uO1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQXR0cmlidXRlcyA9IGdldE1hcmtBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlKTtcclxuICAgICAgICAgICAgdHIuYWRkU3RvcmVkTWFyayh0eXBlLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAuLi5vbGRBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgLi4uYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmFuZ2VzLmZvckVhY2gocmFuZ2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IHJhbmdlLiRmcm9tLnBvcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gcmFuZ2UuJHRvLnBvcztcclxuICAgICAgICAgICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkRnJvbSA9IE1hdGgubWF4KHBvcywgZnJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZFRvID0gTWF0aC5taW4ocG9zICsgbm9kZS5ub2RlU2l6ZSwgdG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvbWVIYXNNYXJrID0gbm9kZS5tYXJrcy5maW5kKG1hcmsgPT4gbWFyay50eXBlID09PSB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgbWFyayBvZiB0aGlzIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBrbm93IHRoYXQgd2UgaGF2ZSB0byBtZXJnZSBpdHMgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBhZGQgYSBmcmVzaCBuZXcgbWFya1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb21lSGFzTWFyaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLm1hcmtzLmZvckVhY2gobWFyayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gbWFyay50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuYWRkTWFyayh0cmltbWVkRnJvbSwgdHJpbW1lZFRvLCB0eXBlLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1hcmsuYXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsodHJpbW1lZEZyb20sIHRyaW1tZWRUbywgdHlwZS5jcmVhdGUoYXR0cmlidXRlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2FuU2V0TWFyayhzdGF0ZSwgdHIsIHR5cGUpO1xyXG59O1xuXG5jb25zdCBzZXRNZXRhID0gKGtleSwgdmFsdWUpID0+ICh7IHRyIH0pID0+IHtcclxuICAgIHRyLnNldE1ldGEoa2V5LCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3Qgc2V0Tm9kZSA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBkaXNwYXRjaCwgY2hhaW4gfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICAvLyBUT0RPOiB1c2UgYSBmYWxsYmFjayBsaWtlIGluc2VydENvbnRlbnQ/XHJcbiAgICBpZiAoIXR5cGUuaXNUZXh0YmxvY2spIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1t0aXB0YXAgd2Fybl06IEN1cnJlbnRseSBcInNldE5vZGUoKVwiIG9ubHkgc3VwcG9ydHMgdGV4dCBibG9jayBub2Rlcy4nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNoYWluKClcclxuICAgICAgICAvLyB0cnkgdG8gY29udmVydCBub2RlIHRvIGRlZmF1bHQgbm9kZSBpZiBuZWVkZWRcclxuICAgICAgICAuY29tbWFuZCgoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FuU2V0QmxvY2sgPSBzZXRCbG9ja1R5cGUodHlwZSwgYXR0cmlidXRlcykoc3RhdGUpO1xyXG4gICAgICAgIGlmIChjYW5TZXRCbG9jaykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmNsZWFyTm9kZXMoKTtcclxuICAgIH0pXHJcbiAgICAgICAgLmNvbW1hbmQoKHsgc3RhdGU6IHVwZGF0ZWRTdGF0ZSB9KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNldEJsb2NrVHlwZSh0eXBlLCBhdHRyaWJ1dGVzKSh1cGRhdGVkU3RhdGUsIGRpc3BhdGNoKTtcclxuICAgIH0pXHJcbiAgICAgICAgLnJ1bigpKTtcclxufTtcblxuY29uc3Qgc2V0Tm9kZVNlbGVjdGlvbiA9IHBvc2l0aW9uID0+ICh7IHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBjb25zdCB7IGRvYyB9ID0gdHI7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IG1pbk1heChwb3NpdGlvbiwgMCwgZG9jLmNvbnRlbnQuc2l6ZSk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gTm9kZVNlbGVjdGlvbi5jcmVhdGUoZG9jLCBmcm9tKTtcclxuICAgICAgICB0ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzZXRUZXh0U2VsZWN0aW9uID0gcG9zaXRpb24gPT4gKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IHsgZG9jIH0gPSB0cjtcclxuICAgICAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB0eXBlb2YgcG9zaXRpb24gPT09ICdudW1iZXInID8geyBmcm9tOiBwb3NpdGlvbiwgdG86IHBvc2l0aW9uIH0gOiBwb3NpdGlvbjtcclxuICAgICAgICBjb25zdCBtaW5Qb3MgPSBUZXh0U2VsZWN0aW9uLmF0U3RhcnQoZG9jKS5mcm9tO1xyXG4gICAgICAgIGNvbnN0IG1heFBvcyA9IFRleHRTZWxlY3Rpb24uYXRFbmQoZG9jKS50bztcclxuICAgICAgICBjb25zdCByZXNvbHZlZEZyb20gPSBtaW5NYXgoZnJvbSwgbWluUG9zLCBtYXhQb3MpO1xyXG4gICAgICAgIGNvbnN0IHJlc29sdmVkRW5kID0gbWluTWF4KHRvLCBtaW5Qb3MsIG1heFBvcyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gVGV4dFNlbGVjdGlvbi5jcmVhdGUoZG9jLCByZXNvbHZlZEZyb20sIHJlc29sdmVkRW5kKTtcclxuICAgICAgICB0ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzaW5rTGlzdEl0ZW0gPSB0eXBlT3JOYW1lID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIHJldHVybiBzaW5rTGlzdEl0ZW0kMSh0eXBlKShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5mdW5jdGlvbiBlbnN1cmVNYXJrcyhzdGF0ZSwgc3BsaXR0YWJsZU1hcmtzKSB7XHJcbiAgICBjb25zdCBtYXJrcyA9IHN0YXRlLnN0b3JlZE1hcmtzIHx8IChzdGF0ZS5zZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICBpZiAobWFya3MpIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZE1hcmtzID0gbWFya3MuZmlsdGVyKG1hcmsgPT4gc3BsaXR0YWJsZU1hcmtzID09PSBudWxsIHx8IHNwbGl0dGFibGVNYXJrcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3BsaXR0YWJsZU1hcmtzLmluY2x1ZGVzKG1hcmsudHlwZS5uYW1lKSk7XHJcbiAgICAgICAgc3RhdGUudHIuZW5zdXJlTWFya3MoZmlsdGVyZWRNYXJrcyk7XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgc3BsaXRCbG9jayA9ICh7IGtlZXBNYXJrcyA9IHRydWUgfSA9IHt9KSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoLCBlZGl0b3IsIH0pID0+IHtcclxuICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBkb2MgfSA9IHRyO1xyXG4gICAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzZWxlY3Rpb247XHJcbiAgICBjb25zdCBleHRlbnNpb25BdHRyaWJ1dGVzID0gZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXIuYXR0cmlidXRlcztcclxuICAgIGNvbnN0IG5ld0F0dHJpYnV0ZXMgPSBnZXRTcGxpdHRlZEF0dHJpYnV0ZXMoZXh0ZW5zaW9uQXR0cmlidXRlcywgJGZyb20ubm9kZSgpLnR5cGUubmFtZSwgJGZyb20ubm9kZSgpLmF0dHJzKTtcclxuICAgIGlmIChzZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHNlbGVjdGlvbi5ub2RlLmlzQmxvY2spIHtcclxuICAgICAgICBpZiAoISRmcm9tLnBhcmVudE9mZnNldCB8fCAhY2FuU3BsaXQoZG9jLCAkZnJvbS5wb3MpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgICAgIGlmIChrZWVwTWFya3MpIHtcclxuICAgICAgICAgICAgICAgIGVuc3VyZU1hcmtzKHN0YXRlLCBlZGl0b3IuZXh0ZW5zaW9uTWFuYWdlci5zcGxpdHRhYmxlTWFya3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyLnNwbGl0KCRmcm9tLnBvcykuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoISRmcm9tLnBhcmVudC5pc0Jsb2NrKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgY29uc3QgYXRFbmQgPSAkdG8ucGFyZW50T2Zmc2V0ID09PSAkdG8ucGFyZW50LmNvbnRlbnQuc2l6ZTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICB0ci5kZWxldGVTZWxlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGVmbHQgPSAkZnJvbS5kZXB0aCA9PT0gMFxyXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA6IGRlZmF1bHRCbG9ja0F0KCRmcm9tLm5vZGUoLTEpLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoLTEpKSk7XHJcbiAgICAgICAgbGV0IHR5cGVzID0gYXRFbmQgJiYgZGVmbHRcclxuICAgICAgICAgICAgPyBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZGVmbHQsXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IG5ld0F0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBjYW4gPSBjYW5TcGxpdCh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIHR5cGVzKTtcclxuICAgICAgICBpZiAoIXR5cGVzXHJcbiAgICAgICAgICAgICYmICFjYW5cclxuICAgICAgICAgICAgJiYgY2FuU3BsaXQodHIuZG9jLCB0ci5tYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCAxLCBkZWZsdCA/IFt7IHR5cGU6IGRlZmx0IH1dIDogdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBjYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB0eXBlcyA9IGRlZmx0XHJcbiAgICAgICAgICAgICAgICA/IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRlZmx0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogbmV3QXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjYW4pIHtcclxuICAgICAgICAgICAgdHIuc3BsaXQodHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgdHlwZXMpO1xyXG4gICAgICAgICAgICBpZiAoZGVmbHQgJiYgIWF0RW5kICYmICEkZnJvbS5wYXJlbnRPZmZzZXQgJiYgJGZyb20ucGFyZW50LnR5cGUgIT09IGRlZmx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdCA9IHRyLm1hcHBpbmcubWFwKCRmcm9tLmJlZm9yZSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRmaXJzdCA9IHRyLmRvYy5yZXNvbHZlKGZpcnN0KTtcclxuICAgICAgICAgICAgICAgIGlmICgkZnJvbS5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aCgkZmlyc3QuaW5kZXgoKSwgJGZpcnN0LmluZGV4KCkgKyAxLCBkZWZsdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5zZXROb2RlTWFya3VwKHRyLm1hcHBpbmcubWFwKCRmcm9tLmJlZm9yZSgpKSwgZGVmbHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChrZWVwTWFya3MpIHtcclxuICAgICAgICAgICAgZW5zdXJlTWFya3Moc3RhdGUsIGVkaXRvci5leHRlbnNpb25NYW5hZ2VyLnNwbGl0dGFibGVNYXJrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3Qgc3BsaXRMaXN0SXRlbSA9IHR5cGVPck5hbWUgPT4gKHsgdHIsIHN0YXRlLCBkaXNwYXRjaCwgZWRpdG9yLCB9KSA9PiB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBjb25zdCBub2RlID0gc3RhdGUuc2VsZWN0aW9uLm5vZGU7XHJcbiAgICBpZiAoKG5vZGUgJiYgbm9kZS5pc0Jsb2NrKSB8fCAkZnJvbS5kZXB0aCA8IDIgfHwgISRmcm9tLnNhbWVQYXJlbnQoJHRvKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGdyYW5kUGFyZW50ID0gJGZyb20ubm9kZSgtMSk7XHJcbiAgICBpZiAoZ3JhbmRQYXJlbnQudHlwZSAhPT0gdHlwZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSBlZGl0b3IuZXh0ZW5zaW9uTWFuYWdlci5hdHRyaWJ1dGVzO1xyXG4gICAgaWYgKCRmcm9tLnBhcmVudC5jb250ZW50LnNpemUgPT09IDAgJiYgJGZyb20ubm9kZSgtMSkuY2hpbGRDb3VudCA9PT0gJGZyb20uaW5kZXhBZnRlcigtMSkpIHtcclxuICAgICAgICAvLyBJbiBhbiBlbXB0eSBibG9jay4gSWYgdGhpcyBpcyBhIG5lc3RlZCBsaXN0LCB0aGUgd3JhcHBpbmdcclxuICAgICAgICAvLyBsaXN0IGl0ZW0gc2hvdWxkIGJlIHNwbGl0LiBPdGhlcndpc2UsIGJhaWwgb3V0IGFuZCBsZXQgbmV4dFxyXG4gICAgICAgIC8vIGNvbW1hbmQgaGFuZGxlIGxpZnRpbmcuXHJcbiAgICAgICAgaWYgKCRmcm9tLmRlcHRoID09PSAyXHJcbiAgICAgICAgICAgIHx8ICRmcm9tLm5vZGUoLTMpLnR5cGUgIT09IHR5cGVcclxuICAgICAgICAgICAgfHwgJGZyb20uaW5kZXgoLTIpICE9PSAkZnJvbS5ub2RlKC0yKS5jaGlsZENvdW50IC0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICBsZXQgd3JhcCA9IEZyYWdtZW50LmVtcHR5O1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgY29uc3QgZGVwdGhCZWZvcmUgPSAkZnJvbS5pbmRleCgtMSkgPyAxIDogJGZyb20uaW5kZXgoLTIpID8gMiA6IDM7XHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIGEgZnJhZ21lbnQgY29udGFpbmluZyBlbXB0eSB2ZXJzaW9ucyBvZiB0aGUgc3RydWN0dXJlXHJcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIG91dGVyIGxpc3QgaXRlbSB0byB0aGUgcGFyZW50IG5vZGUgb2YgdGhlIGN1cnNvclxyXG4gICAgICAgICAgICBmb3IgKGxldCBkID0gJGZyb20uZGVwdGggLSBkZXB0aEJlZm9yZTsgZCA+PSAkZnJvbS5kZXB0aCAtIDM7IGQgLT0gMSkge1xyXG4gICAgICAgICAgICAgICAgd3JhcCA9IEZyYWdtZW50LmZyb20oJGZyb20ubm9kZShkKS5jb3B5KHdyYXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgY29uc3QgZGVwdGhBZnRlciA9ICRmcm9tLmluZGV4QWZ0ZXIoLTEpIDwgJGZyb20ubm9kZSgtMikuY2hpbGRDb3VudCA/IDEgOiAkZnJvbS5pbmRleEFmdGVyKC0yKSA8ICRmcm9tLm5vZGUoLTMpLmNoaWxkQ291bnQgPyAyIDogMztcclxuICAgICAgICAgICAgLy8gQWRkIGEgc2Vjb25kIGxpc3QgaXRlbSB3aXRoIGFuIGVtcHR5IGRlZmF1bHQgc3RhcnQgbm9kZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdOZXh0VHlwZUF0dHJpYnV0ZXMgPSBnZXRTcGxpdHRlZEF0dHJpYnV0ZXMoZXh0ZW5zaW9uQXR0cmlidXRlcywgJGZyb20ubm9kZSgpLnR5cGUubmFtZSwgJGZyb20ubm9kZSgpLmF0dHJzKTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFR5cGUgPSAoKF9hID0gdHlwZS5jb250ZW50TWF0Y2guZGVmYXVsdFR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVBbmRGaWxsKG5ld05leHRUeXBlQXR0cmlidXRlcykpIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgd3JhcCA9IHdyYXAuYXBwZW5kKEZyYWdtZW50LmZyb20odHlwZS5jcmVhdGVBbmRGaWxsKG51bGwsIG5leHRUeXBlKSB8fCB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSAkZnJvbS5iZWZvcmUoJGZyb20uZGVwdGggLSAoZGVwdGhCZWZvcmUgLSAxKSk7XHJcbiAgICAgICAgICAgIHRyLnJlcGxhY2Uoc3RhcnQsICRmcm9tLmFmdGVyKC1kZXB0aEFmdGVyKSwgbmV3IFNsaWNlKHdyYXAsIDQgLSBkZXB0aEJlZm9yZSwgMCkpO1xyXG4gICAgICAgICAgICBsZXQgc2VsID0gLTE7XHJcbiAgICAgICAgICAgIHRyLmRvYy5ub2Rlc0JldHdlZW4oc3RhcnQsIHRyLmRvYy5jb250ZW50LnNpemUsIChuLCBwb3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWwgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuLmlzVGV4dGJsb2NrICYmIG4uY29udGVudC5zaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChzZWwgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHIuc2V0U2VsZWN0aW9uKFRleHRTZWxlY3Rpb24ubmVhcih0ci5kb2MucmVzb2x2ZShzZWwpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHIuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXh0VHlwZSA9ICR0by5wb3MgPT09ICRmcm9tLmVuZCgpID8gZ3JhbmRQYXJlbnQuY29udGVudE1hdGNoQXQoMCkuZGVmYXVsdFR5cGUgOiBudWxsO1xyXG4gICAgY29uc3QgbmV3VHlwZUF0dHJpYnV0ZXMgPSBnZXRTcGxpdHRlZEF0dHJpYnV0ZXMoZXh0ZW5zaW9uQXR0cmlidXRlcywgZ3JhbmRQYXJlbnQudHlwZS5uYW1lLCBncmFuZFBhcmVudC5hdHRycyk7XHJcbiAgICBjb25zdCBuZXdOZXh0VHlwZUF0dHJpYnV0ZXMgPSBnZXRTcGxpdHRlZEF0dHJpYnV0ZXMoZXh0ZW5zaW9uQXR0cmlidXRlcywgJGZyb20ubm9kZSgpLnR5cGUubmFtZSwgJGZyb20ubm9kZSgpLmF0dHJzKTtcclxuICAgIHRyLmRlbGV0ZSgkZnJvbS5wb3MsICR0by5wb3MpO1xyXG4gICAgY29uc3QgdHlwZXMgPSBuZXh0VHlwZVxyXG4gICAgICAgID8gW1xyXG4gICAgICAgICAgICB7IHR5cGUsIGF0dHJzOiBuZXdUeXBlQXR0cmlidXRlcyB9LFxyXG4gICAgICAgICAgICB7IHR5cGU6IG5leHRUeXBlLCBhdHRyczogbmV3TmV4dFR5cGVBdHRyaWJ1dGVzIH0sXHJcbiAgICAgICAgXVxyXG4gICAgICAgIDogW3sgdHlwZSwgYXR0cnM6IG5ld1R5cGVBdHRyaWJ1dGVzIH1dO1xyXG4gICAgaWYgKCFjYW5TcGxpdCh0ci5kb2MsICRmcm9tLnBvcywgMikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiwgc3RvcmVkTWFya3MgfSA9IHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHsgc3BsaXR0YWJsZU1hcmtzIH0gPSBlZGl0b3IuZXh0ZW5zaW9uTWFuYWdlcjtcclxuICAgICAgICBjb25zdCBtYXJrcyA9IHN0b3JlZE1hcmtzIHx8IChzZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICAgICAgdHIuc3BsaXQoJGZyb20ucG9zLCAyLCB0eXBlcykuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICBpZiAoIW1hcmtzIHx8ICFkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZmlsdGVyZWRNYXJrcyA9IG1hcmtzLmZpbHRlcihtYXJrID0+IHNwbGl0dGFibGVNYXJrcy5pbmNsdWRlcyhtYXJrLnR5cGUubmFtZSkpO1xyXG4gICAgICAgIHRyLmVuc3VyZU1hcmtzKGZpbHRlcmVkTWFya3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGpvaW5MaXN0QmFja3dhcmRzID0gKHRyLCBsaXN0VHlwZSkgPT4ge1xyXG4gICAgY29uc3QgbGlzdCA9IGZpbmRQYXJlbnROb2RlKG5vZGUgPT4gbm9kZS50eXBlID09PSBsaXN0VHlwZSkodHIuc2VsZWN0aW9uKTtcclxuICAgIGlmICghbGlzdCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmVmb3JlID0gdHIuZG9jLnJlc29sdmUoTWF0aC5tYXgoMCwgbGlzdC5wb3MgLSAxKSkuYmVmb3JlKGxpc3QuZGVwdGgpO1xyXG4gICAgaWYgKGJlZm9yZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBub2RlQmVmb3JlID0gdHIuZG9jLm5vZGVBdChiZWZvcmUpO1xyXG4gICAgY29uc3QgY2FuSm9pbkJhY2t3YXJkcyA9IGxpc3Qubm9kZS50eXBlID09PSAobm9kZUJlZm9yZSA9PT0gbnVsbCB8fCBub2RlQmVmb3JlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlQmVmb3JlLnR5cGUpICYmIGNhbkpvaW4odHIuZG9jLCBsaXN0LnBvcyk7XHJcbiAgICBpZiAoIWNhbkpvaW5CYWNrd2FyZHMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRyLmpvaW4obGlzdC5wb3MpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcbmNvbnN0IGpvaW5MaXN0Rm9yd2FyZHMgPSAodHIsIGxpc3RUeXBlKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0ID0gZmluZFBhcmVudE5vZGUobm9kZSA9PiBub2RlLnR5cGUgPT09IGxpc3RUeXBlKSh0ci5zZWxlY3Rpb24pO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhZnRlciA9IHRyLmRvYy5yZXNvbHZlKGxpc3Quc3RhcnQpLmFmdGVyKGxpc3QuZGVwdGgpO1xyXG4gICAgaWYgKGFmdGVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vZGVBZnRlciA9IHRyLmRvYy5ub2RlQXQoYWZ0ZXIpO1xyXG4gICAgY29uc3QgY2FuSm9pbkZvcndhcmRzID0gbGlzdC5ub2RlLnR5cGUgPT09IChub2RlQWZ0ZXIgPT09IG51bGwgfHwgbm9kZUFmdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlQWZ0ZXIudHlwZSkgJiYgY2FuSm9pbih0ci5kb2MsIGFmdGVyKTtcclxuICAgIGlmICghY2FuSm9pbkZvcndhcmRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB0ci5qb2luKGFmdGVyKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xyXG5jb25zdCB0b2dnbGVMaXN0ID0gKGxpc3RUeXBlT3JOYW1lLCBpdGVtVHlwZU9yTmFtZSwga2VlcE1hcmtzLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IGVkaXRvciwgdHIsIHN0YXRlLCBkaXNwYXRjaCwgY2hhaW4sIGNvbW1hbmRzLCBjYW4sIH0pID0+IHtcclxuICAgIGNvbnN0IHsgZXh0ZW5zaW9ucywgc3BsaXR0YWJsZU1hcmtzIH0gPSBlZGl0b3IuZXh0ZW5zaW9uTWFuYWdlcjtcclxuICAgIGNvbnN0IGxpc3RUeXBlID0gZ2V0Tm9kZVR5cGUobGlzdFR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCBpdGVtVHlwZSA9IGdldE5vZGVUeXBlKGl0ZW1UeXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24sIHN0b3JlZE1hcmtzIH0gPSBzdGF0ZTtcclxuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc2VsZWN0aW9uO1xyXG4gICAgY29uc3QgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byk7XHJcbiAgICBjb25zdCBtYXJrcyA9IHN0b3JlZE1hcmtzIHx8IChzZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICBpZiAoIXJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGFyZW50TGlzdCA9IGZpbmRQYXJlbnROb2RlKG5vZGUgPT4gaXNMaXN0KG5vZGUudHlwZS5uYW1lLCBleHRlbnNpb25zKSkoc2VsZWN0aW9uKTtcclxuICAgIGlmIChyYW5nZS5kZXB0aCA+PSAxICYmIHBhcmVudExpc3QgJiYgcmFuZ2UuZGVwdGggLSBwYXJlbnRMaXN0LmRlcHRoIDw9IDEpIHtcclxuICAgICAgICAvLyByZW1vdmUgbGlzdFxyXG4gICAgICAgIGlmIChwYXJlbnRMaXN0Lm5vZGUudHlwZSA9PT0gbGlzdFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmxpZnRMaXN0SXRlbShpdGVtVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoYW5nZSBsaXN0IHR5cGVcclxuICAgICAgICBpZiAoaXNMaXN0KHBhcmVudExpc3Qubm9kZS50eXBlLm5hbWUsIGV4dGVuc2lvbnMpXHJcbiAgICAgICAgICAgICYmIGxpc3RUeXBlLnZhbGlkQ29udGVudChwYXJlbnRMaXN0Lm5vZGUuY29udGVudClcclxuICAgICAgICAgICAgJiYgZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYWluKClcclxuICAgICAgICAgICAgICAgIC5jb21tYW5kKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAocGFyZW50TGlzdC5wb3MsIGxpc3RUeXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4gam9pbkxpc3RCYWNrd2FyZHModHIsIGxpc3RUeXBlKSlcclxuICAgICAgICAgICAgICAgIC5jb21tYW5kKCgpID0+IGpvaW5MaXN0Rm9yd2FyZHModHIsIGxpc3RUeXBlKSlcclxuICAgICAgICAgICAgICAgIC5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWtlZXBNYXJrcyB8fCAhbWFya3MgfHwgIWRpc3BhdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoYWluKClcclxuICAgICAgICAgICAgLy8gdHJ5IHRvIGNvbnZlcnQgbm9kZSB0byBkZWZhdWx0IG5vZGUgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgIC5jb21tYW5kKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FuV3JhcEluTGlzdCA9IGNhbigpLndyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoY2FuV3JhcEluTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmNsZWFyTm9kZXMoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAud3JhcEluTGlzdChsaXN0VHlwZSwgYXR0cmlidXRlcylcclxuICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4gam9pbkxpc3RCYWNrd2FyZHModHIsIGxpc3RUeXBlKSlcclxuICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4gam9pbkxpc3RGb3J3YXJkcyh0ciwgbGlzdFR5cGUpKVxyXG4gICAgICAgICAgICAucnVuKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNoYWluKClcclxuICAgICAgICAvLyB0cnkgdG8gY29udmVydCBub2RlIHRvIGRlZmF1bHQgbm9kZSBpZiBuZWVkZWRcclxuICAgICAgICAuY29tbWFuZCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FuV3JhcEluTGlzdCA9IGNhbigpLndyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTWFya3MgPSBtYXJrcy5maWx0ZXIobWFyayA9PiBzcGxpdHRhYmxlTWFya3MuaW5jbHVkZXMobWFyay50eXBlLm5hbWUpKTtcclxuICAgICAgICB0ci5lbnN1cmVNYXJrcyhmaWx0ZXJlZE1hcmtzKTtcclxuICAgICAgICBpZiAoY2FuV3JhcEluTGlzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmNsZWFyTm9kZXMoKTtcclxuICAgIH0pXHJcbiAgICAgICAgLndyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJpYnV0ZXMpXHJcbiAgICAgICAgLmNvbW1hbmQoKCkgPT4gam9pbkxpc3RCYWNrd2FyZHModHIsIGxpc3RUeXBlKSlcclxuICAgICAgICAuY29tbWFuZCgoKSA9PiBqb2luTGlzdEZvcndhcmRzKHRyLCBsaXN0VHlwZSkpXHJcbiAgICAgICAgLnJ1bigpKTtcclxufTtcblxuY29uc3QgdG9nZ2xlTWFyayA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30sIG9wdGlvbnMgPSB7fSkgPT4gKHsgc3RhdGUsIGNvbW1hbmRzIH0pID0+IHtcclxuICAgIGNvbnN0IHsgZXh0ZW5kRW1wdHlNYXJrUmFuZ2UgPSBmYWxzZSB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHR5cGUgPSBnZXRNYXJrVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgaXNBY3RpdmUgPSBpc01hcmtBY3RpdmUoc3RhdGUsIHR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnVuc2V0TWFyayh0eXBlLCB7IGV4dGVuZEVtcHR5TWFya1JhbmdlIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbW1hbmRzLnNldE1hcmsodHlwZSwgYXR0cmlidXRlcyk7XHJcbn07XG5cbmNvbnN0IHRvZ2dsZU5vZGUgPSAodHlwZU9yTmFtZSwgdG9nZ2xlVHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyBzdGF0ZSwgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCB0b2dnbGVUeXBlID0gZ2V0Tm9kZVR5cGUodG9nZ2xlVHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gaXNOb2RlQWN0aXZlKHN0YXRlLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICAgIHJldHVybiBjb21tYW5kcy5zZXROb2RlKHRvZ2dsZVR5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbW1hbmRzLnNldE5vZGUodHlwZSwgYXR0cmlidXRlcyk7XHJcbn07XG5cbmNvbnN0IHRvZ2dsZVdyYXAgPSAodHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyBzdGF0ZSwgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGlzTm9kZUFjdGl2ZShzdGF0ZSwgdHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm4gY29tbWFuZHMubGlmdCh0eXBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21tYW5kcy53cmFwSW4odHlwZSwgYXR0cmlidXRlcyk7XHJcbn07XG5cbmNvbnN0IHVuZG9JbnB1dFJ1bGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgcGx1Z2lucyA9IHN0YXRlLnBsdWdpbnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSBwbHVnaW5zW2ldO1xyXG4gICAgICAgIGxldCB1bmRvYWJsZTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgaWYgKHBsdWdpbi5zcGVjLmlzSW5wdXRSdWxlcyAmJiAodW5kb2FibGUgPSBwbHVnaW4uZ2V0U3RhdGUoc3RhdGUpKSkge1xyXG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyID0gc3RhdGUudHI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b1VuZG8gPSB1bmRvYWJsZS50cmFuc2Zvcm07XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdG9VbmRvLnN0ZXBzLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuc3RlcCh0b1VuZG8uc3RlcHNbal0uaW52ZXJ0KHRvVW5kby5kb2NzW2pdKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodW5kb2FibGUudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtzID0gdHIuZG9jLnJlc29sdmUodW5kb2FibGUuZnJvbSkubWFya3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ci5yZXBsYWNlV2l0aCh1bmRvYWJsZS5mcm9tLCB1bmRvYWJsZS50bywgc3RhdGUuc2NoZW1hLnRleHQodW5kb2FibGUudGV4dCwgbWFya3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmRlbGV0ZSh1bmRvYWJsZS5mcm9tLCB1bmRvYWJsZS50byk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xuXG5jb25zdCB1bnNldEFsbE1hcmtzID0gKCkgPT4gKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSB0cjtcclxuICAgIGNvbnN0IHsgZW1wdHksIHJhbmdlcyB9ID0gc2VsZWN0aW9uO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHRyLnJlbW92ZU1hcmsocmFuZ2UuJGZyb20ucG9zLCByYW5nZS4kdG8ucG9zKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCB1bnNldE1hcmsgPSAodHlwZU9yTmFtZSwgb3B0aW9ucyA9IHt9KSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHsgZXh0ZW5kRW1wdHlNYXJrUmFuZ2UgPSBmYWxzZSB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSB0cjtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXRNYXJrVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgeyAkZnJvbSwgZW1wdHksIHJhbmdlcyB9ID0gc2VsZWN0aW9uO1xyXG4gICAgaWYgKCFkaXNwYXRjaCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGVtcHR5ICYmIGV4dGVuZEVtcHR5TWFya1JhbmdlKSB7XHJcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICBjb25zdCBhdHRycyA9IChfYSA9ICRmcm9tLm1hcmtzKCkuZmluZChtYXJrID0+IG1hcmsudHlwZSA9PT0gdHlwZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdHRycztcclxuICAgICAgICBjb25zdCByYW5nZSA9IGdldE1hcmtSYW5nZSgkZnJvbSwgdHlwZSwgYXR0cnMpO1xyXG4gICAgICAgIGlmIChyYW5nZSkge1xyXG4gICAgICAgICAgICBmcm9tID0gcmFuZ2UuZnJvbTtcclxuICAgICAgICAgICAgdG8gPSByYW5nZS50bztcclxuICAgICAgICB9XHJcbiAgICAgICAgdHIucmVtb3ZlTWFyayhmcm9tLCB0bywgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHRyLnJlbW92ZU1hcmsocmFuZ2UuJGZyb20ucG9zLCByYW5nZS4kdG8ucG9zLCB0eXBlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRyLnJlbW92ZVN0b3JlZE1hcmsodHlwZSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgdXBkYXRlQXR0cmlidXRlcyA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgbGV0IG5vZGVUeXBlID0gbnVsbDtcclxuICAgIGxldCBtYXJrVHlwZSA9IG51bGw7XHJcbiAgICBjb25zdCBzY2hlbWFUeXBlID0gZ2V0U2NoZW1hVHlwZU5hbWVCeU5hbWUodHlwZW9mIHR5cGVPck5hbWUgPT09ICdzdHJpbmcnID8gdHlwZU9yTmFtZSA6IHR5cGVPck5hbWUubmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGlmICghc2NoZW1hVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChzY2hlbWFUeXBlID09PSAnbm9kZScpIHtcclxuICAgICAgICBub2RlVHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gJ21hcmsnKSB7XHJcbiAgICAgICAgbWFya1R5cGUgPSBnZXRNYXJrVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgdHIuc2VsZWN0aW9uLnJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHJhbmdlLiRmcm9tLnBvcztcclxuICAgICAgICAgICAgY29uc3QgdG8gPSByYW5nZS4kdG8ucG9zO1xyXG4gICAgICAgICAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgJiYgbm9kZVR5cGUgPT09IG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubm9kZS5hdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtYXJrVHlwZSAmJiBub2RlLm1hcmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWFya3MuZm9yRWFjaChtYXJrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtUeXBlID09PSBtYXJrLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRGcm9tID0gTWF0aC5tYXgocG9zLCBmcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRUbyA9IE1hdGgubWluKHBvcyArIG5vZGUubm9kZVNpemUsIHRvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsodHJpbW1lZEZyb20sIHRyaW1tZWRUbywgbWFya1R5cGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5tYXJrLmF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3Qgd3JhcEluID0gKHR5cGVPck5hbWUsIGF0dHJpYnV0ZXMgPSB7fSkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgcmV0dXJuIHdyYXBJbiQxKHR5cGUsIGF0dHJpYnV0ZXMpKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IHdyYXBJbkxpc3QgPSAodHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICByZXR1cm4gd3JhcEluTGlzdCQxKHR5cGUsIGF0dHJpYnV0ZXMpKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbnZhciBjb21tYW5kcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBibHVyOiBibHVyLFxuICBjbGVhckNvbnRlbnQ6IGNsZWFyQ29udGVudCxcbiAgY2xlYXJOb2RlczogY2xlYXJOb2RlcyxcbiAgY29tbWFuZDogY29tbWFuZCxcbiAgY3JlYXRlUGFyYWdyYXBoTmVhcjogY3JlYXRlUGFyYWdyYXBoTmVhcixcbiAgY3V0OiBjdXQsXG4gIGRlbGV0ZUN1cnJlbnROb2RlOiBkZWxldGVDdXJyZW50Tm9kZSxcbiAgZGVsZXRlTm9kZTogZGVsZXRlTm9kZSxcbiAgZGVsZXRlUmFuZ2U6IGRlbGV0ZVJhbmdlLFxuICBkZWxldGVTZWxlY3Rpb246IGRlbGV0ZVNlbGVjdGlvbixcbiAgZW50ZXI6IGVudGVyLFxuICBleGl0Q29kZTogZXhpdENvZGUsXG4gIGV4dGVuZE1hcmtSYW5nZTogZXh0ZW5kTWFya1JhbmdlLFxuICBmaXJzdDogZmlyc3QsXG4gIGZvY3VzOiBmb2N1cyxcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgaW5zZXJ0Q29udGVudDogaW5zZXJ0Q29udGVudCxcbiAgaW5zZXJ0Q29udGVudEF0OiBpbnNlcnRDb250ZW50QXQsXG4gIGpvaW5VcDogam9pblVwLFxuICBqb2luRG93bjogam9pbkRvd24sXG4gIGpvaW5CYWNrd2FyZDogam9pbkJhY2t3YXJkLFxuICBqb2luRm9yd2FyZDogam9pbkZvcndhcmQsXG4gIGpvaW5JdGVtQmFja3dhcmQ6IGpvaW5JdGVtQmFja3dhcmQsXG4gIGpvaW5JdGVtRm9yd2FyZDogam9pbkl0ZW1Gb3J3YXJkLFxuICBrZXlib2FyZFNob3J0Y3V0OiBrZXlib2FyZFNob3J0Y3V0LFxuICBsaWZ0OiBsaWZ0LFxuICBsaWZ0RW1wdHlCbG9jazogbGlmdEVtcHR5QmxvY2ssXG4gIGxpZnRMaXN0SXRlbTogbGlmdExpc3RJdGVtLFxuICBuZXdsaW5lSW5Db2RlOiBuZXdsaW5lSW5Db2RlLFxuICByZXNldEF0dHJpYnV0ZXM6IHJlc2V0QXR0cmlidXRlcyxcbiAgc2Nyb2xsSW50b1ZpZXc6IHNjcm9sbEludG9WaWV3LFxuICBzZWxlY3RBbGw6IHNlbGVjdEFsbCxcbiAgc2VsZWN0Tm9kZUJhY2t3YXJkOiBzZWxlY3ROb2RlQmFja3dhcmQsXG4gIHNlbGVjdE5vZGVGb3J3YXJkOiBzZWxlY3ROb2RlRm9yd2FyZCxcbiAgc2VsZWN0UGFyZW50Tm9kZTogc2VsZWN0UGFyZW50Tm9kZSxcbiAgc2VsZWN0VGV4dGJsb2NrRW5kOiBzZWxlY3RUZXh0YmxvY2tFbmQsXG4gIHNlbGVjdFRleHRibG9ja1N0YXJ0OiBzZWxlY3RUZXh0YmxvY2tTdGFydCxcbiAgc2V0Q29udGVudDogc2V0Q29udGVudCxcbiAgc2V0TWFyazogc2V0TWFyayxcbiAgc2V0TWV0YTogc2V0TWV0YSxcbiAgc2V0Tm9kZTogc2V0Tm9kZSxcbiAgc2V0Tm9kZVNlbGVjdGlvbjogc2V0Tm9kZVNlbGVjdGlvbixcbiAgc2V0VGV4dFNlbGVjdGlvbjogc2V0VGV4dFNlbGVjdGlvbixcbiAgc2lua0xpc3RJdGVtOiBzaW5rTGlzdEl0ZW0sXG4gIHNwbGl0QmxvY2s6IHNwbGl0QmxvY2ssXG4gIHNwbGl0TGlzdEl0ZW06IHNwbGl0TGlzdEl0ZW0sXG4gIHRvZ2dsZUxpc3Q6IHRvZ2dsZUxpc3QsXG4gIHRvZ2dsZU1hcms6IHRvZ2dsZU1hcmssXG4gIHRvZ2dsZU5vZGU6IHRvZ2dsZU5vZGUsXG4gIHRvZ2dsZVdyYXA6IHRvZ2dsZVdyYXAsXG4gIHVuZG9JbnB1dFJ1bGU6IHVuZG9JbnB1dFJ1bGUsXG4gIHVuc2V0QWxsTWFya3M6IHVuc2V0QWxsTWFya3MsXG4gIHVuc2V0TWFyazogdW5zZXRNYXJrLFxuICB1cGRhdGVBdHRyaWJ1dGVzOiB1cGRhdGVBdHRyaWJ1dGVzLFxuICB3cmFwSW46IHdyYXBJbixcbiAgd3JhcEluTGlzdDogd3JhcEluTGlzdFxufSk7XG5cbmNvbnN0IENvbW1hbmRzID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY29tbWFuZHMnLFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4uY29tbWFuZHMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5jb25zdCBFZGl0YWJsZSA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2VkaXRhYmxlJyxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBuZXcgUGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnZWRpdGFibGUnKSxcclxuICAgICAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6ICgpID0+IHRoaXMuZWRpdG9yLm9wdGlvbnMuZWRpdGFibGUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmNvbnN0IEZvY3VzRXZlbnRzID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZm9jdXNFdmVudHMnLFxyXG4gICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZWRpdG9yIH0gPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgICAgICAgICAga2V5OiBuZXcgUGx1Z2luS2V5KCdmb2N1c0V2ZW50cycpLFxyXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6ICh2aWV3LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmlzRm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGVkaXRvci5zdGF0ZS50clxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdmb2N1cycsIHsgZXZlbnQgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0TWV0YSgnYWRkVG9IaXN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh0cmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsdXI6ICh2aWV3LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmlzRm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBlZGl0b3Iuc3RhdGUudHJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0TWV0YSgnYmx1cicsIHsgZXZlbnQgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0TWV0YSgnYWRkVG9IaXN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh0cmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuY29uc3QgS2V5bWFwID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAna2V5bWFwJyxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZUJhY2tzcGFjZSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzIH0pID0+IFtcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMudW5kb0lucHV0UnVsZSgpLFxyXG4gICAgICAgICAgICAvLyBtYXliZSBjb252ZXJ0IGZpcnN0IHRleHQgYmxvY2sgbm9kZSB0byBkZWZhdWx0IG5vZGVcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuY29tbWFuZCgoeyB0ciB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiwgZG9jIH0gPSB0cjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZW1wdHksICRhbmNob3IgfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcG9zLCBwYXJlbnQgfSA9ICRhbmNob3I7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkcGFyZW50UG9zID0gJGFuY2hvci5wYXJlbnQuaXNUZXh0YmxvY2sgPyB0ci5kb2MucmVzb2x2ZShwb3MgLSAxKSA6ICRhbmNob3I7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJc0lzb2xhdGluZyA9ICRwYXJlbnRQb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQb3MgPSAkYW5jaG9yLnBvcyAtICRhbmNob3IucGFyZW50T2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNBdFN0YXJ0ID0gKHBhcmVudElzSXNvbGF0aW5nICYmICRwYXJlbnRQb3MucGFyZW50LmNoaWxkQ291bnQgPT09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJlbnRQb3MgPT09ICRhbmNob3IucG9zXHJcbiAgICAgICAgICAgICAgICAgICAgOiBTZWxlY3Rpb24uYXRTdGFydChkb2MpLmZyb20gPT09IHBvcztcclxuICAgICAgICAgICAgICAgIGlmICghZW1wdHkgfHwgIWlzQXRTdGFydCB8fCAhcGFyZW50LnR5cGUuaXNUZXh0YmxvY2sgfHwgcGFyZW50LnRleHRDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5jbGVhck5vZGVzKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5kZWxldGVTZWxlY3Rpb24oKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuam9pbkJhY2t3YXJkKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLnNlbGVjdE5vZGVCYWNrd2FyZCgpLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZURlbGV0ZSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzIH0pID0+IFtcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuZGVsZXRlU2VsZWN0aW9uKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmRlbGV0ZUN1cnJlbnROb2RlKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmpvaW5Gb3J3YXJkKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLnNlbGVjdE5vZGVGb3J3YXJkKCksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlRW50ZXIgPSAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5maXJzdCgoeyBjb21tYW5kcyB9KSA9PiBbXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLm5ld2xpbmVJbkNvZGUoKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuY3JlYXRlUGFyYWdyYXBoTmVhcigpLFxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5saWZ0RW1wdHlCbG9jaygpLFxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5zcGxpdEJsb2NrKCksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgYmFzZUtleW1hcCA9IHtcclxuICAgICAgICAgICAgRW50ZXI6IGhhbmRsZUVudGVyLFxyXG4gICAgICAgICAgICAnTW9kLUVudGVyJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuZXhpdENvZGUoKSxcclxuICAgICAgICAgICAgQmFja3NwYWNlOiBoYW5kbGVCYWNrc3BhY2UsXHJcbiAgICAgICAgICAgICdNb2QtQmFja3NwYWNlJzogaGFuZGxlQmFja3NwYWNlLFxyXG4gICAgICAgICAgICAnU2hpZnQtQmFja3NwYWNlJzogaGFuZGxlQmFja3NwYWNlLFxyXG4gICAgICAgICAgICBEZWxldGU6IGhhbmRsZURlbGV0ZSxcclxuICAgICAgICAgICAgJ01vZC1EZWxldGUnOiBoYW5kbGVEZWxldGUsXHJcbiAgICAgICAgICAgICdNb2QtYSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNlbGVjdEFsbCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcGNLZXltYXAgPSB7XHJcbiAgICAgICAgICAgIC4uLmJhc2VLZXltYXAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBtYWNLZXltYXAgPSB7XHJcbiAgICAgICAgICAgIC4uLmJhc2VLZXltYXAsXHJcbiAgICAgICAgICAgICdDdHJsLWgnOiBoYW5kbGVCYWNrc3BhY2UsXHJcbiAgICAgICAgICAgICdBbHQtQmFja3NwYWNlJzogaGFuZGxlQmFja3NwYWNlLFxyXG4gICAgICAgICAgICAnQ3RybC1kJzogaGFuZGxlRGVsZXRlLFxyXG4gICAgICAgICAgICAnQ3RybC1BbHQtQmFja3NwYWNlJzogaGFuZGxlRGVsZXRlLFxyXG4gICAgICAgICAgICAnQWx0LURlbGV0ZSc6IGhhbmRsZURlbGV0ZSxcclxuICAgICAgICAgICAgJ0FsdC1kJzogaGFuZGxlRGVsZXRlLFxyXG4gICAgICAgICAgICAnQ3RybC1hJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2VsZWN0VGV4dGJsb2NrU3RhcnQoKSxcclxuICAgICAgICAgICAgJ0N0cmwtZSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNlbGVjdFRleHRibG9ja0VuZCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGlzaU9TKCkgfHwgaXNNYWNPUygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYWNLZXltYXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwY0tleW1hcDtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgLy8gV2l0aCB0aGlzIHBsdWdpbiB3ZSBjaGVjayBpZiB0aGUgd2hvbGUgZG9jdW1lbnQgd2FzIHNlbGVjdGVkIGFuZCBkZWxldGVkLlxyXG4gICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2Ugd2lsbCBhZGRpdGlvbmFsbHkgY2FsbCBgY2xlYXJOb2RlcygpYCB0byBjb252ZXJ0IGUuZy4gYSBoZWFkaW5nXHJcbiAgICAgICAgICAgIC8vIHRvIGEgcGFyYWdyYXBoIGlmIG5lY2Vzc2FyeS5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBhbHRlcm5hdGl2ZSB0byBQcm9zZU1pcnJvcidzIGBBbGxTZWxlY3Rpb25gLCB3aGljaCBkb2VzbuKAmXQgd29yayB3ZWxsXHJcbiAgICAgICAgICAgIC8vIHdpdGggbWFueSBvdGhlciBjb21tYW5kcy5cclxuICAgICAgICAgICAgbmV3IFBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ2NsZWFyRG9jdW1lbnQnKSxcclxuICAgICAgICAgICAgICAgIGFwcGVuZFRyYW5zYWN0aW9uOiAodHJhbnNhY3Rpb25zLCBvbGRTdGF0ZSwgbmV3U3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NDaGFuZ2VzID0gdHJhbnNhY3Rpb25zLnNvbWUodHJhbnNhY3Rpb24gPT4gdHJhbnNhY3Rpb24uZG9jQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIW9sZFN0YXRlLmRvYy5lcShuZXdTdGF0ZS5kb2MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9jQ2hhbmdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZW1wdHksIGZyb20sIHRvIH0gPSBvbGRTdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsRnJvbSA9IFNlbGVjdGlvbi5hdFN0YXJ0KG9sZFN0YXRlLmRvYykuZnJvbTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxFbmQgPSBTZWxlY3Rpb24uYXRFbmQob2xkU3RhdGUuZG9jKS50bztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxXYXNTZWxlY3RlZCA9IGZyb20gPT09IGFsbEZyb20gJiYgdG8gPT09IGFsbEVuZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgIWFsbFdhc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFbXB0eSA9IG5ld1N0YXRlLmRvYy50ZXh0QmV0d2VlbigwLCBuZXdTdGF0ZS5kb2MuY29udGVudC5zaXplLCAnICcsICcgJykubGVuZ3RoID09PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyID0gbmV3U3RhdGUudHI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVDaGFpbmFibGVTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBuZXdTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRyLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZHMgfSA9IG5ldyBDb21tYW5kTWFuYWdlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzLmNsZWFyTm9kZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyLnN0ZXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuY29uc3QgVGFiaW5kZXggPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICd0YWJpbmRleCcsXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbmV3IFBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ3RhYmluZGV4JyksXHJcbiAgICAgICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuZWRpdG9yLmlzRWRpdGFibGUgPyB7IHRhYmluZGV4OiAnMCcgfSA6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG52YXIgZXh0ZW5zaW9ucyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBDbGlwYm9hcmRUZXh0U2VyaWFsaXplcjogQ2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIsXG4gIENvbW1hbmRzOiBDb21tYW5kcyxcbiAgRWRpdGFibGU6IEVkaXRhYmxlLFxuICBGb2N1c0V2ZW50czogRm9jdXNFdmVudHMsXG4gIEtleW1hcDogS2V5bWFwLFxuICBUYWJpbmRleDogVGFiaW5kZXhcbn0pO1xuXG5jb25zdCBzdHlsZSA9IGAuUHJvc2VNaXJyb3Ige1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5Qcm9zZU1pcnJvciB7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICB3aGl0ZS1zcGFjZTogYnJlYWstc3BhY2VzO1xuICAtd2Via2l0LWZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vbmU7XG4gIGZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vbmU7XG4gIGZvbnQtZmVhdHVyZS1zZXR0aW5nczogXCJsaWdhXCIgMDsgLyogdGhlIGFib3ZlIGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGluIEVkZ2UgKi9cbn1cblxuLlByb3NlTWlycm9yIFtjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiXSB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59XG5cbi5Qcm9zZU1pcnJvciBbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0gW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0ge1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbi5Qcm9zZU1pcnJvciBwcmUge1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbmltZy5Qcm9zZU1pcnJvci1zZXBhcmF0b3Ige1xuICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICB3aWR0aDogMXB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBub25lO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW46IDA7XG59XG5cbi5Qcm9zZU1pcnJvci1nYXBjdXJzb3I6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0ycHg7XG4gIHdpZHRoOiAyMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgYmxhY2s7XG4gIGFuaW1hdGlvbjogUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIDEuMXMgc3RlcHMoMiwgc3RhcnQpIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIFByb3NlTWlycm9yLWN1cnNvci1ibGluayB7XG4gIHRvIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6c2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICo6Oi1tb3otc2VsZWN0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uICoge1xuICBjYXJldC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5Qcm9zZU1pcnJvci1mb2N1c2VkIC5Qcm9zZU1pcnJvci1nYXBjdXJzb3Ige1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLnRpcHB5LWJveFtkYXRhLWFuaW1hdGlvbj1mYWRlXVtkYXRhLXN0YXRlPWhpZGRlbl0ge1xuICBvcGFjaXR5OiAwXG59YDtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVUYWcoc3R5bGUsIG5vbmNlLCBzdWZmaXgpIHtcclxuICAgIGNvbnN0IHRpcHRhcFN0eWxlVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc3R5bGVbZGF0YS10aXB0YXAtc3R5bGUke3N1ZmZpeCA/IGAtJHtzdWZmaXh9YCA6ICcnfV1gKTtcclxuICAgIGlmICh0aXB0YXBTdHlsZVRhZyAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB0aXB0YXBTdHlsZVRhZztcclxuICAgIH1cclxuICAgIGNvbnN0IHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICBpZiAobm9uY2UpIHtcclxuICAgICAgICBzdHlsZU5vZGUuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcclxuICAgIH1cclxuICAgIHN0eWxlTm9kZS5zZXRBdHRyaWJ1dGUoYGRhdGEtdGlwdGFwLXN0eWxlJHtzdWZmaXggPyBgLSR7c3VmZml4fWAgOiAnJ31gLCAnJyk7XHJcbiAgICBzdHlsZU5vZGUuaW5uZXJIVE1MID0gc3R5bGU7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XHJcbiAgICByZXR1cm4gc3R5bGVOb2RlO1xyXG59XG5cbmNsYXNzIEVkaXRvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5leHRlbnNpb25TdG9yYWdlID0ge307XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgICAgY29udGVudDogJycsXHJcbiAgICAgICAgICAgIGluamVjdENTUzogdHJ1ZSxcclxuICAgICAgICAgICAgaW5qZWN0Tm9uY2U6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uczogW10sXHJcbiAgICAgICAgICAgIGF1dG9mb2N1czogZmFsc2UsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlZGl0b3JQcm9wczoge30sXHJcbiAgICAgICAgICAgIHBhcnNlT3B0aW9uczoge30sXHJcbiAgICAgICAgICAgIGVuYWJsZUlucHV0UnVsZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGVuYWJsZVBhc3RlUnVsZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGVuYWJsZUNvcmVFeHRlbnNpb25zOiB0cnVlLFxyXG4gICAgICAgICAgICBvbkJlZm9yZUNyZWF0ZTogKCkgPT4gbnVsbCxcclxuICAgICAgICAgICAgb25DcmVhdGU6ICgpID0+IG51bGwsXHJcbiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvblNlbGVjdGlvblVwZGF0ZTogKCkgPT4gbnVsbCxcclxuICAgICAgICAgICAgb25UcmFuc2FjdGlvbjogKCkgPT4gbnVsbCxcclxuICAgICAgICAgICAgb25Gb2N1czogKCkgPT4gbnVsbCxcclxuICAgICAgICAgICAgb25CbHVyOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvbkRlc3Ryb3k6ICgpID0+IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhcHR1cmVkVHJhbnNhY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUV4dGVuc2lvbk1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbW1hbmRNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVTY2hlbWEoKTtcclxuICAgICAgICB0aGlzLm9uKCdiZWZvcmVDcmVhdGUnLCB0aGlzLm9wdGlvbnMub25CZWZvcmVDcmVhdGUpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnYmVmb3JlQ3JlYXRlJywgeyBlZGl0b3I6IHRoaXMgfSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5pbmplY3RDU1MoKTtcclxuICAgICAgICB0aGlzLm9uKCdjcmVhdGUnLCB0aGlzLm9wdGlvbnMub25DcmVhdGUpO1xyXG4gICAgICAgIHRoaXMub24oJ3VwZGF0ZScsIHRoaXMub3B0aW9ucy5vblVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5vbignc2VsZWN0aW9uVXBkYXRlJywgdGhpcy5vcHRpb25zLm9uU2VsZWN0aW9uVXBkYXRlKTtcclxuICAgICAgICB0aGlzLm9uKCd0cmFuc2FjdGlvbicsIHRoaXMub3B0aW9ucy5vblRyYW5zYWN0aW9uKTtcclxuICAgICAgICB0aGlzLm9uKCdmb2N1cycsIHRoaXMub3B0aW9ucy5vbkZvY3VzKTtcclxuICAgICAgICB0aGlzLm9uKCdibHVyJywgdGhpcy5vcHRpb25zLm9uQmx1cik7XHJcbiAgICAgICAgdGhpcy5vbignZGVzdHJveScsIHRoaXMub3B0aW9ucy5vbkRlc3Ryb3kpO1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzLmZvY3VzKHRoaXMub3B0aW9ucy5hdXRvZm9jdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NyZWF0ZScsIHsgZWRpdG9yOiB0aGlzIH0pO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlZGl0b3Igc3RvcmFnZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0b3JhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uU3RvcmFnZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW4gb2JqZWN0IG9mIGFsbCByZWdpc3RlcmVkIGNvbW1hbmRzLlxyXG4gICAgICovXHJcbiAgICBnZXQgY29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hbmFnZXIuY29tbWFuZHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGNvbW1hbmQgY2hhaW4gdG8gY2FsbCBtdWx0aXBsZSBjb21tYW5kcyBhdCBvbmNlLlxyXG4gICAgICovXHJcbiAgICBjaGFpbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFuYWdlci5jaGFpbigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIGNvbW1hbmQgb3IgYSBjb21tYW5kIGNoYWluIGNhbiBiZSBleGVjdXRlZC4gV2l0aG91dCBleGVjdXRpbmcgaXQuXHJcbiAgICAgKi9cclxuICAgIGNhbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFuYWdlci5jYW4oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5qZWN0IENTUyBzdHlsZXMuXHJcbiAgICAgKi9cclxuICAgIGluamVjdENTUygpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluamVjdENTUyAmJiBkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNzcyA9IGNyZWF0ZVN0eWxlVGFnKHN0eWxlLCB0aGlzLm9wdGlvbnMuaW5qZWN0Tm9uY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGVkaXRvciBvcHRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIEEgbGlzdCBvZiBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIHNldE9wdGlvbnMob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIXRoaXMudmlldyB8fCAhdGhpcy5zdGF0ZSB8fCB0aGlzLmlzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGl0b3JQcm9wcykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2V0UHJvcHModGhpcy5vcHRpb25zLmVkaXRvclByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgZWRpdGFibGUgc3RhdGUgb2YgdGhlIGVkaXRvci5cclxuICAgICAqL1xyXG4gICAgc2V0RWRpdGFibGUoZWRpdGFibGUsIGVtaXRVcGRhdGUgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKHsgZWRpdGFibGUgfSk7XHJcbiAgICAgICAgaWYgKGVtaXRVcGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB7IGVkaXRvcjogdGhpcywgdHJhbnNhY3Rpb246IHRoaXMuc3RhdGUudHIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGVkaXRvciBpcyBlZGl0YWJsZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7XHJcbiAgICAgICAgLy8gc2luY2UgcGx1Z2lucyBhcmUgYXBwbGllZCBhZnRlciBjcmVhdGluZyB0aGUgdmlld1xyXG4gICAgICAgIC8vIGBlZGl0YWJsZWAgaXMgYWx3YXlzIGB0cnVlYCBmb3Igb25lIHRpY2suXHJcbiAgICAgICAgLy8gdGhhdOKAmXMgd2h5IHdlIGFsc28gaGF2ZSB0byBjaGVjayBmb3IgYG9wdGlvbnMuZWRpdGFibGVgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5lZGl0YWJsZSAmJiB0aGlzLnZpZXcgJiYgdGhpcy52aWV3LmVkaXRhYmxlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlZGl0b3Igc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIGdldCBzdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnN0YXRlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIFByb3NlTWlycm9yIHBsdWdpbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGx1Z2luIEEgUHJvc2VNaXJyb3IgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0gaGFuZGxlUGx1Z2lucyBDb250cm9sIGhvdyB0byBtZXJnZSB0aGUgcGx1Z2luIGludG8gdGhlIGV4aXN0aW5nIHBsdWdpbnMuXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbiwgaGFuZGxlUGx1Z2lucykge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSBpc0Z1bmN0aW9uKGhhbmRsZVBsdWdpbnMpXHJcbiAgICAgICAgICAgID8gaGFuZGxlUGx1Z2lucyhwbHVnaW4sIFsuLi50aGlzLnN0YXRlLnBsdWdpbnNdKVxyXG4gICAgICAgICAgICA6IFsuLi50aGlzLnN0YXRlLnBsdWdpbnMsIHBsdWdpbl07XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlLnJlY29uZmlndXJlKHsgcGx1Z2lucyB9KTtcclxuICAgICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVbnJlZ2lzdGVyIGEgUHJvc2VNaXJyb3IgcGx1Z2luLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lT3JQbHVnaW5LZXkgVGhlIHBsdWdpbnMgbmFtZVxyXG4gICAgICovXHJcbiAgICB1bnJlZ2lzdGVyUGx1Z2luKG5hbWVPclBsdWdpbktleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgbmFtZU9yUGx1Z2luS2V5ID09PSAnc3RyaW5nJyA/IGAke25hbWVPclBsdWdpbktleX0kYCA6IG5hbWVPclBsdWdpbktleS5rZXk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlLnJlY29uZmlndXJlKHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBwbHVnaW5zOiB0aGlzLnN0YXRlLnBsdWdpbnMuZmlsdGVyKHBsdWdpbiA9PiAhcGx1Z2luLmtleS5zdGFydHNXaXRoKG5hbWUpKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUoc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGV4dGVuc2lvbiBtYW5hZ2VyLlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVFeHRlbnNpb25NYW5hZ2VyKCkge1xyXG4gICAgICAgIGNvbnN0IGNvcmVFeHRlbnNpb25zID0gdGhpcy5vcHRpb25zLmVuYWJsZUNvcmVFeHRlbnNpb25zID8gT2JqZWN0LnZhbHVlcyhleHRlbnNpb25zKSA6IFtdO1xyXG4gICAgICAgIGNvbnN0IGFsbEV4dGVuc2lvbnMgPSBbLi4uY29yZUV4dGVuc2lvbnMsIC4uLnRoaXMub3B0aW9ucy5leHRlbnNpb25zXS5maWx0ZXIoZXh0ZW5zaW9uID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnZXh0ZW5zaW9uJywgJ25vZGUnLCAnbWFyayddLmluY2x1ZGVzKGV4dGVuc2lvbiA9PT0gbnVsbCB8fCBleHRlbnNpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4dGVuc2lvbi50eXBlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV4dGVuc2lvbk1hbmFnZXIgPSBuZXcgRXh0ZW5zaW9uTWFuYWdlcihhbGxFeHRlbnNpb25zLCB0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBjb21tYW5kIG1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUNvbW1hbmRNYW5hZ2VyKCkge1xyXG4gICAgICAgIHRoaXMuY29tbWFuZE1hbmFnZXIgPSBuZXcgQ29tbWFuZE1hbmFnZXIoe1xyXG4gICAgICAgICAgICBlZGl0b3I6IHRoaXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBQcm9zZU1pcnJvciBzY2hlbWEuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNjaGVtYSgpIHtcclxuICAgICAgICB0aGlzLnNjaGVtYSA9IHRoaXMuZXh0ZW5zaW9uTWFuYWdlci5zY2hlbWE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBQcm9zZU1pcnJvciB2aWV3LlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVWaWV3KCkge1xyXG4gICAgICAgIGNvbnN0IGRvYyA9IGNyZWF0ZURvY3VtZW50KHRoaXMub3B0aW9ucy5jb250ZW50LCB0aGlzLnNjaGVtYSwgdGhpcy5vcHRpb25zLnBhcnNlT3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gcmVzb2x2ZUZvY3VzUG9zaXRpb24oZG9jLCB0aGlzLm9wdGlvbnMuYXV0b2ZvY3VzKTtcclxuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgRWRpdG9yVmlldyh0aGlzLm9wdGlvbnMuZWxlbWVudCwge1xyXG4gICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMuZWRpdG9yUHJvcHMsXHJcbiAgICAgICAgICAgIGRpc3BhdGNoVHJhbnNhY3Rpb246IHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbi5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICBzdGF0ZTogRWRpdG9yU3RhdGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIGRvYyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gYGVkaXRvci52aWV3YCBpcyBub3QgeWV0IGF2YWlsYWJsZSBhdCB0aGlzIHRpbWUuXHJcbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIHdpbGwgYWRkIGFsbCBwbHVnaW5zIGFuZCBub2RlIHZpZXdzIGRpcmVjdGx5IGFmdGVyd2FyZHMuXHJcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLnN0YXRlLnJlY29uZmlndXJlKHtcclxuICAgICAgICAgICAgcGx1Z2luczogdGhpcy5leHRlbnNpb25NYW5hZ2VyLnBsdWdpbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKG5ld1N0YXRlKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZU5vZGVWaWV3cygpO1xyXG4gICAgICAgIHRoaXMucHJlcGVuZENsYXNzKCk7XHJcbiAgICAgICAgLy8gTGV04oCZcyBzdG9yZSB0aGUgZWRpdG9yIGluc3RhbmNlIGluIHRoZSBET00gZWxlbWVudC5cclxuICAgICAgICAvLyBTbyB3ZeKAmWxsIGhhdmUgYWNjZXNzIHRvIGl0IGZvciB0ZXN0cy5cclxuICAgICAgICBjb25zdCBkb20gPSB0aGlzLnZpZXcuZG9tO1xyXG4gICAgICAgIGRvbS5lZGl0b3IgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFsbCBub2RlIHZpZXdzLlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVOb2RlVmlld3MoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnNldFByb3BzKHtcclxuICAgICAgICAgICAgbm9kZVZpZXdzOiB0aGlzLmV4dGVuc2lvbk1hbmFnZXIubm9kZVZpZXdzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwZW5kIGNsYXNzIG5hbWUgdG8gZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgcHJlcGVuZENsYXNzKCkge1xyXG4gICAgICAgIHRoaXMudmlldy5kb20uY2xhc3NOYW1lID0gYHRpcHRhcCAke3RoaXMudmlldy5kb20uY2xhc3NOYW1lfWA7XHJcbiAgICB9XHJcbiAgICBjYXB0dXJlVHJhbnNhY3Rpb24oZm4pIHtcclxuICAgICAgICB0aGlzLmlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgIGZuKCk7XHJcbiAgICAgICAgdGhpcy5pc0NhcHR1cmluZ1RyYW5zYWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLmNhcHR1cmVkVHJhbnNhY3Rpb247XHJcbiAgICAgICAgdGhpcy5jYXB0dXJlZFRyYW5zYWN0aW9uID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gdHI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjYWxsYmFjayBvdmVyIHdoaWNoIHRvIHNlbmQgdHJhbnNhY3Rpb25zIChzdGF0ZSB1cGRhdGVzKSBwcm9kdWNlZCBieSB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gQW4gZWRpdG9yIHN0YXRlIHRyYW5zYWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAvLyBpZiB0aGUgZWRpdG9yIC8gdGhlIHZpZXcgb2YgdGhlIGVkaXRvciB3YXMgZGVzdHJveWVkXHJcbiAgICAgICAgLy8gdGhlIHRyYW5zYWN0aW9uIHNob3VsZCBub3QgYmUgZGlzcGF0Y2hlZCBhcyB0aGVyZSBpcyBubyB2aWV3IGFueW1vcmUuXHJcbiAgICAgICAgaWYgKHRoaXMudmlldy5pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhcHR1cmVkVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZWRUcmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnN0ZXBzLmZvckVhY2goc3RlcCA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRoaXMuY2FwdHVyZWRUcmFuc2FjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0ZXAoc3RlcCk7IH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZS5hcHBseSh0cmFuc2FjdGlvbik7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uSGFzQ2hhbmdlZCA9ICF0aGlzLnN0YXRlLnNlbGVjdGlvbi5lcShzdGF0ZS5zZWxlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMudmlldy51cGRhdGVTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCd0cmFuc2FjdGlvbicsIHtcclxuICAgICAgICAgICAgZWRpdG9yOiB0aGlzLFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbixcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uSGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3NlbGVjdGlvblVwZGF0ZScsIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcyxcclxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9jdXMgPSB0cmFuc2FjdGlvbi5nZXRNZXRhKCdmb2N1cycpO1xyXG4gICAgICAgIGNvbnN0IGJsdXIgPSB0cmFuc2FjdGlvbi5nZXRNZXRhKCdibHVyJyk7XHJcbiAgICAgICAgaWYgKGZvY3VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZm9jdXMnLCB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBldmVudDogZm9jdXMuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChibHVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYmx1cicsIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcyxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBibHVyLmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRyYW5zYWN0aW9uLmRvY0NoYW5nZWQgfHwgdHJhbnNhY3Rpb24uZ2V0TWV0YSgncHJldmVudFVwZGF0ZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB7XHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcyxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb24sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhdHRyaWJ1dGVzIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbm9kZSBvciBtYXJrLlxyXG4gICAgICovXHJcbiAgICBnZXRBdHRyaWJ1dGVzKG5hbWVPclR5cGUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlcyh0aGlzLnN0YXRlLCBuYW1lT3JUeXBlKTtcclxuICAgIH1cclxuICAgIGlzQWN0aXZlKG5hbWVPckF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXNPclVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgbmFtZU9yQXR0cmlidXRlcyA9PT0gJ3N0cmluZycgPyBuYW1lT3JBdHRyaWJ1dGVzIDogbnVsbDtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdHlwZW9mIG5hbWVPckF0dHJpYnV0ZXMgPT09ICdzdHJpbmcnID8gYXR0cmlidXRlc09yVW5kZWZpbmVkIDogbmFtZU9yQXR0cmlidXRlcztcclxuICAgICAgICByZXR1cm4gaXNBY3RpdmUodGhpcy5zdGF0ZSwgbmFtZSwgYXR0cmlidXRlcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZG9jdW1lbnQgYXMgSlNPTi5cclxuICAgICAqL1xyXG4gICAgZ2V0SlNPTigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5kb2MudG9KU09OKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZG9jdW1lbnQgYXMgSFRNTC5cclxuICAgICAqL1xyXG4gICAgZ2V0SFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gZ2V0SFRNTEZyb21GcmFnbWVudCh0aGlzLnN0YXRlLmRvYy5jb250ZW50LCB0aGlzLnNjaGVtYSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZG9jdW1lbnQgYXMgdGV4dC5cclxuICAgICAqL1xyXG4gICAgZ2V0VGV4dChvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgeyBibG9ja1NlcGFyYXRvciA9ICdcXG5cXG4nLCB0ZXh0U2VyaWFsaXplcnMgPSB7fSB9ID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICByZXR1cm4gZ2V0VGV4dCh0aGlzLnN0YXRlLmRvYywge1xyXG4gICAgICAgICAgICBibG9ja1NlcGFyYXRvcixcclxuICAgICAgICAgICAgdGV4dFNlcmlhbGl6ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi5nZXRUZXh0U2VyaWFsaXplcnNGcm9tU2NoZW1hKHRoaXMuc2NoZW1hKSxcclxuICAgICAgICAgICAgICAgIC4uLnRleHRTZXJpYWxpemVycyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlcmUgaXMgbm8gY29udGVudC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGlzRW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTm9kZUVtcHR5KHRoaXMuc3RhdGUuZG9jKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBmb3IgdGhlIGN1cnJlbnQgZG9jdW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWRcclxuICAgICAqL1xyXG4gICAgZ2V0Q2hhcmFjdGVyQ291bnQoKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbdGlwdGFwIHdhcm5dOiBcImVkaXRvci5nZXRDaGFyYWN0ZXJDb3VudCgpXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcImVkaXRvci5zdG9yYWdlLmNoYXJhY3RlckNvdW50LmNoYXJhY3RlcnMoKVwiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZSAtIDI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgdGhlIGVkaXRvci5cclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Rlc3Ryb3knKTtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBlZGl0b3IgaXMgYWxyZWFkeSBkZXN0cm95ZWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiAhKChfYSA9IHRoaXMudmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRvY1ZpZXcpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBpbnB1dCBydWxlIHRoYXQgYWRkcyBhIG1hcmsgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXJrSW5wdXRSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlLCByYW5nZSwgbWF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gY2FsbE9yUmV0dXJuKGNvbmZpZy5nZXRBdHRyaWJ1dGVzLCB1bmRlZmluZWQsIG1hdGNoKTtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgPT09IGZhbHNlIHx8IGF0dHJpYnV0ZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdHIgfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlR3JvdXAgPSBtYXRjaFttYXRjaC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgY29uc3QgZnVsbE1hdGNoID0gbWF0Y2hbMF07XHJcbiAgICAgICAgICAgIGlmIChjYXB0dXJlR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0U3BhY2VzID0gZnVsbE1hdGNoLnNlYXJjaCgvXFxTLyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0U3RhcnQgPSByYW5nZS5mcm9tICsgZnVsbE1hdGNoLmluZGV4T2YoY2FwdHVyZUdyb3VwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRFbmQgPSB0ZXh0U3RhcnQgKyBjYXB0dXJlR3JvdXAubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhjbHVkZWRNYXJrcyA9IGdldE1hcmtzQmV0d2VlbihyYW5nZS5mcm9tLCByYW5nZS50bywgc3RhdGUuZG9jKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkID0gaXRlbS5tYXJrLnR5cGUuZXhjbHVkZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4Y2x1ZGVkLmZpbmQodHlwZSA9PiB0eXBlID09PSBjb25maWcudHlwZSAmJiB0eXBlICE9PSBpdGVtLm1hcmsudHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnRvID4gdGV4dFN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIGlmIChleGNsdWRlZE1hcmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRFbmQgPCByYW5nZS50bykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmRlbGV0ZSh0ZXh0RW5kLCByYW5nZS50byk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXJ0ID4gcmFuZ2UuZnJvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmRlbGV0ZShyYW5nZS5mcm9tICsgc3RhcnRTcGFjZXMsIHRleHRTdGFydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrRW5kID0gcmFuZ2UuZnJvbSArIHN0YXJ0U3BhY2VzICsgY2FwdHVyZUdyb3VwLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsocmFuZ2UuZnJvbSArIHN0YXJ0U3BhY2VzLCBtYXJrRW5kLCBjb25maWcudHlwZS5jcmVhdGUoYXR0cmlidXRlcyB8fCB7fSkpO1xyXG4gICAgICAgICAgICAgICAgdHIucmVtb3ZlU3RvcmVkTWFyayhjb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEJ1aWxkIGFuIGlucHV0IHJ1bGUgdGhhdCBhZGRzIGEgbm9kZSB3aGVuIHRoZVxyXG4gKiBtYXRjaGVkIHRleHQgaXMgdHlwZWQgaW50byBpdC5cclxuICovXHJcbmZ1bmN0aW9uIG5vZGVJbnB1dFJ1bGUoY29uZmlnKSB7XHJcbiAgICByZXR1cm4gbmV3IElucHV0UnVsZSh7XHJcbiAgICAgICAgZmluZDogY29uZmlnLmZpbmQsXHJcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGUsIHJhbmdlLCBtYXRjaCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBjYWxsT3JSZXR1cm4oY29uZmlnLmdldEF0dHJpYnV0ZXMsIHVuZGVmaW5lZCwgbWF0Y2gpIHx8IHt9O1xyXG4gICAgICAgICAgICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSByYW5nZS5mcm9tO1xyXG4gICAgICAgICAgICBsZXQgZW5kID0gcmFuZ2UudG87XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjb25maWcudHlwZS5jcmVhdGUoYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbWF0Y2hbMF0ubGFzdEluZGV4T2YobWF0Y2hbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoU3RhcnQgPSBzdGFydCArIG9mZnNldDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hTdGFydCA9IGVuZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IG1hdGNoU3RhcnQgKyBtYXRjaFsxXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnNlcnQgbGFzdCB0eXBlZCBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyID0gbWF0Y2hbMF1bbWF0Y2hbMF0ubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICB0ci5pbnNlcnRUZXh0KGxhc3RDaGFyLCBzdGFydCArIG1hdGNoWzBdLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IG5vZGUgZnJvbSBpbnB1dCBydWxlXHJcbiAgICAgICAgICAgICAgICB0ci5yZXBsYWNlV2l0aChtYXRjaFN0YXJ0LCBlbmQsIG5ld05vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5pbnNlcnQoc3RhcnQgLSAxLCBjb25maWcudHlwZS5jcmVhdGUoYXR0cmlidXRlcykpLmRlbGV0ZSh0ci5tYXBwaW5nLm1hcChzdGFydCksIHRyLm1hcHBpbmcubWFwKGVuZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBpbnB1dCBydWxlIHRoYXQgY2hhbmdlcyB0aGUgdHlwZSBvZiBhIHRleHRibG9jayB3aGVuIHRoZVxyXG4gKiBtYXRjaGVkIHRleHQgaXMgdHlwZWQgaW50byBpdC4gV2hlbiB1c2luZyBhIHJlZ3VsYXIgZXhwcmVzaW9uIHlvdeKAmWxsXHJcbiAqIHByb2JhYmx5IHdhbnQgdGhlIHJlZ2V4cCB0byBzdGFydCB3aXRoIGBeYCwgc28gdGhhdCB0aGUgcGF0dGVybiBjYW5cclxuICogb25seSBvY2N1ciBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2suXHJcbiAqL1xyXG5mdW5jdGlvbiB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlLCByYW5nZSwgbWF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCAkc3RhcnQgPSBzdGF0ZS5kb2MucmVzb2x2ZShyYW5nZS5mcm9tKTtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGNhbGxPclJldHVybihjb25maWcuZ2V0QXR0cmlidXRlcywgdW5kZWZpbmVkLCBtYXRjaCkgfHwge307XHJcbiAgICAgICAgICAgIGlmICghJHN0YXJ0Lm5vZGUoLTEpLmNhblJlcGxhY2VXaXRoKCRzdGFydC5pbmRleCgtMSksICRzdGFydC5pbmRleEFmdGVyKC0xKSwgY29uZmlnLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGF0ZS50clxyXG4gICAgICAgICAgICAgICAgLmRlbGV0ZShyYW5nZS5mcm9tLCByYW5nZS50bylcclxuICAgICAgICAgICAgICAgIC5zZXRCbG9ja1R5cGUocmFuZ2UuZnJvbSwgcmFuZ2UuZnJvbSwgY29uZmlnLnR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQnVpbGQgYW4gaW5wdXQgcnVsZSB0aGF0IHJlcGxhY2VzIHRleHQgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuXHJcbiAqL1xyXG5mdW5jdGlvbiB0ZXh0SW5wdXRSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlLCByYW5nZSwgbWF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gY29uZmlnLnJlcGxhY2U7XHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHJhbmdlLmZyb207XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHJhbmdlLnRvO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IG1hdGNoWzBdLmxhc3RJbmRleE9mKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgICAgIGluc2VydCArPSBtYXRjaFswXS5zbGljZShvZmZzZXQgKyBtYXRjaFsxXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgKz0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3V0T2ZmID0gc3RhcnQgLSBlbmQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3V0T2ZmID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc2VydCA9IG1hdGNoWzBdLnNsaWNlKG9mZnNldCAtIGN1dE9mZiwgb2Zmc2V0KSArIGluc2VydDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGVuZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGF0ZS50ci5pbnNlcnRUZXh0KGluc2VydCwgc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBpbnB1dCBydWxlIGZvciBhdXRvbWF0aWNhbGx5IHdyYXBwaW5nIGEgdGV4dGJsb2NrIHdoZW4gYVxyXG4gKiBnaXZlbiBzdHJpbmcgaXMgdHlwZWQuIFdoZW4gdXNpbmcgYSByZWd1bGFyIGV4cHJlc2lvbiB5b3XigJlsbFxyXG4gKiBwcm9iYWJseSB3YW50IHRoZSByZWdleHAgdG8gc3RhcnQgd2l0aCBgXmAsIHNvIHRoYXQgdGhlIHBhdHRlcm4gY2FuXHJcbiAqIG9ubHkgb2NjdXIgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLlxyXG4gKlxyXG4gKiBgdHlwZWAgaXMgdGhlIHR5cGUgb2Ygbm9kZSB0byB3cmFwIGluLlxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCBpZiB0aGVyZeKAmXMgYSBub2RlIHdpdGggdGhlIHNhbWUgdHlwZSBhYm92ZSB0aGUgbmV3bHlcclxuICogd3JhcHBlZCBub2RlLCB0aGUgcnVsZSB3aWxsIHRyeSB0byBqb2luIHRob3NlXHJcbiAqIHR3byBub2Rlcy4gWW91IGNhbiBwYXNzIGEgam9pbiBwcmVkaWNhdGUsIHdoaWNoIHRha2VzIGEgcmVndWxhclxyXG4gKiBleHByZXNzaW9uIG1hdGNoIGFuZCB0aGUgbm9kZSBiZWZvcmUgdGhlIHdyYXBwZWQgbm9kZSwgYW5kIGNhblxyXG4gKiByZXR1cm4gYSBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgYSBqb2luIHNob3VsZCBoYXBwZW4uXHJcbiAqL1xyXG5mdW5jdGlvbiB3cmFwcGluZ0lucHV0UnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgSW5wdXRSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoLCBjaGFpbiwgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gY2FsbE9yUmV0dXJuKGNvbmZpZy5nZXRBdHRyaWJ1dGVzLCB1bmRlZmluZWQsIG1hdGNoKSB8fCB7fTtcclxuICAgICAgICAgICAgY29uc3QgdHIgPSBzdGF0ZS50ci5kZWxldGUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xyXG4gICAgICAgICAgICBjb25zdCAkc3RhcnQgPSB0ci5kb2MucmVzb2x2ZShyYW5nZS5mcm9tKTtcclxuICAgICAgICAgICAgY29uc3QgYmxvY2tSYW5nZSA9ICRzdGFydC5ibG9ja1JhbmdlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwaW5nID0gYmxvY2tSYW5nZSAmJiBmaW5kV3JhcHBpbmcoYmxvY2tSYW5nZSwgY29uZmlnLnR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoIXdyYXBwaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ci53cmFwKGJsb2NrUmFuZ2UsIHdyYXBwaW5nKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwTWFya3MgJiYgY29uZmlnLmVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24sIHN0b3JlZE1hcmtzIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3BsaXR0YWJsZU1hcmtzIH0gPSBjb25maWcuZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrcyA9IHN0b3JlZE1hcmtzIHx8IChzZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFya3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE1hcmtzID0gbWFya3MuZmlsdGVyKG1hcmsgPT4gc3BsaXR0YWJsZU1hcmtzLmluY2x1ZGVzKG1hcmsudHlwZS5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuZW5zdXJlTWFya3MoZmlsdGVyZWRNYXJrcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwQXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgLyoqIElmIHRoZSBub2RlVHlwZSBpcyBgYnVsbGV0TGlzdGAgb3IgYG9yZGVyZWRMaXN0YCBzZXQgdGhlIGBub2RlVHlwZWAgYXMgYGxpc3RJdGVtYCAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZVR5cGUgPSBjb25maWcudHlwZS5uYW1lID09PSAnYnVsbGV0TGlzdCcgfHwgY29uZmlnLnR5cGUubmFtZSA9PT0gJ29yZGVyZWRMaXN0JyA/ICdsaXN0SXRlbScgOiAndGFza0xpc3QnO1xyXG4gICAgICAgICAgICAgICAgY2hhaW4oKS51cGRhdGVBdHRyaWJ1dGVzKG5vZGVUeXBlLCBhdHRyaWJ1dGVzKS5ydW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSB0ci5kb2MucmVzb2x2ZShyYW5nZS5mcm9tIC0gMSkubm9kZUJlZm9yZTtcclxuICAgICAgICAgICAgaWYgKGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgJiYgYmVmb3JlLnR5cGUgPT09IGNvbmZpZy50eXBlXHJcbiAgICAgICAgICAgICAgICAmJiBjYW5Kb2luKHRyLmRvYywgcmFuZ2UuZnJvbSAtIDEpXHJcbiAgICAgICAgICAgICAgICAmJiAoIWNvbmZpZy5qb2luUHJlZGljYXRlIHx8IGNvbmZpZy5qb2luUHJlZGljYXRlKG1hdGNoLCBiZWZvcmUpKSkge1xyXG4gICAgICAgICAgICAgICAgdHIuam9pbihyYW5nZS5mcm9tIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuY2xhc3MgTWFyayB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdtYXJrJztcclxuICAgICAgICB0aGlzLm5hbWUgPSAnbWFyayc7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25maWcubmFtZTtcclxuICAgICAgICBpZiAoY29uZmlnLmRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW3RpcHRhcCB3YXJuXTogQlJFQUtJTkcgQ0hBTkdFOiBcImRlZmF1bHRPcHRpb25zXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcImFkZE9wdGlvbnNcIiBpbnN0ZWFkLiBGb3VuZCBpbiBleHRlbnNpb246IFwiJHt0aGlzLm5hbWV9XCIuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBgYWRkT3B0aW9uc2AgZmFsbGJhY2tcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0T3B0aW9ucztcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuYWRkT3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQodGhpcywgJ2FkZE9wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKHRoaXMsICdhZGRTdG9yYWdlJywge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcclxuICAgICAgICB9KSkgfHwge307XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBjb25maWd1cmUob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIGEgbmV3IGluc3RhbmNlIHNvIHdlIGNhbiB1c2UgdGhlIHNhbWUgZXh0ZW5zaW9uXHJcbiAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgY2FsbHMgb2YgYGNvbmZpZ3VyZWBcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB0aGlzLmV4dGVuZCgpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5vcHRpb25zID0gbWVyZ2VEZWVwKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG4gICAgZXh0ZW5kKGV4dGVuZGVkQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBuZXcgTWFyayhleHRlbmRlZENvbmZpZyk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jaGlsZCA9IGV4dGVuc2lvbjtcclxuICAgICAgICBleHRlbnNpb24ubmFtZSA9IGV4dGVuZGVkQ29uZmlnLm5hbWUgPyBleHRlbmRlZENvbmZpZy5uYW1lIDogZXh0ZW5zaW9uLnBhcmVudC5uYW1lO1xyXG4gICAgICAgIGlmIChleHRlbmRlZENvbmZpZy5kZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFt0aXB0YXAgd2Fybl06IEJSRUFLSU5HIENIQU5HRTogXCJkZWZhdWx0T3B0aW9uc1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJhZGRPcHRpb25zXCIgaW5zdGVhZC4gRm91bmQgaW4gZXh0ZW5zaW9uOiBcIiR7ZXh0ZW5zaW9uLm5hbWV9XCIuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4dGVuc2lvbi5vcHRpb25zID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZE9wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBleHRlbnNpb24uc3RvcmFnZSA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRTdG9yYWdlJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiBleHRlbnNpb247XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaGFuZGxlRXhpdCh7IGVkaXRvciwgbWFyayB9KSB7XHJcbiAgICAgICAgY29uc3QgeyB0ciB9ID0gZWRpdG9yLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLiRmcm9tO1xyXG4gICAgICAgIGNvbnN0IGlzQXRFbmQgPSBjdXJyZW50UG9zLnBvcyA9PT0gY3VycmVudFBvcy5lbmQoKTtcclxuICAgICAgICBpZiAoaXNBdEVuZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TWFya3MgPSBjdXJyZW50UG9zLm1hcmtzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSW5NYXJrID0gISFjdXJyZW50TWFya3MuZmluZChtID0+IChtID09PSBudWxsIHx8IG0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG0udHlwZS5uYW1lKSA9PT0gbWFyay5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFpc0luTWFyaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZU1hcmsgPSBjdXJyZW50TWFya3MuZmluZChtID0+IChtID09PSBudWxsIHx8IG0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG0udHlwZS5uYW1lKSA9PT0gbWFyay5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKHJlbW92ZU1hcmspIHtcclxuICAgICAgICAgICAgICAgIHRyLnJlbW92ZVN0b3JlZE1hcmsocmVtb3ZlTWFyayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHIuaW5zZXJ0VGV4dCgnICcsIGN1cnJlbnRQb3MucG9zKTtcclxuICAgICAgICAgICAgZWRpdG9yLnZpZXcuZGlzcGF0Y2godHIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XG5cbmNsYXNzIE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnbm9kZSc7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ25vZGUnO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uczoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uZmlnLm5hbWU7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5kZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFt0aXB0YXAgd2Fybl06IEJSRUFLSU5HIENIQU5HRTogXCJkZWZhdWx0T3B0aW9uc1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJhZGRPcHRpb25zXCIgaW5zdGVhZC4gRm91bmQgaW4gZXh0ZW5zaW9uOiBcIiR7dGhpcy5uYW1lfVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgYGFkZE9wdGlvbnNgIGZhbGxiYWNrXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5jb25maWcuZGVmYXVsdE9wdGlvbnM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmFkZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKHRoaXMsICdhZGRPcHRpb25zJywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZCh0aGlzLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXHJcbiAgICAgICAgfSkpIHx8IHt9O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNyZWF0ZShjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTm9kZShjb25maWcpO1xyXG4gICAgfVxyXG4gICAgY29uZmlndXJlKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIC8vIHJldHVybiBhIG5ldyBpbnN0YW5jZSBzbyB3ZSBjYW4gdXNlIHRoZSBzYW1lIGV4dGVuc2lvblxyXG4gICAgICAgIC8vIHdpdGggZGlmZmVyZW50IGNhbGxzIG9mIGBjb25maWd1cmVgXHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gdGhpcy5leHRlbmQoKTtcclxuICAgICAgICBleHRlbnNpb24ub3B0aW9ucyA9IG1lcmdlRGVlcCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5zdG9yYWdlID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZFN0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbjtcclxuICAgIH1cclxuICAgIGV4dGVuZChleHRlbmRlZENvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gbmV3IE5vZGUoZXh0ZW5kZWRDb25maWcpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBleHRlbnNpb247XHJcbiAgICAgICAgZXh0ZW5zaW9uLm5hbWUgPSBleHRlbmRlZENvbmZpZy5uYW1lID8gZXh0ZW5kZWRDb25maWcubmFtZSA6IGV4dGVuc2lvbi5wYXJlbnQubmFtZTtcclxuICAgICAgICBpZiAoZXh0ZW5kZWRDb25maWcuZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBCUkVBS0lORyBDSEFOR0U6IFwiZGVmYXVsdE9wdGlvbnNcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiYWRkT3B0aW9uc1wiIGluc3RlYWQuIEZvdW5kIGluIGV4dGVuc2lvbjogXCIke2V4dGVuc2lvbi5uYW1lfVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHRlbnNpb24ub3B0aW9ucyA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRPcHRpb25zJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGlzQW5kcm9pZCgpIHtcclxuICAgIHJldHVybiBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdBbmRyb2lkJyB8fCAvYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbn1cblxuY2xhc3MgTm9kZVZpZXcge1xyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCBwcm9wcywgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gcHJvcHMuZWRpdG9yO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgc3RvcEV2ZW50OiBudWxsLFxyXG4gICAgICAgICAgICBpZ25vcmVNdXRhdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gcHJvcHMuZXh0ZW5zaW9uO1xyXG4gICAgICAgIHRoaXMubm9kZSA9IHByb3BzLm5vZGU7XHJcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHByb3BzLmRlY29yYXRpb25zO1xyXG4gICAgICAgIHRoaXMuZ2V0UG9zID0gcHJvcHMuZ2V0UG9zO1xyXG4gICAgICAgIHRoaXMubW91bnQoKTtcclxuICAgIH1cclxuICAgIG1vdW50KCkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGdldCBkb20oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLnZpZXcuZG9tO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbnRlbnRET00oKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBvbkRyYWdTdGFydChldmVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcclxuICAgICAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXMuZWRpdG9yO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAvLyBnZXQgdGhlIGRyYWcgaGFuZGxlIGVsZW1lbnRcclxuICAgICAgICAvLyBgY2xvc2VzdGAgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGV4dCBub2RlcyBzbyB3ZSBtYXkgaGF2ZSB0byB1c2UgaXRzIHBhcmVudFxyXG4gICAgICAgIGNvbnN0IGRyYWdIYW5kbGUgPSB0YXJnZXQubm9kZVR5cGUgPT09IDNcclxuICAgICAgICAgICAgPyAoX2EgPSB0YXJnZXQucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3Nlc3QoJ1tkYXRhLWRyYWctaGFuZGxlXScpXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWRyYWctaGFuZGxlXScpO1xyXG4gICAgICAgIGlmICghdGhpcy5kb20gfHwgKChfYiA9IHRoaXMuY29udGVudERPTSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNvbnRhaW5zKHRhcmdldCkpIHx8ICFkcmFnSGFuZGxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIGxldCB5ID0gMDtcclxuICAgICAgICAvLyBjYWxjdWxhdGUgb2Zmc2V0IGZvciBkcmFnIGVsZW1lbnQgaWYgd2UgdXNlIGEgZGlmZmVyZW50IGRyYWcgaGFuZGxlIGVsZW1lbnRcclxuICAgICAgICBpZiAodGhpcy5kb20gIT09IGRyYWdIYW5kbGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZG9tQm94ID0gdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUJveCA9IGRyYWdIYW5kbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIC8vIEluIFJlYWN0LCB3ZSBoYXZlIHRvIGdvIHRocm91Z2ggbmF0aXZlRXZlbnQgdG8gcmVhY2ggb2Zmc2V0WC9vZmZzZXRZLlxyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gKF9jID0gZXZlbnQub2Zmc2V0WCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kID0gZXZlbnQubmF0aXZlRXZlbnQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5vZmZzZXRYO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gKF9lID0gZXZlbnQub2Zmc2V0WSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogKF9mID0gZXZlbnQubmF0aXZlRXZlbnQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5vZmZzZXRZO1xyXG4gICAgICAgICAgICB4ID0gaGFuZGxlQm94LnggLSBkb21Cb3gueCArIG9mZnNldFg7XHJcbiAgICAgICAgICAgIHkgPSBoYW5kbGVCb3gueSAtIGRvbUJveC55ICsgb2Zmc2V0WTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKF9nID0gZXZlbnQuZGF0YVRyYW5zZmVyKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuc2V0RHJhZ0ltYWdlKHRoaXMuZG9tLCB4LCB5KTtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHRlbGwgUHJvc2VNaXJyb3IgdGhhdCB3ZSB3YW50IHRvIG1vdmUgdGhlIHdob2xlIG5vZGVcclxuICAgICAgICAvLyBzbyB3ZSBjcmVhdGUgYSBOb2RlU2VsZWN0aW9uXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIHRoaXMuZ2V0UG9zKCkpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTtcclxuICAgICAgICB2aWV3LmRpc3BhdGNoKHRyYW5zYWN0aW9uKTtcclxuICAgIH1cclxuICAgIHN0b3BFdmVudChldmVudCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuc3RvcEV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc3RvcEV2ZW50KHsgZXZlbnQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICBjb25zdCBpc0luRWxlbWVudCA9IHRoaXMuZG9tLmNvbnRhaW5zKHRhcmdldCkgJiYgISgoX2EgPSB0aGlzLmNvbnRlbnRET00pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyh0YXJnZXQpKTtcclxuICAgICAgICAvLyBhbnkgZXZlbnQgZnJvbSBjaGlsZCBub2RlcyBzaG91bGQgYmUgaGFuZGxlZCBieSBQcm9zZU1pcnJvclxyXG4gICAgICAgIGlmICghaXNJbkVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc0RyYWdFdmVudCA9IGV2ZW50LnR5cGUuc3RhcnRzV2l0aCgnZHJhZycpO1xyXG4gICAgICAgIGNvbnN0IGlzRHJvcEV2ZW50ID0gZXZlbnQudHlwZSA9PT0gJ2Ryb3AnO1xyXG4gICAgICAgIGNvbnN0IGlzSW5wdXQgPSBbJ0lOUFVUJywgJ0JVVFRPTicsICdTRUxFQ1QnLCAnVEVYVEFSRUEnXS5pbmNsdWRlcyh0YXJnZXQudGFnTmFtZSkgfHwgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlO1xyXG4gICAgICAgIC8vIGFueSBpbnB1dCBldmVudCB3aXRoaW4gbm9kZSB2aWV3cyBzaG91bGQgYmUgaWdub3JlZCBieSBQcm9zZU1pcnJvclxyXG4gICAgICAgIGlmIChpc0lucHV0ICYmICFpc0Ryb3BFdmVudCAmJiAhaXNEcmFnRXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgaXNFZGl0YWJsZSB9ID0gdGhpcy5lZGl0b3I7XHJcbiAgICAgICAgY29uc3QgeyBpc0RyYWdnaW5nIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IGlzRHJhZ2dhYmxlID0gISF0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZTtcclxuICAgICAgICBjb25zdCBpc1NlbGVjdGFibGUgPSBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZSh0aGlzLm5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGlzQ29weUV2ZW50ID0gZXZlbnQudHlwZSA9PT0gJ2NvcHknO1xyXG4gICAgICAgIGNvbnN0IGlzUGFzdGVFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdwYXN0ZSc7XHJcbiAgICAgICAgY29uc3QgaXNDdXRFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdjdXQnO1xyXG4gICAgICAgIGNvbnN0IGlzQ2xpY2tFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nO1xyXG4gICAgICAgIC8vIFByb3NlTWlycm9yIHRyaWVzIHRvIGRyYWcgc2VsZWN0YWJsZSBub2Rlc1xyXG4gICAgICAgIC8vIGV2ZW4gaWYgYGRyYWdnYWJsZWAgaXMgc2V0IHRvIGBmYWxzZWBcclxuICAgICAgICAvLyB0aGlzIGZpeCBwcmV2ZW50cyB0aGF0XHJcbiAgICAgICAgaWYgKCFpc0RyYWdnYWJsZSAmJiBpc1NlbGVjdGFibGUgJiYgaXNEcmFnRXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRHJhZ2dhYmxlICYmIGlzRHJhZ0V2ZW50ICYmICFpc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBzdG9yZSB0aGF0IGRyYWdnaW5nIHN0YXJ0ZWRcclxuICAgICAgICBpZiAoaXNEcmFnZ2FibGUgJiYgaXNFZGl0YWJsZSAmJiAhaXNEcmFnZ2luZyAmJiBpc0NsaWNrRXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgZHJhZ0hhbmRsZSA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1kcmFnLWhhbmRsZV0nKTtcclxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZERyYWdIYW5kbGUgPSBkcmFnSGFuZGxlICYmICh0aGlzLmRvbSA9PT0gZHJhZ0hhbmRsZSB8fCB0aGlzLmRvbS5jb250YWlucyhkcmFnSGFuZGxlKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkRHJhZ0hhbmRsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGVzZSBldmVudHMgYXJlIGhhbmRsZWQgYnkgcHJvc2VtaXJyb3JcclxuICAgICAgICBpZiAoaXNEcmFnZ2luZ1xyXG4gICAgICAgICAgICB8fCBpc0Ryb3BFdmVudFxyXG4gICAgICAgICAgICB8fCBpc0NvcHlFdmVudFxyXG4gICAgICAgICAgICB8fCBpc1Bhc3RlRXZlbnRcclxuICAgICAgICAgICAgfHwgaXNDdXRFdmVudFxyXG4gICAgICAgICAgICB8fCAoaXNDbGlja0V2ZW50ICYmIGlzU2VsZWN0YWJsZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy5jb250ZW50RE9NKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5pZ25vcmVNdXRhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmlnbm9yZU11dGF0aW9uKHsgbXV0YXRpb24gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGEgbGVhZi9hdG9tIG5vZGUgaXMgbGlrZSBhIGJsYWNrIGJveCBmb3IgUHJvc2VNaXJyb3JcclxuICAgICAgICAvLyBhbmQgc2hvdWxkIGJlIGZ1bGx5IGhhbmRsZWQgYnkgdGhlIG5vZGUgdmlld1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUuaXNMZWFmIHx8IHRoaXMubm9kZS5pc0F0b20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByb3NlTWlycm9yIHNob3VsZCBoYW5kbGUgYW55IHNlbGVjdGlvbnNcclxuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ3NlbGVjdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0cnkgdG8gcHJldmVudCBhIGJ1ZyBvbiBpT1MgYW5kIEFuZHJvaWQgdGhhdCB3aWxsIGJyZWFrIG5vZGUgdmlld3Mgb24gZW50ZXJcclxuICAgICAgICAvLyB0aGlzIGlzIGJlY2F1c2UgUHJvc2VNaXJyb3IgY2Fu4oCZdCBwcmV2ZW50RGlzcGF0Y2ggb24gZW50ZXJcclxuICAgICAgICAvLyB0aGlzIHdpbGwgbGVhZCB0byBhIHJlLXJlbmRlciBvZiB0aGUgbm9kZSB2aWV3IG9uIGVudGVyXHJcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzEyMTRcclxuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS91ZWJlcmRvc2lzL3RpcHRhcC9pc3N1ZXMvMjUzNFxyXG4gICAgICAgIGlmICh0aGlzLmRvbS5jb250YWlucyhtdXRhdGlvbi50YXJnZXQpXHJcbiAgICAgICAgICAgICYmIG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnXHJcbiAgICAgICAgICAgICYmIChpc2lPUygpIHx8IGlzQW5kcm9pZCgpKVxyXG4gICAgICAgICAgICAmJiB0aGlzLmVkaXRvci5pc0ZvY3VzZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlZE5vZGVzID0gW1xyXG4gICAgICAgICAgICAgICAgLi4uQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKSxcclxuICAgICAgICAgICAgICAgIC4uLkFycmF5LmZyb20obXV0YXRpb24ucmVtb3ZlZE5vZGVzKSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgLy8gd2XigJlsbCBjaGVjayBpZiBldmVyeSBjaGFuZ2VkIG5vZGUgaXMgY29udGVudEVkaXRhYmxlXHJcbiAgICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBpdOKAmXMgcHJvYmFibHkgbXV0YXRlZCBieSBQcm9zZU1pcnJvclxyXG4gICAgICAgICAgICBpZiAoY2hhbmdlZE5vZGVzLmV2ZXJ5KG5vZGUgPT4gbm9kZS5pc0NvbnRlbnRFZGl0YWJsZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3ZSB3aWxsIGFsbG93IG11dGF0aW9uIGNvbnRlbnRET00gd2l0aCBhdHRyaWJ1dGVzXHJcbiAgICAgICAgLy8gc28gd2UgY2FuIGZvciBleGFtcGxlIGFkZGluZyBjbGFzc2VzIHdpdGhpbiBvdXIgbm9kZSB2aWV3XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGVudERPTSA9PT0gbXV0YXRpb24udGFyZ2V0ICYmIG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJvc2VNaXJyb3Igc2hvdWxkIGhhbmRsZSBhbnkgY2hhbmdlcyB3aXRoaW4gY29udGVudERPTVxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET00uY29udGFpbnMobXV0YXRpb24udGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tbWFuZHMuY29tbWFuZCgoeyB0ciB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0UG9zKCk7XHJcbiAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMubm9kZS5hdHRycyxcclxuICAgICAgICAgICAgICAgIC4uLmF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRlbGV0ZU5vZGUoKSB7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZ2V0UG9zKCk7XHJcbiAgICAgICAgY29uc3QgdG8gPSBmcm9tICsgdGhpcy5ub2RlLm5vZGVTaXplO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLmNvbW1hbmRzLmRlbGV0ZVJhbmdlKHsgZnJvbSwgdG8gfSk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEJ1aWxkIGFuIHBhc3RlIHJ1bGUgdGhhdCBhZGRzIGEgbWFyayB3aGVuIHRoZVxyXG4gKiBtYXRjaGVkIHRleHQgaXMgcGFzdGVkIGludG8gaXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXJrUGFzdGVSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBQYXN0ZVJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlLCByYW5nZSwgbWF0Y2gsIHBhc3RlRXZlbnQsIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGNhbGxPclJldHVybihjb25maWcuZ2V0QXR0cmlidXRlcywgdW5kZWZpbmVkLCBtYXRjaCwgcGFzdGVFdmVudCk7XHJcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSBmYWxzZSB8fCBhdHRyaWJ1dGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgY29uc3QgY2FwdHVyZUdyb3VwID0gbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxNYXRjaCA9IG1hdGNoWzBdO1xyXG4gICAgICAgICAgICBsZXQgbWFya0VuZCA9IHJhbmdlLnRvO1xyXG4gICAgICAgICAgICBpZiAoY2FwdHVyZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFNwYWNlcyA9IGZ1bGxNYXRjaC5zZWFyY2goL1xcUy8pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dFN0YXJ0ID0gcmFuZ2UuZnJvbSArIGZ1bGxNYXRjaC5pbmRleE9mKGNhcHR1cmVHcm91cCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RW5kID0gdGV4dFN0YXJ0ICsgY2FwdHVyZUdyb3VwLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkTWFya3MgPSBnZXRNYXJrc0JldHdlZW4ocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHN0YXRlLmRvYylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGNsdWRlZCA9IGl0ZW0ubWFyay50eXBlLmV4Y2x1ZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGNsdWRlZC5maW5kKHR5cGUgPT4gdHlwZSA9PT0gY29uZmlnLnR5cGUgJiYgdHlwZSAhPT0gaXRlbS5tYXJrLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS50byA+IHRleHRTdGFydCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZWRNYXJrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0RW5kIDwgcmFuZ2UudG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5kZWxldGUodGV4dEVuZCwgcmFuZ2UudG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGFydCA+IHJhbmdlLmZyb20pIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5kZWxldGUocmFuZ2UuZnJvbSArIHN0YXJ0U3BhY2VzLCB0ZXh0U3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFya0VuZCA9IHJhbmdlLmZyb20gKyBzdGFydFNwYWNlcyArIGNhcHR1cmVHcm91cC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB0ci5hZGRNYXJrKHJhbmdlLmZyb20gKyBzdGFydFNwYWNlcywgbWFya0VuZCwgY29uZmlnLnR5cGUuY3JlYXRlKGF0dHJpYnV0ZXMgfHwge30pKTtcclxuICAgICAgICAgICAgICAgIHRyLnJlbW92ZVN0b3JlZE1hcmsoY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbi8vIHNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzY5Njk0ODZcclxuZnVuY3Rpb24gZXNjYXBlRm9yUmVnRXgoc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1stL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcclxufVxuXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XHJcbn1cblxuLyoqXHJcbiAqIEJ1aWxkIGFuIHBhc3RlIHJ1bGUgdGhhdCBhZGRzIGEgbm9kZSB3aGVuIHRoZVxyXG4gKiBtYXRjaGVkIHRleHQgaXMgcGFzdGVkIGludG8gaXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBub2RlUGFzdGVSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBQYXN0ZVJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXIoeyBtYXRjaCwgY2hhaW4sIHJhbmdlLCBwYXN0ZUV2ZW50LCB9KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBjYWxsT3JSZXR1cm4oY29uZmlnLmdldEF0dHJpYnV0ZXMsIHVuZGVmaW5lZCwgbWF0Y2gsIHBhc3RlRXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gZmFsc2UgfHwgYXR0cmlidXRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hdGNoLmlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFpbigpLmRlbGV0ZVJhbmdlKHJhbmdlKS5pbnNlcnRDb250ZW50QXQocmFuZ2UuZnJvbSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbmZpZy50eXBlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IGF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQnVpbGQgYW4gcGFzdGUgcnVsZSB0aGF0IHJlcGxhY2VzIHRleHQgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHBhc3RlZCBpbnRvIGl0LlxyXG4gKi9cclxuZnVuY3Rpb24gdGV4dFBhc3RlUnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgUGFzdGVSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgbGV0IGluc2VydCA9IGNvbmZpZy5yZXBsYWNlO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQgPSByYW5nZS5mcm9tO1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSByYW5nZS50bztcclxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBtYXRjaFswXS5sYXN0SW5kZXhPZihtYXRjaFsxXSk7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnQgKz0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0ICsgbWF0Y2hbMV0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ICs9IG9mZnNldDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1dE9mZiA9IHN0YXJ0IC0gZW5kO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1dE9mZiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBtYXRjaFswXS5zbGljZShvZmZzZXQgLSBjdXRPZmYsIG9mZnNldCkgKyBpbnNlcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RhdGUudHIuaW5zZXJ0VGV4dChpbnNlcnQsIHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG5jbGFzcyBUcmFja2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXAgPSB0aGlzLnRyYW5zYWN0aW9uLnN0ZXBzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIG1hcChwb3NpdGlvbikge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgbWFwcGVkUG9zaXRpb24gPSB0aGlzLnRyYW5zYWN0aW9uLnN0ZXBzXHJcbiAgICAgICAgICAgIC5zbGljZSh0aGlzLmN1cnJlbnRTdGVwKVxyXG4gICAgICAgICAgICAucmVkdWNlKChuZXdQb3NpdGlvbiwgc3RlcCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXBSZXN1bHQgPSBzdGVwLmdldE1hcCgpLm1hcFJlc3VsdChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChtYXBSZXN1bHQuZGVsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1hcFJlc3VsdC5wb3M7XHJcbiAgICAgICAgfSwgcG9zaXRpb24pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBtYXBwZWRQb3NpdGlvbixcclxuICAgICAgICAgICAgZGVsZXRlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IENvbW1hbmRNYW5hZ2VyLCBFZGl0b3IsIEV4dGVuc2lvbiwgSW5wdXRSdWxlLCBNYXJrLCBOb2RlLCBOb2RlVmlldywgUGFzdGVSdWxlLCBUcmFja2VyLCBjYWxsT3JSZXR1cm4sIGNvbWJpbmVUcmFuc2FjdGlvblN0ZXBzLCBjcmVhdGVDaGFpbmFibGVTdGF0ZSwgY3JlYXRlRG9jdW1lbnQsIGNyZWF0ZU5vZGVGcm9tQ29udGVudCwgY3JlYXRlU3R5bGVUYWcsIGRlZmF1bHRCbG9ja0F0LCBkZWxldGVQcm9wcywgZWxlbWVudEZyb21TdHJpbmcsIGVzY2FwZUZvclJlZ0V4LCBleHRlbnNpb25zLCBmaW5kQ2hpbGRyZW4sIGZpbmRDaGlsZHJlbkluUmFuZ2UsIGZpbmREdXBsaWNhdGVzLCBmaW5kUGFyZW50Tm9kZSwgZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3MsIGZyb21TdHJpbmcsIGdlbmVyYXRlSFRNTCwgZ2VuZXJhdGVKU09OLCBnZW5lcmF0ZVRleHQsIGdldEF0dHJpYnV0ZXMsIGdldEF0dHJpYnV0ZXNGcm9tRXh0ZW5zaW9ucywgZ2V0Q2hhbmdlZFJhbmdlcywgZ2V0RGVidWdKU09OLCBnZXRFeHRlbnNpb25GaWVsZCwgZ2V0SFRNTEZyb21GcmFnbWVudCwgZ2V0TWFya0F0dHJpYnV0ZXMsIGdldE1hcmtSYW5nZSwgZ2V0TWFya1R5cGUsIGdldE1hcmtzQmV0d2VlbiwgZ2V0Tm9kZUF0UG9zaXRpb24sIGdldE5vZGVBdHRyaWJ1dGVzLCBnZXROb2RlVHlwZSwgZ2V0UmVuZGVyZWRBdHRyaWJ1dGVzLCBnZXRTY2hlbWEsIGdldFNjaGVtYUJ5UmVzb2x2ZWRFeHRlbnNpb25zLCBnZXRTY2hlbWFUeXBlQnlOYW1lLCBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZSwgZ2V0U3BsaXR0ZWRBdHRyaWJ1dGVzLCBnZXRUZXh0LCBnZXRUZXh0QmV0d2VlbiwgZ2V0VGV4dENvbnRlbnRGcm9tTm9kZXMsIGdldFRleHRTZXJpYWxpemVyc0Zyb21TY2hlbWEsIGluamVjdEV4dGVuc2lvbkF0dHJpYnV0ZXNUb1BhcnNlUnVsZSwgaW5wdXRSdWxlc1BsdWdpbiwgaXNBY3RpdmUsIGlzQXRFbmRPZk5vZGUsIGlzQXRTdGFydE9mTm9kZSwgaXNFbXB0eU9iamVjdCwgaXNFeHRlbnNpb25SdWxlc0VuYWJsZWQsIGlzRnVuY3Rpb24sIGlzTGlzdCwgaXNNYWNPUywgaXNNYXJrQWN0aXZlLCBpc05vZGVBY3RpdmUsIGlzTm9kZUVtcHR5LCBpc05vZGVTZWxlY3Rpb24sIGlzTnVtYmVyLCBpc1BsYWluT2JqZWN0LCBpc1JlZ0V4cCwgaXNTdHJpbmcsIGlzVGV4dFNlbGVjdGlvbiwgaXNpT1MsIG1hcmtJbnB1dFJ1bGUsIG1hcmtQYXN0ZVJ1bGUsIG1lcmdlQXR0cmlidXRlcywgbWVyZ2VEZWVwLCBtaW5NYXgsIG5vZGVJbnB1dFJ1bGUsIG5vZGVQYXN0ZVJ1bGUsIG9iamVjdEluY2x1ZGVzLCBwYXN0ZVJ1bGVzUGx1Z2luLCBwb3NUb0RPTVJlY3QsIHJlbW92ZUR1cGxpY2F0ZXMsIHJlc29sdmVGb2N1c1Bvc2l0aW9uLCBzZWxlY3Rpb25Ub0luc2VydGlvbkVuZCwgc3BsaXRFeHRlbnNpb25zLCB0ZXh0SW5wdXRSdWxlLCB0ZXh0UGFzdGVSdWxlLCB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlLCB3cmFwcGluZ0lucHV0UnVsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiUGx1Z2luIiwiUGx1Z2luS2V5IiwiVGV4dFNlbGVjdGlvbiIsIlNlbGVjdGlvbiIsIk5vZGVTZWxlY3Rpb24iLCJFZGl0b3JTdGF0ZSIsIkVkaXRvclZpZXciLCJrZXltYXAiLCJTY2hlbWEiLCJGcmFnbWVudCIsIkRPTVBhcnNlciIsIkRPTVNlcmlhbGl6ZXIiLCJOb2RlIiwiTm9kZSQxIiwiU2xpY2UiLCJsaWZ0VGFyZ2V0IiwiUmVwbGFjZVN0ZXAiLCJSZXBsYWNlQXJvdW5kU3RlcCIsImpvaW5Qb2ludCIsIlRyYW5zZm9ybSIsImNhblNwbGl0IiwiY2FuSm9pbiIsImZpbmRXcmFwcGluZyIsImNyZWF0ZVBhcmFncmFwaE5lYXIiLCJjcmVhdGVQYXJhZ3JhcGhOZWFyJDEiLCJkZWxldGVTZWxlY3Rpb24iLCJkZWxldGVTZWxlY3Rpb24kMSIsImV4aXRDb2RlIiwiZXhpdENvZGUkMSIsImpvaW5VcCIsImpvaW5VcCQxIiwiam9pbkRvd24iLCJqb2luRG93biQxIiwiam9pbkJhY2t3YXJkIiwiam9pbkJhY2t3YXJkJDEiLCJqb2luRm9yd2FyZCIsImpvaW5Gb3J3YXJkJDEiLCJsaWZ0IiwibGlmdCQxIiwibGlmdEVtcHR5QmxvY2siLCJsaWZ0RW1wdHlCbG9jayQxIiwibmV3bGluZUluQ29kZSIsIm5ld2xpbmVJbkNvZGUkMSIsInNlbGVjdE5vZGVCYWNrd2FyZCIsInNlbGVjdE5vZGVCYWNrd2FyZCQxIiwic2VsZWN0Tm9kZUZvcndhcmQiLCJzZWxlY3ROb2RlRm9yd2FyZCQxIiwic2VsZWN0UGFyZW50Tm9kZSIsInNlbGVjdFBhcmVudE5vZGUkMSIsInNlbGVjdFRleHRibG9ja0VuZCIsInNlbGVjdFRleHRibG9ja0VuZCQxIiwic2VsZWN0VGV4dGJsb2NrU3RhcnQiLCJzZWxlY3RUZXh0YmxvY2tTdGFydCQxIiwic2V0QmxvY2tUeXBlIiwid3JhcEluIiwid3JhcEluJDEiLCJsaWZ0TGlzdEl0ZW0iLCJsaWZ0TGlzdEl0ZW0kMSIsInNpbmtMaXN0SXRlbSIsInNpbmtMaXN0SXRlbSQxIiwid3JhcEluTGlzdCIsIndyYXBJbkxpc3QkMSIsImNyZWF0ZUNoYWluYWJsZVN0YXRlIiwiY29uZmlnIiwic3RhdGUiLCJ0cmFuc2FjdGlvbiIsInNlbGVjdGlvbiIsImRvYyIsInN0b3JlZE1hcmtzIiwiYXBwbHkiLCJiaW5kIiwiYXBwbHlUcmFuc2FjdGlvbiIsImZpbHRlclRyYW5zYWN0aW9uIiwicGx1Z2lucyIsInNjaGVtYSIsInJlY29uZmlndXJlIiwidG9KU09OIiwidHIiLCJDb21tYW5kTWFuYWdlciIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJlZGl0b3IiLCJyYXdDb21tYW5kcyIsImV4dGVuc2lvbk1hbmFnZXIiLCJjb21tYW5kcyIsImN1c3RvbVN0YXRlIiwiaGFzQ3VzdG9tU3RhdGUiLCJ2aWV3IiwiYnVpbGRQcm9wcyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsIm1hcCIsIm5hbWUiLCJjb21tYW5kIiwibWV0aG9kIiwiYXJncyIsImNhbGxiYWNrIiwiZ2V0TWV0YSIsImRpc3BhdGNoIiwiY2hhaW4iLCJjcmVhdGVDaGFpbiIsImNhbiIsImNyZWF0ZUNhbiIsInN0YXJ0VHIiLCJzaG91bGREaXNwYXRjaCIsImNhbGxiYWNrcyIsImhhc1N0YXJ0VHJhbnNhY3Rpb24iLCJydW4iLCJldmVyeSIsImNoYWluZWRDb21tYW5kIiwicHVzaCIsImZvcm1hdHRlZENvbW1hbmRzIiwidW5kZWZpbmVkIiwiRXZlbnRFbWl0dGVyIiwib24iLCJldmVudCIsImZuIiwiZW1pdCIsImZvckVhY2giLCJvZmYiLCJmaWx0ZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJnZXRFeHRlbnNpb25GaWVsZCIsImV4dGVuc2lvbiIsImZpZWxkIiwiY29udGV4dCIsInBhcmVudCIsInZhbHVlIiwic3BsaXRFeHRlbnNpb25zIiwiZXh0ZW5zaW9ucyIsImJhc2VFeHRlbnNpb25zIiwidHlwZSIsIm5vZGVFeHRlbnNpb25zIiwibWFya0V4dGVuc2lvbnMiLCJnZXRBdHRyaWJ1dGVzRnJvbUV4dGVuc2lvbnMiLCJleHRlbnNpb25BdHRyaWJ1dGVzIiwibm9kZUFuZE1hcmtFeHRlbnNpb25zIiwiZGVmYXVsdEF0dHJpYnV0ZSIsImRlZmF1bHQiLCJyZW5kZXJlZCIsInJlbmRlckhUTUwiLCJwYXJzZUhUTUwiLCJrZWVwT25TcGxpdCIsImlzUmVxdWlyZWQiLCJvcHRpb25zIiwic3RvcmFnZSIsImFkZEdsb2JhbEF0dHJpYnV0ZXMiLCJnbG9iYWxBdHRyaWJ1dGVzIiwiZ2xvYmFsQXR0cmlidXRlIiwidHlwZXMiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiYWRkQXR0cmlidXRlcyIsIm1lcmdlZEF0dHIiLCJnZXROb2RlVHlwZSIsIm5hbWVPclR5cGUiLCJub2RlcyIsIkVycm9yIiwibWVyZ2VBdHRyaWJ1dGVzIiwib2JqZWN0cyIsIml0ZW0iLCJyZWR1Y2UiLCJpdGVtcyIsIm1lcmdlZEF0dHJpYnV0ZXMiLCJrZXkiLCJleGlzdHMiLCJ2YWx1ZUNsYXNzZXMiLCJzcGxpdCIsImV4aXN0aW5nQ2xhc3NlcyIsImluc2VydENsYXNzZXMiLCJ2YWx1ZUNsYXNzIiwiaW5jbHVkZXMiLCJqb2luIiwiZ2V0UmVuZGVyZWRBdHRyaWJ1dGVzIiwibm9kZU9yTWFyayIsImF0dHJzIiwiaXNGdW5jdGlvbiIsImNhbGxPclJldHVybiIsImlzRW1wdHlPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiZnJvbVN0cmluZyIsIm1hdGNoIiwiTnVtYmVyIiwiaW5qZWN0RXh0ZW5zaW9uQXR0cmlidXRlc1RvUGFyc2VSdWxlIiwicGFyc2VSdWxlIiwic3R5bGUiLCJnZXRBdHRycyIsIm5vZGUiLCJvbGRBdHRyaWJ1dGVzIiwibmV3QXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZSIsImNsZWFuVXBTY2hlbWFJdGVtIiwiZGF0YSIsImdldFNjaGVtYUJ5UmVzb2x2ZWRFeHRlbnNpb25zIiwiX2EiLCJhbGxBdHRyaWJ1dGVzIiwidG9wTm9kZSIsImZpbmQiLCJleHRyYU5vZGVGaWVsZHMiLCJmaWVsZHMiLCJlIiwiZXh0ZW5kTm9kZVNjaGVtYSIsImNvbnRlbnQiLCJtYXJrcyIsImdyb3VwIiwiaW5saW5lIiwiYXRvbSIsInNlbGVjdGFibGUiLCJkcmFnZ2FibGUiLCJjb2RlIiwiZGVmaW5pbmciLCJpc29sYXRpbmciLCJleHRlbnNpb25BdHRyaWJ1dGUiLCJwYXJzZURPTSIsInRvRE9NIiwiSFRNTEF0dHJpYnV0ZXMiLCJyZW5kZXJUZXh0IiwidG9UZXh0IiwiZXh0cmFNYXJrRmllbGRzIiwiZXh0ZW5kTWFya1NjaGVtYSIsImluY2x1c2l2ZSIsImV4Y2x1ZGVzIiwic3Bhbm5pbmciLCJtYXJrIiwiZ2V0U2NoZW1hVHlwZUJ5TmFtZSIsImlzRXh0ZW5zaW9uUnVsZXNFbmFibGVkIiwiZW5hYmxlZCIsIkFycmF5IiwiaXNBcnJheSIsInNvbWUiLCJlbmFibGVkRXh0ZW5zaW9uIiwiZ2V0VGV4dENvbnRlbnRGcm9tTm9kZXMiLCIkZnJvbSIsIm1heE1hdGNoIiwidGV4dEJlZm9yZSIsInNsaWNlRW5kUG9zIiwicGFyZW50T2Zmc2V0Iiwibm9kZXNCZXR3ZWVuIiwiTWF0aCIsIm1heCIsInBvcyIsImluZGV4IiwiX2IiLCJjaHVuayIsInNwZWMiLCJjYWxsIiwidGV4dENvbnRlbnQiLCJzbGljZSIsImlzUmVnRXhwIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJJbnB1dFJ1bGUiLCJoYW5kbGVyIiwiaW5wdXRSdWxlTWF0Y2hlckhhbmRsZXIiLCJ0ZXh0IiwiZXhlYyIsImlucHV0UnVsZU1hdGNoIiwicmVzdWx0IiwiaW5wdXQiLCJyZXBsYWNlV2l0aCIsImNvbnNvbGUiLCJ3YXJuIiwicnVuJDEiLCJmcm9tIiwidG8iLCJydWxlcyIsInBsdWdpbiIsImNvbXBvc2luZyIsInJlc29sdmUiLCJub2RlQmVmb3JlIiwibm9kZUFmdGVyIiwibWF0Y2hlZCIsInJ1bGUiLCJyYW5nZSIsInN0ZXBzIiwic2V0TWV0YSIsInRyYW5zZm9ybSIsImlucHV0UnVsZXNQbHVnaW4iLCJpbml0IiwicHJldiIsInN0b3JlZCIsInNlbGVjdGlvblNldCIsImRvY0NoYW5nZWQiLCJoYW5kbGVUZXh0SW5wdXQiLCJoYW5kbGVET01FdmVudHMiLCJjb21wb3NpdGlvbmVuZCIsInNldFRpbWVvdXQiLCIkY3Vyc29yIiwiaGFuZGxlS2V5RG93biIsImlzSW5wdXRSdWxlcyIsImlzTnVtYmVyIiwiUGFzdGVSdWxlIiwicGFzdGVSdWxlTWF0Y2hlckhhbmRsZXIiLCJtYXRjaEFsbCIsIm1hdGNoZXMiLCJwYXN0ZVJ1bGVNYXRjaCIsInBhc3RlRXZlbnQiLCJkcm9wRXZlbnQiLCJoYW5kbGVycyIsImlzVGV4dGJsb2NrIiwicmVzb2x2ZWRGcm9tIiwicmVzb2x2ZWRUbyIsIm1pbiIsInNpemUiLCJ0ZXh0VG9NYXRjaCIsInRleHRCZXR3ZWVuIiwic3RhcnQiLCJlbmQiLCJtYXBwaW5nIiwic3VjY2VzcyIsInBhc3RlUnVsZXNQbHVnaW4iLCJkcmFnU291cmNlRWxlbWVudCIsImlzUGFzdGVkRnJvbVByb3NlTWlycm9yIiwiaXNEcm9wcGVkRnJvbVByb3NlTWlycm9yIiwiQ2xpcGJvYXJkRXZlbnQiLCJEcmFnRXZlbnQiLCJoYW5kbGVEcmFnc3RhcnQiLCJkb20iLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkcm9wIiwicGFzdGUiLCJfdmlldyIsImh0bWwiLCJjbGlwYm9hcmREYXRhIiwiZ2V0RGF0YSIsImFwcGVuZFRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb25zIiwib2xkU3RhdGUiLCJpc1Bhc3RlIiwiaXNEcm9wIiwiZmluZERpZmZTdGFydCIsImZpbmREaWZmRW5kIiwiYiIsImNoYWluYWJsZVN0YXRlIiwiZmluZER1cGxpY2F0ZXMiLCJmaWx0ZXJlZCIsImVsIiwiaW5kZXhPZiIsIlNldCIsIkV4dGVuc2lvbk1hbmFnZXIiLCJzcGxpdHRhYmxlTWFya3MiLCJleHRlbnNpb25TdG9yYWdlIiwib25CZWZvcmVDcmVhdGUiLCJvbkNyZWF0ZSIsIm9uVXBkYXRlIiwib25TZWxlY3Rpb25VcGRhdGUiLCJvblRyYW5zYWN0aW9uIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uRGVzdHJveSIsInJlc29sdmVkRXh0ZW5zaW9ucyIsInNvcnQiLCJmbGF0dGVuIiwiZHVwbGljYXRlZE5hbWVzIiwiYWRkRXh0ZW5zaW9ucyIsImZsYXQiLCJkZWZhdWx0UHJpb3JpdHkiLCJhIiwicHJpb3JpdHlBIiwicHJpb3JpdHlCIiwiYWRkQ29tbWFuZHMiLCJyZXZlcnNlIiwiaW5wdXRSdWxlcyIsInBhc3RlUnVsZXMiLCJhbGxQbHVnaW5zIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJkZWZhdWx0QmluZGluZ3MiLCJleGl0YWJsZSIsIkFycm93UmlnaHQiLCJNYXJrIiwiaGFuZGxlRXhpdCIsImJpbmRpbmdzIiwic2hvcnRjdXQiLCJrZXlNYXBQbHVnaW4iLCJhZGRJbnB1dFJ1bGVzIiwiZW5hYmxlSW5wdXRSdWxlcyIsImFkZFBhc3RlUnVsZXMiLCJlbmFibGVQYXN0ZVJ1bGVzIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwicHJvc2VNaXJyb3JQbHVnaW5zIiwibm9kZVZpZXdzIiwiYWRkTm9kZVZpZXciLCJub2RldmlldyIsImdldFBvcyIsImRlY29yYXRpb25zIiwiZ2V0VHlwZSIsImlzUGxhaW5PYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsIm1lcmdlRGVlcCIsInNvdXJjZSIsIm91dHB1dCIsImFzc2lnbiIsIkV4dGVuc2lvbiIsImNoaWxkIiwiZGVmYXVsdE9wdGlvbnMiLCJhZGRPcHRpb25zIiwiY3JlYXRlIiwiY29uZmlndXJlIiwiZXh0ZW5kIiwiZXh0ZW5kZWRDb25maWciLCJnZXRUZXh0QmV0d2VlbiIsInN0YXJ0Tm9kZSIsImJsb2NrU2VwYXJhdG9yIiwidGV4dFNlcmlhbGl6ZXJzIiwic2VwYXJhdGVkIiwidGV4dFNlcmlhbGl6ZXIiLCJpc0Jsb2NrIiwiaXNUZXh0IiwiZ2V0VGV4dFNlcmlhbGl6ZXJzRnJvbVNjaGVtYSIsIkNsaXBib2FyZFRleHRTZXJpYWxpemVyIiwiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXIiLCJyYW5nZXMiLCIkdG8iLCJibHVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaXNEZXN0cm95ZWQiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJjbGVhckNvbnRlbnQiLCJlbWl0VXBkYXRlIiwic2V0Q29udGVudCIsImNsZWFyTm9kZXMiLCIkbWFwcGVkRnJvbSIsIiRtYXBwZWRUbyIsIm5vZGVTaXplIiwibm9kZVJhbmdlIiwiYmxvY2tSYW5nZSIsInRhcmdldExpZnREZXB0aCIsImRlZmF1bHRUeXBlIiwiY29udGVudE1hdGNoQXQiLCJzZXROb2RlTWFya3VwIiwiY3V0Iiwib3JpZ2luUmFuZ2UiLCJ0YXJnZXRQb3MiLCJjb250ZW50U2xpY2UiLCJkZWxldGVSYW5nZSIsIm5ld1BvcyIsImluc2VydCIsInNldFNlbGVjdGlvbiIsImRlbGV0ZUN1cnJlbnROb2RlIiwiY3VycmVudE5vZGUiLCIkYW5jaG9yIiwiJHBvcyIsImRlcHRoIiwiYmVmb3JlIiwiYWZ0ZXIiLCJkZWxldGUiLCJzY3JvbGxJbnRvVmlldyIsImRlbGV0ZU5vZGUiLCJ0eXBlT3JOYW1lIiwiZW50ZXIiLCJrZXlib2FyZFNob3J0Y3V0Iiwib2JqZWN0SW5jbHVkZXMiLCJvYmplY3QxIiwib2JqZWN0MiIsInN0cmljdCIsInRlc3QiLCJmaW5kTWFya0luU2V0IiwiaXNNYXJrSW5TZXQiLCJnZXRNYXJrUmFuZ2UiLCJjaGlsZEFmdGVyIiwib2Zmc2V0IiwiY2hpbGRCZWZvcmUiLCJzdGFydEluZGV4Iiwic3RhcnRQb3MiLCJlbmRJbmRleCIsImVuZFBvcyIsImlzSW5TZXQiLCJjaGlsZENvdW50IiwiZ2V0TWFya1R5cGUiLCJleHRlbmRNYXJrUmFuZ2UiLCJuZXdTZWxlY3Rpb24iLCJmaXJzdCIsImkiLCJpc1RleHRTZWxlY3Rpb24iLCJtaW5NYXgiLCJyZXNvbHZlRm9jdXNQb3NpdGlvbiIsInBvc2l0aW9uIiwic2VsZWN0aW9uQXRTdGFydCIsImF0U3RhcnQiLCJzZWxlY3Rpb25BdEVuZCIsImF0RW5kIiwibWluUG9zIiwibWF4UG9zIiwiaXNpT1MiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsInVzZXJBZ2VudCIsImRvY3VtZW50IiwiZm9jdXMiLCJkZWxheWVkRm9jdXMiLCJoYXNGb2N1cyIsImlzU2FtZVNlbGVjdGlvbiIsImVxIiwic2V0U3RvcmVkTWFya3MiLCJpbnNlcnRDb250ZW50IiwiaW5zZXJ0Q29udGVudEF0IiwiZWxlbWVudEZyb21TdHJpbmciLCJ3cmFwcGVkVmFsdWUiLCJwYXJzZUZyb21TdHJpbmciLCJib2R5IiwiY3JlYXRlTm9kZUZyb21Db250ZW50IiwicGFyc2VPcHRpb25zIiwiZnJvbUFycmF5Iiwibm9kZUZyb21KU09OIiwiZXJyb3IiLCJwYXJzZXIiLCJmcm9tU2NoZW1hIiwicGFyc2VTbGljZSIsInBhcnNlIiwic2VsZWN0aW9uVG9JbnNlcnRpb25FbmQiLCJzdGFydExlbiIsImJpYXMiLCJsYXN0Iiwic3RlcCIsIm1hcHMiLCJfZnJvbSIsIl90byIsIl9uZXdGcm9tIiwibmV3VG8iLCJuZWFyIiwiaXNGcmFnbWVudCIsIm5vZGVPckZyYWdtZW50Iiwic3RhcnRzV2l0aCIsInVwZGF0ZVNlbGVjdGlvbiIsInByZXNlcnZlV2hpdGVzcGFjZSIsImlzT25seVRleHRDb250ZW50IiwiaXNPbmx5QmxvY2tDb250ZW50IiwiY2hlY2siLCJpc0VtcHR5VGV4dEJsb2NrIiwiaW5zZXJ0VGV4dCIsInYiLCJqb2luSXRlbUJhY2t3YXJkIiwicG9pbnQiLCJqb2luSXRlbUZvcndhcmQiLCJpc01hY09TIiwibm9ybWFsaXplS2V5TmFtZSIsInBhcnRzIiwiYWx0IiwiY3RybCIsInNoaWZ0IiwibWV0YSIsIm1vZCIsIktleWJvYXJkRXZlbnQiLCJhbHRLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjYXB0dXJlZFRyYW5zYWN0aW9uIiwiY2FwdHVyZVRyYW5zYWN0aW9uIiwic29tZVByb3AiLCJmIiwibmV3U3RlcCIsIm1heWJlU3RlcCIsImlzTm9kZUFjdGl2ZSIsImVtcHR5Iiwibm9kZVJhbmdlcyIsInJlbGF0aXZlRnJvbSIsInJlbGF0aXZlVG8iLCJzZWxlY3Rpb25SYW5nZSIsIm1hdGNoZWROb2RlUmFuZ2VzIiwic3VtIiwiaXNBY3RpdmUiLCJnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZSIsImRlbGV0ZVByb3BzIiwib2JqIiwicHJvcE9yUHJvcHMiLCJuZXdPYmoiLCJwcm9wIiwicmVzZXRBdHRyaWJ1dGVzIiwibm9kZVR5cGUiLCJtYXJrVHlwZSIsInNjaGVtYVR5cGUiLCJhZGRNYXJrIiwic2VsZWN0QWxsIiwic2V0VGV4dFNlbGVjdGlvbiIsImNyZWF0ZURvY3VtZW50IiwiZ2V0TWFya0F0dHJpYnV0ZXMiLCIkaGVhZCIsIm1hcmtJdGVtIiwiY29tYmluZVRyYW5zYWN0aW9uU3RlcHMiLCJvbGREb2MiLCJkZWZhdWx0QmxvY2tBdCIsImVkZ2VDb3VudCIsImVkZ2UiLCJoYXNSZXF1aXJlZEF0dHJzIiwiZmluZENoaWxkcmVuIiwicHJlZGljYXRlIiwibm9kZXNXaXRoUG9zIiwiZGVzY2VuZGFudHMiLCJmaW5kQ2hpbGRyZW5JblJhbmdlIiwiZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3MiLCJmaW5kUGFyZW50Tm9kZSIsImdldEhUTUxGcm9tRnJhZ21lbnQiLCJmcmFnbWVudCIsImRvY3VtZW50RnJhZ21lbnQiLCJzZXJpYWxpemVGcmFnbWVudCIsInRlbXBvcmFyeURvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJnZXRTY2hlbWEiLCJnZW5lcmF0ZUhUTUwiLCJjb250ZW50Tm9kZSIsImZyb21KU09OIiwiZ2VuZXJhdGVKU09OIiwiZ2V0VGV4dCIsImdlbmVyYXRlVGV4dCIsImdldE5vZGVBdHRyaWJ1dGVzIiwibm9kZUl0ZW0iLCJnZXRBdHRyaWJ1dGVzIiwicmVtb3ZlRHVwbGljYXRlcyIsImFycmF5IiwiYnkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2VlbiIsImhhc093blByb3BlcnR5Iiwic2ltcGxpZnlDaGFuZ2VkUmFuZ2VzIiwiY2hhbmdlcyIsInVuaXF1ZUNoYW5nZXMiLCJjaGFuZ2UiLCJyZXN0IiwiXyIsIm90aGVyQ2hhbmdlIiwib2xkUmFuZ2UiLCJuZXdSYW5nZSIsImdldENoYW5nZWRSYW5nZXMiLCJzdGVwTWFwIiwibmV3U3RhcnQiLCJuZXdFbmQiLCJvbGRTdGFydCIsImludmVydCIsIm9sZEVuZCIsImdldERlYnVnSlNPTiIsInN0YXJ0T2Zmc2V0IiwiaXNUb3BOb2RlIiwidG9wTm9kZVR5cGUiLCJpbmNyZW1lbnQiLCJnZXRNYXJrc0JldHdlZW4iLCJnZXROb2RlQXRQb3NpdGlvbiIsIm1heERlcHRoIiwiY3VycmVudERlcHRoIiwiZ2V0U3BsaXR0ZWRBdHRyaWJ1dGVzIiwidHlwZU5hbWUiLCJpc01hcmtBY3RpdmUiLCJtYXJrUmFuZ2VzIiwibWF0Y2hlZFJhbmdlIiwibWFya1JhbmdlIiwiZXhjbHVkZWRSYW5nZSIsImlzQXRFbmRPZk5vZGUiLCJwYXJlbnROb2RlIiwiJHBhcmVudFBvcyIsImlzQXRTdGFydE9mTm9kZSIsImlzTGlzdCIsImlzTm9kZUVtcHR5IiwiZGVmYXVsdENvbnRlbnQiLCJjcmVhdGVBbmRGaWxsIiwiaXNOb2RlU2VsZWN0aW9uIiwicG9zVG9ET01SZWN0IiwicmVzb2x2ZWRFbmQiLCJjb29yZHNBdFBvcyIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiaGVpZ2h0IiwieCIsInkiLCJjYW5TZXRNYXJrIiwibmV3TWFya1R5cGUiLCJjdXJzb3IiLCJjdXJyZW50TWFya3MiLCJzb21lTm9kZVN1cHBvcnRzTWFyayIsImlubGluZUNvbnRlbnQiLCJhbGxvd3NNYXJrVHlwZSIsIl9wb3MiLCJpc0lubGluZSIsInBhcmVudEFsbG93c01hcmtUeXBlIiwiY3VycmVudE1hcmtzQWxsb3dNYXJrVHlwZSIsIm90aGVyTWFyayIsInNldE1hcmsiLCJhZGRTdG9yZWRNYXJrIiwidHJpbW1lZEZyb20iLCJ0cmltbWVkVG8iLCJzb21lSGFzTWFyayIsInNldE5vZGUiLCJjYW5TZXRCbG9jayIsInVwZGF0ZWRTdGF0ZSIsInNldE5vZGVTZWxlY3Rpb24iLCJlbnN1cmVNYXJrcyIsImZpbHRlcmVkTWFya3MiLCJzcGxpdEJsb2NrIiwia2VlcE1hcmtzIiwiZGVmbHQiLCJpbmRleEFmdGVyIiwiJGZpcnN0IiwiY2FuUmVwbGFjZVdpdGgiLCJzcGxpdExpc3RJdGVtIiwic2FtZVBhcmVudCIsImdyYW5kUGFyZW50Iiwid3JhcCIsImRlcHRoQmVmb3JlIiwiZCIsImNvcHkiLCJkZXB0aEFmdGVyIiwibmV3TmV4dFR5cGVBdHRyaWJ1dGVzIiwibmV4dFR5cGUiLCJjb250ZW50TWF0Y2giLCJhcHBlbmQiLCJyZXBsYWNlIiwic2VsIiwibiIsIm5ld1R5cGVBdHRyaWJ1dGVzIiwiam9pbkxpc3RCYWNrd2FyZHMiLCJsaXN0VHlwZSIsImxpc3QiLCJub2RlQXQiLCJjYW5Kb2luQmFja3dhcmRzIiwiam9pbkxpc3RGb3J3YXJkcyIsImNhbkpvaW5Gb3J3YXJkcyIsInRvZ2dsZUxpc3QiLCJsaXN0VHlwZU9yTmFtZSIsIml0ZW1UeXBlT3JOYW1lIiwiaXRlbVR5cGUiLCJwYXJlbnRMaXN0IiwidmFsaWRDb250ZW50IiwiY2FuV3JhcEluTGlzdCIsInRvZ2dsZU1hcmsiLCJleHRlbmRFbXB0eU1hcmtSYW5nZSIsInVuc2V0TWFyayIsInRvZ2dsZU5vZGUiLCJ0b2dnbGVUeXBlT3JOYW1lIiwidG9nZ2xlVHlwZSIsInRvZ2dsZVdyYXAiLCJ1bmRvSW5wdXRSdWxlIiwidW5kb2FibGUiLCJnZXRTdGF0ZSIsInRvVW5kbyIsImoiLCJkb2NzIiwidW5zZXRBbGxNYXJrcyIsInJlbW92ZU1hcmsiLCJyZW1vdmVTdG9yZWRNYXJrIiwidXBkYXRlQXR0cmlidXRlcyIsImZyZWV6ZSIsIl9fcHJvdG9fXyIsIkNvbW1hbmRzIiwiRWRpdGFibGUiLCJlZGl0YWJsZSIsIkZvY3VzRXZlbnRzIiwiaXNGb2N1c2VkIiwiS2V5bWFwIiwiaGFuZGxlQmFja3NwYWNlIiwicGFyZW50SXNJc29sYXRpbmciLCJwYXJlbnRQb3MiLCJpc0F0U3RhcnQiLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVFbnRlciIsImJhc2VLZXltYXAiLCJFbnRlciIsIkJhY2tzcGFjZSIsIkRlbGV0ZSIsInBjS2V5bWFwIiwibWFjS2V5bWFwIiwibmV3U3RhdGUiLCJkb2NDaGFuZ2VzIiwiYWxsRnJvbSIsImFsbEVuZCIsImFsbFdhc1NlbGVjdGVkIiwiaXNFbXB0eSIsIlRhYmluZGV4IiwiaXNFZGl0YWJsZSIsInRhYmluZGV4IiwiY3JlYXRlU3R5bGVUYWciLCJub25jZSIsInN1ZmZpeCIsInRpcHRhcFN0eWxlVGFnIiwicXVlcnlTZWxlY3RvciIsInN0eWxlTm9kZSIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiRWRpdG9yIiwiZWxlbWVudCIsImluamVjdENTUyIsImluamVjdE5vbmNlIiwiYXV0b2ZvY3VzIiwiZWRpdG9yUHJvcHMiLCJlbmFibGVDb3JlRXh0ZW5zaW9ucyIsImlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24iLCJzZXRPcHRpb25zIiwiY3JlYXRlRXh0ZW5zaW9uTWFuYWdlciIsImNyZWF0ZUNvbW1hbmRNYW5hZ2VyIiwiY3JlYXRlU2NoZW1hIiwiY3JlYXRlVmlldyIsImNvbW1hbmRNYW5hZ2VyIiwiY3NzIiwic2V0UHJvcHMiLCJ1cGRhdGVTdGF0ZSIsInNldEVkaXRhYmxlIiwicmVnaXN0ZXJQbHVnaW4iLCJoYW5kbGVQbHVnaW5zIiwidW5yZWdpc3RlclBsdWdpbiIsIm5hbWVPclBsdWdpbktleSIsImNvcmVFeHRlbnNpb25zIiwidmFsdWVzIiwiYWxsRXh0ZW5zaW9ucyIsImRpc3BhdGNoVHJhbnNhY3Rpb24iLCJjcmVhdGVOb2RlVmlld3MiLCJwcmVwZW5kQ2xhc3MiLCJjbGFzc05hbWUiLCJzZWxlY3Rpb25IYXNDaGFuZ2VkIiwibmFtZU9yQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNPclVuZGVmaW5lZCIsImdldEpTT04iLCJnZXRIVE1MIiwiZ2V0Q2hhcmFjdGVyQ291bnQiLCJkb2NWaWV3IiwibWFya0lucHV0UnVsZSIsImNhcHR1cmVHcm91cCIsImZ1bGxNYXRjaCIsInN0YXJ0U3BhY2VzIiwic2VhcmNoIiwidGV4dFN0YXJ0IiwidGV4dEVuZCIsImV4Y2x1ZGVkTWFya3MiLCJleGNsdWRlZCIsIm1hcmtFbmQiLCJub2RlSW5wdXRSdWxlIiwibmV3Tm9kZSIsImxhc3RJbmRleE9mIiwibWF0Y2hTdGFydCIsImxhc3RDaGFyIiwidGV4dGJsb2NrVHlwZUlucHV0UnVsZSIsIiRzdGFydCIsInRleHRJbnB1dFJ1bGUiLCJjdXRPZmYiLCJ3cmFwcGluZ0lucHV0UnVsZSIsIndyYXBwaW5nIiwia2VlcEF0dHJpYnV0ZXMiLCJqb2luUHJlZGljYXRlIiwiY3VycmVudFBvcyIsImlzQXRFbmQiLCJpc0luTWFyayIsIm0iLCJpc0FuZHJvaWQiLCJOb2RlVmlldyIsImNvbXBvbmVudCIsImlzRHJhZ2dpbmciLCJzdG9wRXZlbnQiLCJpZ25vcmVNdXRhdGlvbiIsIm1vdW50IiwiY29udGVudERPTSIsIm9uRHJhZ1N0YXJ0IiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsImRyYWdIYW5kbGUiLCJjbG9zZXN0IiwiZG9tQm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGFuZGxlQm94Iiwib2Zmc2V0WCIsIm5hdGl2ZUV2ZW50Iiwib2Zmc2V0WSIsImRhdGFUcmFuc2ZlciIsInNldERyYWdJbWFnZSIsImlzSW5FbGVtZW50IiwiaXNEcmFnRXZlbnQiLCJpc0Ryb3BFdmVudCIsImlzSW5wdXQiLCJ0YWdOYW1lIiwiaXNDb250ZW50RWRpdGFibGUiLCJpc0RyYWdnYWJsZSIsImlzU2VsZWN0YWJsZSIsImlzQ29weUV2ZW50IiwiaXNQYXN0ZUV2ZW50IiwiaXNDdXRFdmVudCIsImlzQ2xpY2tFdmVudCIsInByZXZlbnREZWZhdWx0IiwiaXNWYWxpZERyYWdIYW5kbGUiLCJvbmNlIiwibXV0YXRpb24iLCJpc0xlYWYiLCJpc0F0b20iLCJjaGFuZ2VkTm9kZXMiLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwibWFya1Bhc3RlUnVsZSIsImVzY2FwZUZvclJlZ0V4Iiwic3RyaW5nIiwiaXNTdHJpbmciLCJub2RlUGFzdGVSdWxlIiwidGV4dFBhc3RlUnVsZSIsIlRyYWNrZXIiLCJjdXJyZW50U3RlcCIsImRlbGV0ZWQiLCJtYXBwZWRQb3NpdGlvbiIsIm5ld1Bvc2l0aW9uIiwibWFwUmVzdWx0IiwiZ2V0TWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-blockquote/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-blockquote/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blockquote: () => (/* binding */ Blockquote),\n/* harmony export */   \"default\": () => (/* binding */ Blockquote),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /^\\s*>\\s$/;\nconst Blockquote = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"blockquote\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    content: \"block+\",\n    group: \"block\",\n    defining: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"blockquote\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"blockquote\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setBlockquote: ()=>({ commands })=>{\n                    return commands.wrapIn(this.name);\n                },\n            toggleBlockquote: ()=>({ commands })=>{\n                    return commands.toggleWrap(this.name);\n                },\n            unsetBlockquote: ()=>({ commands })=>{\n                    return commands.lift(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Shift-b\": ()=>this.editor.commands.toggleBlockquote()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.wrappingInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYmxvY2txdW90ZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0U7QUFFeEUsTUFBTUcsYUFBYTtBQUNuQixNQUFNQyxhQUFhSiw4Q0FBSUEsQ0FBQ0ssTUFBTSxDQUFDO0lBQzNCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztRQUNyQjtJQUNKO0lBQ0FDLFNBQVM7SUFDVEMsT0FBTztJQUNQQyxVQUFVO0lBQ1ZDO1FBQ0ksT0FBTztZQUNIO2dCQUFFQyxLQUFLO1lBQWE7U0FDdkI7SUFDTDtJQUNBQyxZQUFXLEVBQUVOLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBY1AsNkRBQWVBLENBQUMsSUFBSSxDQUFDYyxPQUFPLENBQUNQLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUMxRjtJQUNBUTtRQUNJLE9BQU87WUFDSEMsZUFBZSxJQUFNLENBQUMsRUFBRUMsUUFBUSxFQUFFO29CQUM5QixPQUFPQSxTQUFTQyxNQUFNLENBQUMsSUFBSSxDQUFDYixJQUFJO2dCQUNwQztZQUNBYyxrQkFBa0IsSUFBTSxDQUFDLEVBQUVGLFFBQVEsRUFBRTtvQkFDakMsT0FBT0EsU0FBU0csVUFBVSxDQUFDLElBQUksQ0FBQ2YsSUFBSTtnQkFDeEM7WUFDQWdCLGlCQUFpQixJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUNoQyxPQUFPQSxTQUFTSyxJQUFJLENBQUMsSUFBSSxDQUFDakIsSUFBSTtnQkFDbEM7UUFDSjtJQUNKO0lBQ0FrQjtRQUNJLE9BQU87WUFDSCxlQUFlLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZ0JBQWdCO1FBQzlEO0lBQ0o7SUFDQU07UUFDSSxPQUFPO1lBQ0h4QiwrREFBaUJBLENBQUM7Z0JBQ2R5QixNQUFNeEI7Z0JBQ055QixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7QUFDSjtBQUV5RCxDQUN6RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWJsb2NrcXVvdGUvZGlzdC9pbmRleC5qcz9lMWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUsIG1lcmdlQXR0cmlidXRlcywgd3JhcHBpbmdJbnB1dFJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBpbnB1dFJlZ2V4ID0gL15cXHMqPlxccyQvO1xyXG5jb25zdCBCbG9ja3F1b3RlID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2Jsb2NrcXVvdGUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjb250ZW50OiAnYmxvY2srJyxcclxuICAgIGdyb3VwOiAnYmxvY2snLFxyXG4gICAgZGVmaW5pbmc6IHRydWUsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdibG9ja3F1b3RlJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydibG9ja3F1b3RlJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRCbG9ja3F1b3RlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMud3JhcEluKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUJsb2NrcXVvdGU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVXcmFwKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0QmxvY2txdW90ZTogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmxpZnQodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtU2hpZnQtYic6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUJsb2NrcXVvdGUoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgd3JhcHBpbmdJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogaW5wdXRSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBCbG9ja3F1b3RlLCBCbG9ja3F1b3RlIGFzIGRlZmF1bHQsIGlucHV0UmVnZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJ3cmFwcGluZ0lucHV0UnVsZSIsImlucHV0UmVnZXgiLCJCbG9ja3F1b3RlIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsImNvbnRlbnQiLCJncm91cCIsImRlZmluaW5nIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldEJsb2NrcXVvdGUiLCJjb21tYW5kcyIsIndyYXBJbiIsInRvZ2dsZUJsb2NrcXVvdGUiLCJ0b2dnbGVXcmFwIiwidW5zZXRCbG9ja3F1b3RlIiwibGlmdCIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiYWRkSW5wdXRSdWxlcyIsImZpbmQiLCJ0eXBlIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-blockquote/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-bold/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bold: () => (/* binding */ Bold),\n/* harmony export */   \"default\": () => (/* binding */ Bold),\n/* harmony export */   starInputRegex: () => (/* binding */ starInputRegex),\n/* harmony export */   starPasteRegex: () => (/* binding */ starPasteRegex),\n/* harmony export */   underscoreInputRegex: () => (/* binding */ underscoreInputRegex),\n/* harmony export */   underscorePasteRegex: () => (/* binding */ underscorePasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst starInputRegex = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))$/;\nconst starPasteRegex = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))/g;\nconst underscoreInputRegex = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))$/;\nconst underscorePasteRegex = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))/g;\nconst Bold = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"bold\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"strong\"\n            },\n            {\n                tag: \"b\",\n                getAttrs: (node)=>node.style.fontWeight !== \"normal\" && null\n            },\n            {\n                style: \"font-weight\",\n                getAttrs: (value)=>/^(bold(er)?|[5-9]\\d{2,})$/.test(value) && null\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"strong\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setBold: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleBold: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetBold: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-b\": ()=>this.editor.commands.toggleBold(),\n            \"Mod-B\": ()=>this.editor.commands.toggleBold()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: starInputRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: underscoreInputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: starPasteRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: underscorePasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYm9sZC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUY7QUFFbkYsTUFBTUksaUJBQWlCO0FBQ3ZCLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLE9BQU9SLDhDQUFJQSxDQUFDUyxNQUFNLENBQUM7SUFDckJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQSxLQUFLO2dCQUNMQyxVQUFVQyxDQUFBQSxPQUFRQSxLQUFLQyxLQUFLLENBQUNDLFVBQVUsS0FBSyxZQUFZO1lBQzVEO1lBQ0E7Z0JBQ0lELE9BQU87Z0JBQ1BGLFVBQVVJLENBQUFBLFFBQVMsNEJBQTRCQyxJQUFJLENBQUNELFVBQVU7WUFDbEU7U0FDSDtJQUNMO0lBQ0FFLFlBQVcsRUFBRVQsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFVWCw2REFBZUEsQ0FBQyxJQUFJLENBQUNxQixPQUFPLENBQUNWLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUN0RjtJQUNBVztRQUNJLE9BQU87WUFDSEMsU0FBUyxJQUFNLENBQUMsRUFBRUMsUUFBUSxFQUFFO29CQUN4QixPQUFPQSxTQUFTQyxPQUFPLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDckM7WUFDQWlCLFlBQVksSUFBTSxDQUFDLEVBQUVGLFFBQVEsRUFBRTtvQkFDM0IsT0FBT0EsU0FBU0csVUFBVSxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3hDO1lBQ0FtQixXQUFXLElBQU0sQ0FBQyxFQUFFSixRQUFRLEVBQUU7b0JBQzFCLE9BQU9BLFNBQVNLLFNBQVMsQ0FBQyxJQUFJLENBQUNwQixJQUFJO2dCQUN2QztRQUNKO0lBQ0o7SUFDQXFCO1FBQ0ksT0FBTztZQUNILFNBQVMsSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDRSxVQUFVO1lBQzlDLFNBQVMsSUFBTSxJQUFJLENBQUNLLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDRSxVQUFVO1FBQ2xEO0lBQ0o7SUFDQU07UUFDSSxPQUFPO1lBQ0gvQiwyREFBYUEsQ0FBQztnQkFDVmdDLE1BQU05QjtnQkFDTitCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1lBQ0FqQywyREFBYUEsQ0FBQztnQkFDVmdDLE1BQU01QjtnQkFDTjZCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtJQUNBQztRQUNJLE9BQU87WUFDSGpDLDJEQUFhQSxDQUFDO2dCQUNWK0IsTUFBTTdCO2dCQUNOOEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7WUFDQWhDLDJEQUFhQSxDQUFDO2dCQUNWK0IsTUFBTTNCO2dCQUNONEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0FBQ0o7QUFFNkcsQ0FDN0csaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1ib2xkL2Rpc3QvaW5kZXguanM/ZGY2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrLCBtZXJnZUF0dHJpYnV0ZXMsIG1hcmtJbnB1dFJ1bGUsIG1hcmtQYXN0ZVJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBzdGFySW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86XFwqXFwqKSgoPzpbXipdKykpKD86XFwqXFwqKSkkLztcclxuY29uc3Qgc3RhclBhc3RlUmVnZXggPSAvKD86XnxcXHMpKCg/OlxcKlxcKikoKD86W14qXSspKSg/OlxcKlxcKikpL2c7XHJcbmNvbnN0IHVuZGVyc2NvcmVJbnB1dFJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpfXykoKD86W15fX10rKSkoPzpfXykpJC87XHJcbmNvbnN0IHVuZGVyc2NvcmVQYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpfXykoKD86W15fX10rKSkoPzpfXykpL2c7XHJcbmNvbnN0IEJvbGQgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnYm9sZCcsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdzdHJvbmcnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdiJyxcclxuICAgICAgICAgICAgICAgIGdldEF0dHJzOiBub2RlID0+IG5vZGUuc3R5bGUuZm9udFdlaWdodCAhPT0gJ25vcm1hbCcgJiYgbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXdlaWdodCcsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogdmFsdWUgPT4gL14oYm9sZChlcik/fFs1LTldXFxkezIsfSkkLy50ZXN0KHZhbHVlKSAmJiBudWxsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydzdHJvbmcnLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyksIDBdO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldEJvbGQ6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUJvbGQ6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0Qm9sZDogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnVuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC1iJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlQm9sZCgpLFxyXG4gICAgICAgICAgICAnTW9kLUInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVCb2xkKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRJbnB1dFJ1bGVzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG1hcmtJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogc3RhcklucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtYXJrSW5wdXRSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IHVuZGVyc2NvcmVJbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBzdGFyUGFzdGVSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1hcmtQYXN0ZVJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogdW5kZXJzY29yZVBhc3RlUmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQm9sZCwgQm9sZCBhcyBkZWZhdWx0LCBzdGFySW5wdXRSZWdleCwgc3RhclBhc3RlUmVnZXgsIHVuZGVyc2NvcmVJbnB1dFJlZ2V4LCB1bmRlcnNjb3JlUGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwic3RhcklucHV0UmVnZXgiLCJzdGFyUGFzdGVSZWdleCIsInVuZGVyc2NvcmVJbnB1dFJlZ2V4IiwidW5kZXJzY29yZVBhc3RlUmVnZXgiLCJCb2xkIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsInBhcnNlSFRNTCIsInRhZyIsImdldEF0dHJzIiwibm9kZSIsInN0eWxlIiwiZm9udFdlaWdodCIsInZhbHVlIiwidGVzdCIsInJlbmRlckhUTUwiLCJvcHRpb25zIiwiYWRkQ29tbWFuZHMiLCJzZXRCb2xkIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlQm9sZCIsInRvZ2dsZU1hcmsiLCJ1bnNldEJvbGQiLCJ1bnNldE1hcmsiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsImVkaXRvciIsImFkZElucHV0UnVsZXMiLCJmaW5kIiwidHlwZSIsImFkZFBhc3RlUnVsZXMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@tiptap/extension-bubble-menu/dist/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BubbleMenu: () => (/* binding */ BubbleMenu),\n/* harmony export */   BubbleMenuPlugin: () => (/* binding */ BubbleMenuPlugin),\n/* harmony export */   BubbleMenuView: () => (/* binding */ BubbleMenuView),\n/* harmony export */   \"default\": () => (/* binding */ BubbleMenu)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tippy.js */ \"(ssr)/./node_modules/tippy.js/dist/tippy.esm.js\");\n\n\n\nclass BubbleMenuView {\n    constructor({ editor, element, view, tippyOptions = {}, updateDelay = 250, shouldShow }){\n        this.preventHide = false;\n        this.shouldShow = ({ view, state, from, to })=>{\n            const { doc, selection } = state;\n            const { empty } = selection;\n            // Sometime check for `empty` is not enough.\n            // Doubleclick an empty paragraph returns a node size of 2.\n            // So we check also for an empty text size.\n            const isEmptyTextBlock = !doc.textBetween(from, to).length && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.isTextSelection)(state.selection);\n            // When clicking on a element inside the bubble menu the editor \"blur\" event\n            // is called and the bubble menu item is focussed. In this case we should\n            // consider the menu as part of the editor and keep showing the menu\n            const isChildOfMenu = this.element.contains(document.activeElement);\n            const hasEditorFocus = view.hasFocus() || isChildOfMenu;\n            if (!hasEditorFocus || empty || isEmptyTextBlock || !this.editor.isEditable) {\n                return false;\n            }\n            return true;\n        };\n        this.mousedownHandler = ()=>{\n            this.preventHide = true;\n        };\n        this.dragstartHandler = ()=>{\n            this.hide();\n        };\n        this.focusHandler = ()=>{\n            // we use `setTimeout` to make sure `selection` is already updated\n            setTimeout(()=>this.update(this.editor.view));\n        };\n        this.blurHandler = ({ event })=>{\n            var _a;\n            if (this.preventHide) {\n                this.preventHide = false;\n                return;\n            }\n            if ((event === null || event === void 0 ? void 0 : event.relatedTarget) && ((_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n                return;\n            }\n            this.hide();\n        };\n        this.tippyBlurHandler = (event)=>{\n            this.blurHandler({\n                event\n            });\n        };\n        this.handleDebouncedUpdate = (view, oldState)=>{\n            const selectionChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.selection.eq(view.state.selection));\n            const docChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.doc.eq(view.state.doc));\n            if (!selectionChanged && !docChanged) {\n                return;\n            }\n            if (this.updateDebounceTimer) {\n                clearTimeout(this.updateDebounceTimer);\n            }\n            this.updateDebounceTimer = window.setTimeout(()=>{\n                this.updateHandler(view, selectionChanged, docChanged, oldState);\n            }, this.updateDelay);\n        };\n        this.updateHandler = (view, selectionChanged, docChanged, oldState)=>{\n            var _a, _b, _c;\n            const { state, composing } = view;\n            const { selection } = state;\n            const isSame = !selectionChanged && !docChanged;\n            if (composing || isSame) {\n                return;\n            }\n            this.createTooltip();\n            // support for CellSelections\n            const { ranges } = selection;\n            const from = Math.min(...ranges.map((range)=>range.$from.pos));\n            const to = Math.max(...ranges.map((range)=>range.$to.pos));\n            const shouldShow = (_a = this.shouldShow) === null || _a === void 0 ? void 0 : _a.call(this, {\n                editor: this.editor,\n                view,\n                state,\n                oldState,\n                from,\n                to\n            });\n            if (!shouldShow) {\n                this.hide();\n                return;\n            }\n            (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.setProps({\n                getReferenceClientRect: ((_c = this.tippyOptions) === null || _c === void 0 ? void 0 : _c.getReferenceClientRect) || (()=>{\n                    if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.isNodeSelection)(state.selection)) {\n                        let node = view.nodeDOM(from);\n                        const nodeViewWrapper = node.dataset.nodeViewWrapper ? node : node.querySelector(\"[data-node-view-wrapper]\");\n                        if (nodeViewWrapper) {\n                            node = nodeViewWrapper.firstChild;\n                        }\n                        if (node) {\n                            return node.getBoundingClientRect();\n                        }\n                    }\n                    return (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.posToDOMRect)(view, from, to);\n                })\n            });\n            this.show();\n        };\n        this.editor = editor;\n        this.element = element;\n        this.view = view;\n        this.updateDelay = updateDelay;\n        if (shouldShow) {\n            this.shouldShow = shouldShow;\n        }\n        this.element.addEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.view.dom.addEventListener(\"dragstart\", this.dragstartHandler);\n        this.editor.on(\"focus\", this.focusHandler);\n        this.editor.on(\"blur\", this.blurHandler);\n        this.tippyOptions = tippyOptions;\n        // Detaches menu content from its current parent\n        this.element.remove();\n        this.element.style.visibility = \"visible\";\n    }\n    createTooltip() {\n        const { element: editorElement } = this.editor.options;\n        const editorIsAttached = !!editorElement.parentElement;\n        if (this.tippy || !editorIsAttached) {\n            return;\n        }\n        this.tippy = (0,tippy_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(editorElement, {\n            duration: 0,\n            getReferenceClientRect: null,\n            content: this.element,\n            interactive: true,\n            trigger: \"manual\",\n            placement: \"top\",\n            hideOnClick: \"toggle\",\n            ...this.tippyOptions\n        });\n        // maybe we have to hide tippy on its own blur event as well\n        if (this.tippy.popper.firstChild) {\n            this.tippy.popper.firstChild.addEventListener(\"blur\", this.tippyBlurHandler);\n        }\n    }\n    update(view, oldState) {\n        const { state } = view;\n        const hasValidSelection = state.selection.$from.pos !== state.selection.$to.pos;\n        if (this.updateDelay > 0 && hasValidSelection) {\n            this.handleDebouncedUpdate(view, oldState);\n            return;\n        }\n        const selectionChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.selection.eq(view.state.selection));\n        const docChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.doc.eq(view.state.doc));\n        this.updateHandler(view, selectionChanged, docChanged, oldState);\n    }\n    show() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    hide() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.hide();\n    }\n    destroy() {\n        var _a, _b;\n        if ((_a = this.tippy) === null || _a === void 0 ? void 0 : _a.popper.firstChild) {\n            this.tippy.popper.firstChild.removeEventListener(\"blur\", this.tippyBlurHandler);\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.destroy();\n        this.element.removeEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.view.dom.removeEventListener(\"dragstart\", this.dragstartHandler);\n        this.editor.off(\"focus\", this.focusHandler);\n        this.editor.off(\"blur\", this.blurHandler);\n    }\n}\nconst BubbleMenuPlugin = (options)=>{\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        key: typeof options.pluginKey === \"string\" ? new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(options.pluginKey) : options.pluginKey,\n        view: (view)=>new BubbleMenuView({\n                view,\n                ...options\n            })\n    });\n};\nconst BubbleMenu = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"bubbleMenu\",\n    addOptions () {\n        return {\n            element: null,\n            tippyOptions: {},\n            pluginKey: \"bubbleMenu\",\n            updateDelay: undefined,\n            shouldShow: null\n        };\n    },\n    addProseMirrorPlugins () {\n        if (!this.options.element) {\n            return [];\n        }\n        return [\n            BubbleMenuPlugin({\n                pluginKey: this.options.pluginKey,\n                editor: this.editor,\n                element: this.options.element,\n                tippyOptions: this.options.tippyOptions,\n                updateDelay: this.options.updateDelay,\n                shouldShow: this.options.shouldShow\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYnViYmxlLW1lbnUvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlGO0FBQ3BDO0FBQ3hCO0FBRTdCLE1BQU1PO0lBQ0ZDLFlBQVksRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsZUFBZSxDQUFDLENBQUMsRUFBRUMsY0FBYyxHQUFHLEVBQUVDLFVBQVUsRUFBRyxDQUFFO1FBQ3RGLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0QsVUFBVSxHQUFHLENBQUMsRUFBRUgsSUFBSSxFQUFFSyxLQUFLLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFHO1lBQ3pDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUUsR0FBR0o7WUFDM0IsTUFBTSxFQUFFSyxLQUFLLEVBQUUsR0FBR0Q7WUFDbEIsNENBQTRDO1lBQzVDLDJEQUEyRDtZQUMzRCwyQ0FBMkM7WUFDM0MsTUFBTUUsbUJBQW1CLENBQUNILElBQUlJLFdBQVcsQ0FBQ04sTUFBTUMsSUFBSU0sTUFBTSxJQUFJeEIsNkRBQWVBLENBQUNnQixNQUFNSSxTQUFTO1lBQzdGLDRFQUE0RTtZQUM1RSx5RUFBeUU7WUFDekUsb0VBQW9FO1lBQ3BFLE1BQU1LLGdCQUFnQixJQUFJLENBQUNmLE9BQU8sQ0FBQ2dCLFFBQVEsQ0FBQ0MsU0FBU0MsYUFBYTtZQUNsRSxNQUFNQyxpQkFBaUJsQixLQUFLbUIsUUFBUSxNQUFNTDtZQUMxQyxJQUFJLENBQUNJLGtCQUFrQlIsU0FBU0Msb0JBQW9CLENBQUMsSUFBSSxDQUFDYixNQUFNLENBQUNzQixVQUFVLEVBQUU7Z0JBQ3pFLE9BQU87WUFDWDtZQUNBLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7WUFDcEIsSUFBSSxDQUFDakIsV0FBVyxHQUFHO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDa0IsZ0JBQWdCLEdBQUc7WUFD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QkFDbkJDLFNBQVMsSUFBSSxDQUFDNEUsT0FBTyxDQUFDNUUsT0FBTztnQkFDN0JFLGNBQWMsSUFBSSxDQUFDMEUsT0FBTyxDQUFDMUUsWUFBWTtnQkFDdkNDLGFBQWEsSUFBSSxDQUFDeUUsT0FBTyxDQUFDekUsV0FBVztnQkFDckNDLFlBQVksSUFBSSxDQUFDd0UsT0FBTyxDQUFDeEUsVUFBVTtZQUN2QztTQUNIO0lBQ0w7QUFDSjtBQUUrRSxDQUMvRSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWJ1YmJsZS1tZW51L2Rpc3QvaW5kZXguanM/NWU0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1RleHRTZWxlY3Rpb24sIGlzTm9kZVNlbGVjdGlvbiwgcG9zVG9ET01SZWN0LCBFeHRlbnNpb24gfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5LZXkgfSBmcm9tICdAdGlwdGFwL3BtL3N0YXRlJztcbmltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcyc7XG5cbmNsYXNzIEJ1YmJsZU1lbnVWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWRpdG9yLCBlbGVtZW50LCB2aWV3LCB0aXBweU9wdGlvbnMgPSB7fSwgdXBkYXRlRGVsYXkgPSAyNTAsIHNob3VsZFNob3csIH0pIHtcclxuICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaG91bGRTaG93ID0gKHsgdmlldywgc3RhdGUsIGZyb20sIHRvLCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGVtcHR5IH0gPSBzZWxlY3Rpb247XHJcbiAgICAgICAgICAgIC8vIFNvbWV0aW1lIGNoZWNrIGZvciBgZW1wdHlgIGlzIG5vdCBlbm91Z2guXHJcbiAgICAgICAgICAgIC8vIERvdWJsZWNsaWNrIGFuIGVtcHR5IHBhcmFncmFwaCByZXR1cm5zIGEgbm9kZSBzaXplIG9mIDIuXHJcbiAgICAgICAgICAgIC8vIFNvIHdlIGNoZWNrIGFsc28gZm9yIGFuIGVtcHR5IHRleHQgc2l6ZS5cclxuICAgICAgICAgICAgY29uc3QgaXNFbXB0eVRleHRCbG9jayA9ICFkb2MudGV4dEJldHdlZW4oZnJvbSwgdG8pLmxlbmd0aCAmJiBpc1RleHRTZWxlY3Rpb24oc3RhdGUuc2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgLy8gV2hlbiBjbGlja2luZyBvbiBhIGVsZW1lbnQgaW5zaWRlIHRoZSBidWJibGUgbWVudSB0aGUgZWRpdG9yIFwiYmx1clwiIGV2ZW50XHJcbiAgICAgICAgICAgIC8vIGlzIGNhbGxlZCBhbmQgdGhlIGJ1YmJsZSBtZW51IGl0ZW0gaXMgZm9jdXNzZWQuIEluIHRoaXMgY2FzZSB3ZSBzaG91bGRcclxuICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIG1lbnUgYXMgcGFydCBvZiB0aGUgZWRpdG9yIGFuZCBrZWVwIHNob3dpbmcgdGhlIG1lbnVcclxuICAgICAgICAgICAgY29uc3QgaXNDaGlsZE9mTWVudSA9IHRoaXMuZWxlbWVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzRWRpdG9yRm9jdXMgPSB2aWV3Lmhhc0ZvY3VzKCkgfHwgaXNDaGlsZE9mTWVudTtcclxuICAgICAgICAgICAgaWYgKCFoYXNFZGl0b3JGb2N1cyB8fCBlbXB0eSB8fCBpc0VtcHR5VGV4dEJsb2NrIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1vdXNlZG93bkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmVudEhpZGUgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kcmFnc3RhcnRIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZm9jdXNIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB3ZSB1c2UgYHNldFRpbWVvdXRgIHRvIG1ha2Ugc3VyZSBgc2VsZWN0aW9uYCBpcyBhbHJlYWR5IHVwZGF0ZWRcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnVwZGF0ZSh0aGlzLmVkaXRvci52aWV3KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJsdXJIYW5kbGVyID0gKHsgZXZlbnQgfSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZlbnRIaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQucmVsYXRlZFRhcmdldCkgJiYgKChfYSA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRpcHB5Qmx1ckhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ibHVySGFuZGxlcih7IGV2ZW50IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEZWJvdW5jZWRVcGRhdGUgPSAodmlldywgb2xkU3RhdGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uQ2hhbmdlZCA9ICEob2xkU3RhdGUgPT09IG51bGwgfHwgb2xkU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9sZFN0YXRlLnNlbGVjdGlvbi5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbikpO1xyXG4gICAgICAgICAgICBjb25zdCBkb2NDaGFuZ2VkID0gIShvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuZG9jLmVxKHZpZXcuc3RhdGUuZG9jKSk7XHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0aW9uQ2hhbmdlZCAmJiAhZG9jQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZURlYm91bmNlVGltZXIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZURlYm91bmNlVGltZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVib3VuY2VUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGFuZGxlcih2aWV3LCBzZWxlY3Rpb25DaGFuZ2VkLCBkb2NDaGFuZ2VkLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMudXBkYXRlRGVsYXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy51cGRhdGVIYW5kbGVyID0gKHZpZXcsIHNlbGVjdGlvbkNoYW5nZWQsIGRvY0NoYW5nZWQsIG9sZFN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xyXG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBjb21wb3NpbmcgfSA9IHZpZXc7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgY29uc3QgaXNTYW1lID0gIXNlbGVjdGlvbkNoYW5nZWQgJiYgIWRvY0NoYW5nZWQ7XHJcbiAgICAgICAgICAgIGlmIChjb21wb3NpbmcgfHwgaXNTYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENlbGxTZWxlY3Rpb25zXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSBNYXRoLm1pbiguLi5yYW5nZXMubWFwKHJhbmdlID0+IHJhbmdlLiRmcm9tLnBvcykpO1xyXG4gICAgICAgICAgICBjb25zdCB0byA9IE1hdGgubWF4KC4uLnJhbmdlcy5tYXAocmFuZ2UgPT4gcmFuZ2UuJHRvLnBvcykpO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTaG93ID0gKF9hID0gdGhpcy5zaG91bGRTaG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdmlldyxcclxuICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXNob3VsZFNob3cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIChfYiA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgICAgICBnZXRSZWZlcmVuY2VDbGllbnRSZWN0OiAoKF9jID0gdGhpcy50aXBweU9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXRSZWZlcmVuY2VDbGllbnRSZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGVTZWxlY3Rpb24oc3RhdGUuc2VsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB2aWV3Lm5vZGVET00oZnJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlVmlld1dyYXBwZXIgPSBub2RlLmRhdGFzZXQubm9kZVZpZXdXcmFwcGVyID8gbm9kZSA6IG5vZGUucXVlcnlTZWxlY3RvcignW2RhdGEtbm9kZS12aWV3LXdyYXBwZXJdJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVZpZXdXcmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVWaWV3V3JhcHBlci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zVG9ET01SZWN0KHZpZXcsIGZyb20sIHRvKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGVsYXkgPSB1cGRhdGVEZWxheTtcclxuICAgICAgICBpZiAoc2hvdWxkU2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNob3cgPSBzaG91bGRTaG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdzdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5vbignYmx1cicsIHRoaXMuYmx1ckhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMudGlwcHlPcHRpb25zID0gdGlwcHlPcHRpb25zO1xyXG4gICAgICAgIC8vIERldGFjaGVzIG1lbnUgY29udGVudCBmcm9tIGl0cyBjdXJyZW50IHBhcmVudFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICAgIH1cclxuICAgIGNyZWF0ZVRvb2x0aXAoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlbGVtZW50OiBlZGl0b3JFbGVtZW50IH0gPSB0aGlzLmVkaXRvci5vcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGVkaXRvcklzQXR0YWNoZWQgPSAhIWVkaXRvckVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICBpZiAodGhpcy50aXBweSB8fCAhZWRpdG9ySXNBdHRhY2hlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGlwcHkgPSB0aXBweShlZGl0b3JFbGVtZW50LCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICBnZXRSZWZlcmVuY2VDbGllbnRSZWN0OiBudWxsLFxyXG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcclxuICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJyxcclxuICAgICAgICAgICAgaGlkZU9uQ2xpY2s6ICd0b2dnbGUnLFxyXG4gICAgICAgICAgICAuLi50aGlzLnRpcHB5T3B0aW9ucyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBtYXliZSB3ZSBoYXZlIHRvIGhpZGUgdGlwcHkgb24gaXRzIG93biBibHVyIGV2ZW50IGFzIHdlbGxcclxuICAgICAgICBpZiAodGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpcHB5LnBvcHBlci5maXJzdENoaWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLnRpcHB5Qmx1ckhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSh2aWV3LCBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHZpZXc7XHJcbiAgICAgICAgY29uc3QgaGFzVmFsaWRTZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ucG9zICE9PSBzdGF0ZS5zZWxlY3Rpb24uJHRvLnBvcztcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVEZWxheSA+IDAgJiYgaGFzVmFsaWRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEZWJvdW5jZWRVcGRhdGUodmlldywgb2xkU3RhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbkNoYW5nZWQgPSAhKG9sZFN0YXRlID09PSBudWxsIHx8IG9sZFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbGRTdGF0ZS5zZWxlY3Rpb24uZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pKTtcclxuICAgICAgICBjb25zdCBkb2NDaGFuZ2VkID0gIShvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuZG9jLmVxKHZpZXcuc3RhdGUuZG9jKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVIYW5kbGVyKHZpZXcsIHNlbGVjdGlvbkNoYW5nZWQsIGRvY0NoYW5nZWQsIG9sZFN0YXRlKTtcclxuICAgIH1cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmICgoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKF9iID0gdGhpcy50aXBweSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdzdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZignZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcik7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgQnViYmxlTWVudVBsdWdpbiA9IChvcHRpb25zKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFBsdWdpbih7XHJcbiAgICAgICAga2V5OiB0eXBlb2Ygb3B0aW9ucy5wbHVnaW5LZXkgPT09ICdzdHJpbmcnID8gbmV3IFBsdWdpbktleShvcHRpb25zLnBsdWdpbktleSkgOiBvcHRpb25zLnBsdWdpbktleSxcclxuICAgICAgICB2aWV3OiB2aWV3ID0+IG5ldyBCdWJibGVNZW51Vmlldyh7IHZpZXcsIC4uLm9wdGlvbnMgfSksXHJcbiAgICB9KTtcclxufTtcblxuY29uc3QgQnViYmxlTWVudSA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2J1YmJsZU1lbnUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBudWxsLFxyXG4gICAgICAgICAgICB0aXBweU9wdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICBwbHVnaW5LZXk6ICdidWJibGVNZW51JyxcclxuICAgICAgICAgICAgdXBkYXRlRGVsYXk6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdzogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgQnViYmxlTWVudVBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW5LZXk6IHRoaXMub3B0aW9ucy5wbHVnaW5LZXksXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5vcHRpb25zLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICB0aXBweU9wdGlvbnM6IHRoaXMub3B0aW9ucy50aXBweU9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEZWxheTogdGhpcy5vcHRpb25zLnVwZGF0ZURlbGF5LFxyXG4gICAgICAgICAgICAgICAgc2hvdWxkU2hvdzogdGhpcy5vcHRpb25zLnNob3VsZFNob3csXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQnViYmxlTWVudSwgQnViYmxlTWVudVBsdWdpbiwgQnViYmxlTWVudVZpZXcsIEJ1YmJsZU1lbnUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiaXNUZXh0U2VsZWN0aW9uIiwiaXNOb2RlU2VsZWN0aW9uIiwicG9zVG9ET01SZWN0IiwiRXh0ZW5zaW9uIiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwidGlwcHkiLCJCdWJibGVNZW51VmlldyIsImNvbnN0cnVjdG9yIiwiZWRpdG9yIiwiZWxlbWVudCIsInZpZXciLCJ0aXBweU9wdGlvbnMiLCJ1cGRhdGVEZWxheSIsInNob3VsZFNob3ciLCJwcmV2ZW50SGlkZSIsInN0YXRlIiwiZnJvbSIsInRvIiwiZG9jIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJpc0VtcHR5VGV4dEJsb2NrIiwidGV4dEJldHdlZW4iLCJsZW5ndGgiLCJpc0NoaWxkT2ZNZW51IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJoYXNFZGl0b3JGb2N1cyIsImhhc0ZvY3VzIiwiaXNFZGl0YWJsZSIsIm1vdXNlZG93bkhhbmRsZXIiLCJkcmFnc3RhcnRIYW5kbGVyIiwiaGlkZSIsImZvY3VzSGFuZGxlciIsInNldFRpbWVvdXQiLCJ1cGRhdGUiLCJibHVySGFuZGxlciIsImV2ZW50IiwiX2EiLCJyZWxhdGVkVGFyZ2V0IiwicGFyZW50Tm9kZSIsInRpcHB5Qmx1ckhhbmRsZXIiLCJoYW5kbGVEZWJvdW5jZWRVcGRhdGUiLCJvbGRTdGF0ZSIsInNlbGVjdGlvbkNoYW5nZWQiLCJlcSIsImRvY0NoYW5nZWQiLCJ1cGRhdGVEZWJvdW5jZVRpbWVyIiwiY2xlYXJUaW1lb3V0Iiwid2luZG93IiwidXBkYXRlSGFuZGxlciIsIl9iIiwiX2MiLCJjb21wb3NpbmciLCJpc1NhbWUiLCJjcmVhdGVUb29sdGlwIiwicmFuZ2VzIiwiTWF0aCIsIm1pbiIsIm1hcCIsInJhbmdlIiwiJGZyb20iLCJwb3MiLCJtYXgiLCIkdG8iLCJjYWxsIiwic2V0UHJvcHMiLCJnZXRSZWZlcmVuY2VDbGllbnRSZWN0Iiwibm9kZSIsIm5vZGVET00iLCJub2RlVmlld1dyYXBwZXIiLCJkYXRhc2V0IiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzaG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcHR1cmUiLCJkb20iLCJvbiIsInJlbW92ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsImVkaXRvckVsZW1lbnQiLCJvcHRpb25zIiwiZWRpdG9ySXNBdHRhY2hlZCIsInBhcmVudEVsZW1lbnQiLCJkdXJhdGlvbiIsImNvbnRlbnQiLCJpbnRlcmFjdGl2ZSIsInRyaWdnZXIiLCJwbGFjZW1lbnQiLCJoaWRlT25DbGljayIsInBvcHBlciIsImhhc1ZhbGlkU2VsZWN0aW9uIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvZmYiLCJCdWJibGVNZW51UGx1Z2luIiwia2V5IiwicGx1Z2luS2V5IiwiQnViYmxlTWVudSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwidW5kZWZpbmVkIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-bullet-list/dist/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@tiptap/extension-bullet-list/dist/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BulletList: () => (/* binding */ BulletList),\n/* harmony export */   \"default\": () => (/* binding */ BulletList),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst ListItem = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"listItem\",\n    addOptions () {\n        return {\n            HTMLAttributes: {},\n            bulletListTypeName: \"bulletList\",\n            orderedListTypeName: \"orderedList\"\n        };\n    },\n    content: \"paragraph block*\",\n    defining: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"li\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"li\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addKeyboardShortcuts () {\n        return {\n            Enter: ()=>this.editor.commands.splitListItem(this.name),\n            Tab: ()=>this.editor.commands.sinkListItem(this.name),\n            \"Shift-Tab\": ()=>this.editor.commands.liftListItem(this.name)\n        };\n    }\n});\nconst TextStyle = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"textStyle\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"span\",\n                getAttrs: (element)=>{\n                    const hasStyles = element.hasAttribute(\"style\");\n                    if (!hasStyles) {\n                        return false;\n                    }\n                    return {};\n                }\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"span\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            removeEmptyTextStyle: ()=>({ state, commands })=>{\n                    const attributes = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.getMarkAttributes)(state, this.type);\n                    const hasStyles = Object.entries(attributes).some(([, value])=>!!value);\n                    if (hasStyles) {\n                        return true;\n                    }\n                    return commands.unsetMark(this.name);\n                }\n        };\n    }\n});\nconst inputRegex = /^\\s*([-+*])\\s$/;\nconst BulletList = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"bulletList\",\n    addOptions () {\n        return {\n            itemTypeName: \"listItem\",\n            HTMLAttributes: {},\n            keepMarks: false,\n            keepAttributes: false\n        };\n    },\n    group: \"block list\",\n    content () {\n        return `${this.options.itemTypeName}+`;\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"ul\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"ul\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            toggleBulletList: ()=>({ commands, chain })=>{\n                    if (this.options.keepAttributes) {\n                        return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItem.name, this.editor.getAttributes(TextStyle.name)).run();\n                    }\n                    return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Shift-8\": ()=>this.editor.commands.toggleBulletList()\n        };\n    },\n    addInputRules () {\n        let inputRule = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.wrappingInputRule)({\n            find: inputRegex,\n            type: this.type\n        });\n        if (this.options.keepMarks || this.options.keepAttributes) {\n            inputRule = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.wrappingInputRule)({\n                find: inputRegex,\n                type: this.type,\n                keepMarks: this.options.keepMarks,\n                keepAttributes: this.options.keepAttributes,\n                getAttributes: ()=>{\n                    return this.editor.getAttributes(TextStyle.name);\n                },\n                editor: this.editor\n            });\n        }\n        return [\n            inputRule\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYnVsbGV0LWxpc3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlHO0FBRWpHLE1BQU1LLFdBQVdMLDhDQUFJQSxDQUFDTSxNQUFNLENBQUM7SUFDekJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1lBQ2pCQyxvQkFBb0I7WUFDcEJDLHFCQUFxQjtRQUN6QjtJQUNKO0lBQ0FDLFNBQVM7SUFDVEMsVUFBVTtJQUNWQztRQUNJLE9BQU87WUFDSDtnQkFDSUMsS0FBSztZQUNUO1NBQ0g7SUFDTDtJQUNBQyxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTVIsNkRBQWVBLENBQUMsSUFBSSxDQUFDZ0IsT0FBTyxDQUFDUixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDbEY7SUFDQVM7UUFDSSxPQUFPO1lBQ0hDLE9BQU8sSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsSUFBSSxDQUFDZixJQUFJO1lBQ3pEZ0IsS0FBSyxJQUFNLElBQUksQ0FBQ0gsTUFBTSxDQUFDQyxRQUFRLENBQUNHLFlBQVksQ0FBQyxJQUFJLENBQUNqQixJQUFJO1lBQ3RELGFBQWEsSUFBTSxJQUFJLENBQUNhLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDSSxZQUFZLENBQUMsSUFBSSxDQUFDbEIsSUFBSTtRQUNsRTtJQUNKO0FBQ0o7QUFFQSxNQUFNbUIsWUFBWXhCLDhDQUFJQSxDQUFDSSxNQUFNLENBQUM7SUFDMUJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUs7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7Z0JBQ0xZLFVBQVVDLENBQUFBO29CQUNOLE1BQU1DLFlBQVlELFFBQVFFLFlBQVksQ0FBQztvQkFDdkMsSUFBSSxDQUFDRCxXQUFXO3dCQUNaLE9BQU87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QUk7Z0JBQUc7Z0JBQ3pFYSxRQUFRLElBQUksQ0FBQ0EsTUFBTTtZQUN2QjtRQUNKO1FBQ0EsT0FBTztZQUNIa0M7U0FDSDtJQUNMO0FBQ0o7QUFFeUQsQ0FDekQsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1idWxsZXQtbGlzdC9kaXN0L2luZGV4LmpzPzQ3NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzLCBNYXJrLCBnZXRNYXJrQXR0cmlidXRlcywgd3JhcHBpbmdJbnB1dFJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBMaXN0SXRlbSA9IE5vZGUuY3JlYXRlKHtcclxuICAgIG5hbWU6ICdsaXN0SXRlbScsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICAgICAgYnVsbGV0TGlzdFR5cGVOYW1lOiAnYnVsbGV0TGlzdCcsXHJcbiAgICAgICAgICAgIG9yZGVyZWRMaXN0VHlwZU5hbWU6ICdvcmRlcmVkTGlzdCcsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjb250ZW50OiAncGFyYWdyYXBoIGJsb2NrKicsXHJcbiAgICBkZWZpbmluZzogdHJ1ZSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdsaScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXMgfSkge1xyXG4gICAgICAgIHJldHVybiBbJ2xpJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBFbnRlcjogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc3BsaXRMaXN0SXRlbSh0aGlzLm5hbWUpLFxyXG4gICAgICAgICAgICBUYWI6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNpbmtMaXN0SXRlbSh0aGlzLm5hbWUpLFxyXG4gICAgICAgICAgICAnU2hpZnQtVGFiJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMubGlmdExpc3RJdGVtKHRoaXMubmFtZSksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5jb25zdCBUZXh0U3R5bGUgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAndGV4dFN0eWxlJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAgZ2V0QXR0cnM6IGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N0eWxlcyA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzU3R5bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsnc3BhbicsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVtb3ZlRW1wdHlUZXh0U3R5bGU6ICgpID0+ICh7IHN0YXRlLCBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2V0TWFya0F0dHJpYnV0ZXMoc3RhdGUsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNTdHlsZXMgPSBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5zb21lKChbLCB2YWx1ZV0pID0+ICEhdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1N0eWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnVuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59KTtcblxuY29uc3QgaW5wdXRSZWdleCA9IC9eXFxzKihbLSsqXSlcXHMkLztcclxuY29uc3QgQnVsbGV0TGlzdCA9IE5vZGUuY3JlYXRlKHtcclxuICAgIG5hbWU6ICdidWxsZXRMaXN0JyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXRlbVR5cGVOYW1lOiAnbGlzdEl0ZW0nLFxyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgICAgIGtlZXBNYXJrczogZmFsc2UsXHJcbiAgICAgICAgICAgIGtlZXBBdHRyaWJ1dGVzOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdyb3VwOiAnYmxvY2sgbGlzdCcsXHJcbiAgICBjb250ZW50KCkge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMuaXRlbVR5cGVOYW1lfStgO1xyXG4gICAgfSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7IHRhZzogJ3VsJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWyd1bCcsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9nZ2xlQnVsbGV0TGlzdDogKCkgPT4gKHsgY29tbWFuZHMsIGNoYWluIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2VlcEF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhaW4oKS50b2dnbGVMaXN0KHRoaXMubmFtZSwgdGhpcy5vcHRpb25zLml0ZW1UeXBlTmFtZSwgdGhpcy5vcHRpb25zLmtlZXBNYXJrcykudXBkYXRlQXR0cmlidXRlcyhMaXN0SXRlbS5uYW1lLCB0aGlzLmVkaXRvci5nZXRBdHRyaWJ1dGVzKFRleHRTdHlsZS5uYW1lKSkucnVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudG9nZ2xlTGlzdCh0aGlzLm5hbWUsIHRoaXMub3B0aW9ucy5pdGVtVHlwZU5hbWUsIHRoaXMub3B0aW9ucy5rZWVwTWFya3MpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC1TaGlmdC04JzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlQnVsbGV0TGlzdCgpLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkSW5wdXRSdWxlcygpIHtcclxuICAgICAgICBsZXQgaW5wdXRSdWxlID0gd3JhcHBpbmdJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZWVwTWFya3MgfHwgdGhpcy5vcHRpb25zLmtlZXBBdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIGlucHV0UnVsZSA9IHdyYXBwaW5nSW5wdXRSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IGlucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBrZWVwTWFya3M6IHRoaXMub3B0aW9ucy5rZWVwTWFya3MsXHJcbiAgICAgICAgICAgICAgICBrZWVwQXR0cmlidXRlczogdGhpcy5vcHRpb25zLmtlZXBBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRlczogKCkgPT4geyByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0QXR0cmlidXRlcyhUZXh0U3R5bGUubmFtZSk7IH0sXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgaW5wdXRSdWxlLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQnVsbGV0TGlzdCwgQnVsbGV0TGlzdCBhcyBkZWZhdWx0LCBpbnB1dFJlZ2V4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwibWVyZ2VBdHRyaWJ1dGVzIiwiTWFyayIsImdldE1hcmtBdHRyaWJ1dGVzIiwid3JhcHBpbmdJbnB1dFJ1bGUiLCJMaXN0SXRlbSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJidWxsZXRMaXN0VHlwZU5hbWUiLCJvcmRlcmVkTGlzdFR5cGVOYW1lIiwiY29udGVudCIsImRlZmluaW5nIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsIkVudGVyIiwiZWRpdG9yIiwiY29tbWFuZHMiLCJzcGxpdExpc3RJdGVtIiwiVGFiIiwic2lua0xpc3RJdGVtIiwibGlmdExpc3RJdGVtIiwiVGV4dFN0eWxlIiwiZ2V0QXR0cnMiLCJlbGVtZW50IiwiaGFzU3R5bGVzIiwiaGFzQXR0cmlidXRlIiwiYWRkQ29tbWFuZHMiLCJyZW1vdmVFbXB0eVRleHRTdHlsZSIsInN0YXRlIiwiYXR0cmlidXRlcyIsInR5cGUiLCJPYmplY3QiLCJlbnRyaWVzIiwic29tZSIsInZhbHVlIiwidW5zZXRNYXJrIiwiaW5wdXRSZWdleCIsIkJ1bGxldExpc3QiLCJpdGVtVHlwZU5hbWUiLCJrZWVwTWFya3MiLCJrZWVwQXR0cmlidXRlcyIsImdyb3VwIiwidG9nZ2xlQnVsbGV0TGlzdCIsImNoYWluIiwidG9nZ2xlTGlzdCIsInVwZGF0ZUF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVzIiwicnVuIiwiYWRkSW5wdXRSdWxlcyIsImlucHV0UnVsZSIsImZpbmQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-bullet-list/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-code-block/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-code-block/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CodeBlock: () => (/* binding */ CodeBlock),\n/* harmony export */   backtickInputRegex: () => (/* binding */ backtickInputRegex),\n/* harmony export */   \"default\": () => (/* binding */ CodeBlock),\n/* harmony export */   tildeInputRegex: () => (/* binding */ tildeInputRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n\n\nconst backtickInputRegex = /^```([a-z]+)?[\\s\\n]$/;\nconst tildeInputRegex = /^~~~([a-z]+)?[\\s\\n]$/;\nconst CodeBlock = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Node.create({\n    name: \"codeBlock\",\n    addOptions () {\n        return {\n            languageClassPrefix: \"language-\",\n            exitOnTripleEnter: true,\n            exitOnArrowDown: true,\n            HTMLAttributes: {}\n        };\n    },\n    content: \"text*\",\n    marks: \"\",\n    group: \"block\",\n    code: true,\n    defining: true,\n    addAttributes () {\n        return {\n            language: {\n                default: null,\n                parseHTML: (element)=>{\n                    var _a;\n                    const { languageClassPrefix } = this.options;\n                    const classNames = [\n                        ...((_a = element.firstElementChild) === null || _a === void 0 ? void 0 : _a.classList) || []\n                    ];\n                    const languages = classNames.filter((className)=>className.startsWith(languageClassPrefix)).map((className)=>className.replace(languageClassPrefix, \"\"));\n                    const language = languages[0];\n                    if (!language) {\n                        return null;\n                    }\n                    return language;\n                },\n                rendered: false\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"pre\",\n                preserveWhitespace: \"full\"\n            }\n        ];\n    },\n    renderHTML ({ node, HTMLAttributes }) {\n        return [\n            \"pre\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            [\n                \"code\",\n                {\n                    class: node.attrs.language ? this.options.languageClassPrefix + node.attrs.language : null\n                },\n                0\n            ]\n        ];\n    },\n    addCommands () {\n        return {\n            setCodeBlock: (attributes)=>({ commands })=>{\n                    return commands.setNode(this.name, attributes);\n                },\n            toggleCodeBlock: (attributes)=>({ commands })=>{\n                    return commands.toggleNode(this.name, \"paragraph\", attributes);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Alt-c\": ()=>this.editor.commands.toggleCodeBlock(),\n            // remove code block when at start of document or code block is empty\n            Backspace: ()=>{\n                const { empty, $anchor } = this.editor.state.selection;\n                const isAtStart = $anchor.pos === 1;\n                if (!empty || $anchor.parent.type.name !== this.name) {\n                    return false;\n                }\n                if (isAtStart || !$anchor.parent.textContent.length) {\n                    return this.editor.commands.clearNodes();\n                }\n                return false;\n            },\n            // exit node on triple enter\n            Enter: ({ editor })=>{\n                if (!this.options.exitOnTripleEnter) {\n                    return false;\n                }\n                const { state } = editor;\n                const { selection } = state;\n                const { $from, empty } = selection;\n                if (!empty || $from.parent.type !== this.type) {\n                    return false;\n                }\n                const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2;\n                const endsWithDoubleNewline = $from.parent.textContent.endsWith(\"\\n\\n\");\n                if (!isAtEnd || !endsWithDoubleNewline) {\n                    return false;\n                }\n                return editor.chain().command(({ tr })=>{\n                    tr.delete($from.pos - 2, $from.pos);\n                    return true;\n                }).exitCode().run();\n            },\n            // exit node on arrow down\n            ArrowDown: ({ editor })=>{\n                if (!this.options.exitOnArrowDown) {\n                    return false;\n                }\n                const { state } = editor;\n                const { selection, doc } = state;\n                const { $from, empty } = selection;\n                if (!empty || $from.parent.type !== this.type) {\n                    return false;\n                }\n                const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2;\n                if (!isAtEnd) {\n                    return false;\n                }\n                const after = $from.after();\n                if (after === undefined) {\n                    return false;\n                }\n                const nodeAfter = doc.nodeAt(after);\n                if (nodeAfter) {\n                    return false;\n                }\n                return editor.commands.exitCode();\n            }\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.textblockTypeInputRule)({\n                find: backtickInputRegex,\n                type: this.type,\n                getAttributes: (match)=>({\n                        language: match[1]\n                    })\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.textblockTypeInputRule)({\n                find: tildeInputRegex,\n                type: this.type,\n                getAttributes: (match)=>({\n                        language: match[1]\n                    })\n            })\n        ];\n    },\n    addProseMirrorPlugins () {\n        return [\n            // this plugin creates a code block for pasted content from VS Code\n            // we can also detect the copied code language\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"codeBlockVSCodeHandler\"),\n                props: {\n                    handlePaste: (view, event)=>{\n                        if (!event.clipboardData) {\n                            return false;\n                        }\n                        // don’t create a new code block within code blocks\n                        if (this.editor.isActive(this.type.name)) {\n                            return false;\n                        }\n                        const text = event.clipboardData.getData(\"text/plain\");\n                        const vscode = event.clipboardData.getData(\"vscode-editor-data\");\n                        const vscodeData = vscode ? JSON.parse(vscode) : undefined;\n                        const language = vscodeData === null || vscodeData === void 0 ? void 0 : vscodeData.mode;\n                        if (!text || !language) {\n                            return false;\n                        }\n                        const { tr } = view.state;\n                        // create an empty code block\n                        tr.replaceSelectionWith(this.type.create({\n                            language\n                        }));\n                        // put cursor inside the newly created code block\n                        tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.near(tr.doc.resolve(Math.max(0, tr.selection.from - 2))));\n                        // add text to code block\n                        // strip carriage return chars from text pasted as code\n                        // see: https://github.com/ProseMirror/prosemirror-view/commit/a50a6bcceb4ce52ac8fcc6162488d8875613aacd\n                        tr.insertText(text.replace(/\\r\\n?/g, \"\\n\"));\n                        // store meta information\n                        // this is useful for other plugins that depends on the paste event\n                        // like the paste rule plugin\n                        tr.setMeta(\"paste\", true);\n                        view.dispatch(tr);\n                        return true;\n                    }\n                }\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS1ibG9jay9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2RTtBQUNUO0FBRXBFLE1BQU1NLHFCQUFxQjtBQUMzQixNQUFNQyxrQkFBa0I7QUFDeEIsTUFBTUMsWUFBWVIsOENBQUlBLENBQUNTLE1BQU0sQ0FBQztJQUMxQkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMscUJBQXFCO1lBQ3JCQyxtQkFBbUI7WUFDbkJDLGlCQUFpQjtZQUNqQkMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQyxTQUFTO0lBQ1RDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxNQUFNO0lBQ05DLFVBQVU7SUFDVkM7UUFDSSxPQUFPO1lBQ0hDLFVBQVU7Z0JBQ05DLFNBQVM7Z0JBQ1RDLFdBQVdDLENBQUFBO29CQUNQLElBQUlDO29CQUNKLE1BQU0sRUFBRWQsbUJBQW1CLEVBQUUsR0FBRyxJQUFJLENBQUNlLE9BQU87b0JBQzVDLE1BQU1DLGFBQWE7MkJBQUssQ0FBQyxDQUFDRixLQUFLRCxRQUFRSSxpQkFBaUIsTUFBTSxRQUFRSCxPQUFPLEtBQUssSUFBSSxLQUFLLElBQUlBLEdBQUdJLFNBQVMsS0FBSyxFQUFFO3FCQUFFO29CQUNwSCxNQUFNQyxZQUFZSCxXQUNiSSxNQUFNLENBQUNDLENBQUFBLFlBQWFBLFVBQVVDLFVBQVUsQ0FBQ3RCLHNCQUN6Q3VCLEdBQUcsQ0FBQ0YsQ0FBQUEsWUFBYUEsVUFBVUcsT0FBTyxDQUFDeEIscUJBQXFCO29CQUM3RCxNQUFNVSxXQUFXUyxTQUFTLENBQUMsRUFBRTtvQkFDN0IsSUFBSSxDQUFDVCxVQUFVO3dCQUNYLE9BQU87b0JBQ1g7b0JBQ0EsT0FBT0E7Z0JBQ1g7Z0JBQ0FlLFVBQVU7WUFDZDtRQUNKO0lBQ0o7SUFDQWI7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0ljLEtBQUs7Z0JBQ0xDLG9CQUFvQjtZQUN4QjtTQUNIO0lBQ0w7SUFDQUMs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O0FBRWdGLENBQ2hGLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS1ibG9jay9kaXN0L2luZGV4LmpzP2NiYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzLCB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmltcG9ydCB7IFBsdWdpbiwgUGx1Z2luS2V5LCBUZXh0U2VsZWN0aW9uIH0gZnJvbSAnQHRpcHRhcC9wbS9zdGF0ZSc7XG5cbmNvbnN0IGJhY2t0aWNrSW5wdXRSZWdleCA9IC9eYGBgKFthLXpdKyk/W1xcc1xcbl0kLztcclxuY29uc3QgdGlsZGVJbnB1dFJlZ2V4ID0gL15+fn4oW2Etel0rKT9bXFxzXFxuXSQvO1xyXG5jb25zdCBDb2RlQmxvY2sgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY29kZUJsb2NrJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFuZ3VhZ2VDbGFzc1ByZWZpeDogJ2xhbmd1YWdlLScsXHJcbiAgICAgICAgICAgIGV4aXRPblRyaXBsZUVudGVyOiB0cnVlLFxyXG4gICAgICAgICAgICBleGl0T25BcnJvd0Rvd246IHRydWUsXHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6ICd0ZXh0KicsXHJcbiAgICBtYXJrczogJycsXHJcbiAgICBncm91cDogJ2Jsb2NrJyxcclxuICAgIGNvZGU6IHRydWUsXHJcbiAgICBkZWZpbmluZzogdHJ1ZSxcclxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwYXJzZUhUTUw6IGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxhbmd1YWdlQ2xhc3NQcmVmaXggfSA9IHRoaXMub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGFzc05hbWVzID0gWy4uLigoKF9hID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdCkgfHwgW10pXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZXMgPSBjbGFzc05hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoY2xhc3NOYW1lID0+IGNsYXNzTmFtZS5zdGFydHNXaXRoKGxhbmd1YWdlQ2xhc3NQcmVmaXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGNsYXNzTmFtZSA9PiBjbGFzc05hbWUucmVwbGFjZShsYW5ndWFnZUNsYXNzUHJlZml4LCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlID0gbGFuZ3VhZ2VzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYW5ndWFnZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZW5kZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAncHJlJyxcclxuICAgICAgICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogJ2Z1bGwnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IG5vZGUsIEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAncHJlJyxcclxuICAgICAgICAgICAgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnY29kZScsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IG5vZGUuYXR0cnMubGFuZ3VhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMubGFuZ3VhZ2VDbGFzc1ByZWZpeCArIG5vZGUuYXR0cnMubGFuZ3VhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRDb2RlQmxvY2s6IGF0dHJpYnV0ZXMgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnNldE5vZGUodGhpcy5uYW1lLCBhdHRyaWJ1dGVzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdG9nZ2xlQ29kZUJsb2NrOiBhdHRyaWJ1dGVzID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVOb2RlKHRoaXMubmFtZSwgJ3BhcmFncmFwaCcsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC1BbHQtYyc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUNvZGVCbG9jaygpLFxyXG4gICAgICAgICAgICAvLyByZW1vdmUgY29kZSBibG9jayB3aGVuIGF0IHN0YXJ0IG9mIGRvY3VtZW50IG9yIGNvZGUgYmxvY2sgaXMgZW1wdHlcclxuICAgICAgICAgICAgQmFja3NwYWNlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVtcHR5LCAkYW5jaG9yIH0gPSB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F0U3RhcnQgPSAkYW5jaG9yLnBvcyA9PT0gMTtcclxuICAgICAgICAgICAgICAgIGlmICghZW1wdHkgfHwgJGFuY2hvci5wYXJlbnQudHlwZS5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNBdFN0YXJ0IHx8ICEkYW5jaG9yLnBhcmVudC50ZXh0Q29udGVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3IuY29tbWFuZHMuY2xlYXJOb2RlcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBleGl0IG5vZGUgb24gdHJpcGxlIGVudGVyXHJcbiAgICAgICAgICAgIEVudGVyOiAoeyBlZGl0b3IgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZXhpdE9uVHJpcGxlRW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSBlZGl0b3I7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7ICRmcm9tLCBlbXB0eSB9ID0gc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbXB0eSB8fCAkZnJvbS5wYXJlbnQudHlwZSAhPT0gdGhpcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNBdEVuZCA9ICRmcm9tLnBhcmVudE9mZnNldCA9PT0gJGZyb20ucGFyZW50Lm5vZGVTaXplIC0gMjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZHNXaXRoRG91YmxlTmV3bGluZSA9ICRmcm9tLnBhcmVudC50ZXh0Q29udGVudC5lbmRzV2l0aCgnXFxuXFxuJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXRFbmQgfHwgIWVuZHNXaXRoRG91YmxlTmV3bGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBlZGl0b3JcclxuICAgICAgICAgICAgICAgICAgICAuY2hhaW4oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb21tYW5kKCh7IHRyIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5kZWxldGUoJGZyb20ucG9zIC0gMiwgJGZyb20ucG9zKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmV4aXRDb2RlKClcclxuICAgICAgICAgICAgICAgICAgICAucnVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGV4aXQgbm9kZSBvbiBhcnJvdyBkb3duXHJcbiAgICAgICAgICAgIEFycm93RG93bjogKHsgZWRpdG9yIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmV4aXRPbkFycm93RG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IGVkaXRvcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBkb2MgfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyAkZnJvbSwgZW1wdHkgfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmICghZW1wdHkgfHwgJGZyb20ucGFyZW50LnR5cGUgIT09IHRoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQXRFbmQgPSAkZnJvbS5wYXJlbnRPZmZzZXQgPT09ICRmcm9tLnBhcmVudC5ub2RlU2l6ZSAtIDI7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXRFbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhZnRlciA9ICRmcm9tLmFmdGVyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVBZnRlciA9IGRvYy5ub2RlQXQoYWZ0ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVBZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBlZGl0b3IuY29tbWFuZHMuZXhpdENvZGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBiYWNrdGlja0lucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVzOiBtYXRjaCA9PiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBtYXRjaFsxXSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiB0aWxkZUlucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVzOiBtYXRjaCA9PiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBtYXRjaFsxXSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAvLyB0aGlzIHBsdWdpbiBjcmVhdGVzIGEgY29kZSBibG9jayBmb3IgcGFzdGVkIGNvbnRlbnQgZnJvbSBWUyBDb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBhbHNvIGRldGVjdCB0aGUgY29waWVkIGNvZGUgbGFuZ3VhZ2VcclxuICAgICAgICAgICAgbmV3IFBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ2NvZGVCbG9ja1ZTQ29kZUhhbmRsZXInKSxcclxuICAgICAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUGFzdGU6ICh2aWV3LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmNsaXBib2FyZERhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb27igJl0IGNyZWF0ZSBhIG5ldyBjb2RlIGJsb2NrIHdpdGhpbiBjb2RlIGJsb2Nrc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0b3IuaXNBY3RpdmUodGhpcy50eXBlLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2c2NvZGUgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3ZzY29kZS1lZGl0b3ItZGF0YScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2c2NvZGVEYXRhID0gdnNjb2RlID8gSlNPTi5wYXJzZSh2c2NvZGUpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHZzY29kZURhdGEgPT09IG51bGwgfHwgdnNjb2RlRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdnNjb2RlRGF0YS5tb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQgfHwgIWxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0ciB9ID0gdmlldy5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IGNvZGUgYmxvY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIucmVwbGFjZVNlbGVjdGlvbldpdGgodGhpcy50eXBlLmNyZWF0ZSh7IGxhbmd1YWdlIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHV0IGN1cnNvciBpbnNpZGUgdGhlIG5ld2x5IGNyZWF0ZWQgY29kZSBibG9ja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5zZXRTZWxlY3Rpb24oVGV4dFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKE1hdGgubWF4KDAsIHRyLnNlbGVjdGlvbi5mcm9tIC0gMikpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0ZXh0IHRvIGNvZGUgYmxvY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RyaXAgY2FycmlhZ2UgcmV0dXJuIGNoYXJzIGZyb20gdGV4dCBwYXN0ZWQgYXMgY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9zZU1pcnJvci9wcm9zZW1pcnJvci12aWV3L2NvbW1pdC9hNTBhNmJjY2ViNGNlNTJhYzhmY2M2MTYyNDg4ZDg4NzU2MTNhYWNkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmluc2VydFRleHQodGV4dC5yZXBsYWNlKC9cXHJcXG4/L2csICdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIG1ldGEgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB1c2VmdWwgZm9yIG90aGVyIHBsdWdpbnMgdGhhdCBkZXBlbmRzIG9uIHRoZSBwYXN0ZSBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIHRoZSBwYXN0ZSBydWxlIHBsdWdpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5zZXRNZXRhKCdwYXN0ZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQ29kZUJsb2NrLCBiYWNrdGlja0lucHV0UmVnZXgsIENvZGVCbG9jayBhcyBkZWZhdWx0LCB0aWxkZUlucHV0UmVnZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJ0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlIiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwiVGV4dFNlbGVjdGlvbiIsImJhY2t0aWNrSW5wdXRSZWdleCIsInRpbGRlSW5wdXRSZWdleCIsIkNvZGVCbG9jayIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwibGFuZ3VhZ2VDbGFzc1ByZWZpeCIsImV4aXRPblRyaXBsZUVudGVyIiwiZXhpdE9uQXJyb3dEb3duIiwiSFRNTEF0dHJpYnV0ZXMiLCJjb250ZW50IiwibWFya3MiLCJncm91cCIsImNvZGUiLCJkZWZpbmluZyIsImFkZEF0dHJpYnV0ZXMiLCJsYW5ndWFnZSIsImRlZmF1bHQiLCJwYXJzZUhUTUwiLCJlbGVtZW50IiwiX2EiLCJvcHRpb25zIiwiY2xhc3NOYW1lcyIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xhc3NMaXN0IiwibGFuZ3VhZ2VzIiwiZmlsdGVyIiwiY2xhc3NOYW1lIiwic3RhcnRzV2l0aCIsIm1hcCIsInJlcGxhY2UiLCJyZW5kZXJlZCIsInRhZyIsInByZXNlcnZlV2hpdGVzcGFjZSIsInJlbmRlckhUTUwiLCJub2RlIiwiY2xhc3MiLCJhdHRycyIsImFkZENvbW1hbmRzIiwic2V0Q29kZUJsb2NrIiwiYXR0cmlidXRlcyIsImNvbW1hbmRzIiwic2V0Tm9kZSIsInRvZ2dsZUNvZGVCbG9jayIsInRvZ2dsZU5vZGUiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsImVkaXRvciIsIkJhY2tzcGFjZSIsImVtcHR5IiwiJGFuY2hvciIsInN0YXRlIiwic2VsZWN0aW9uIiwiaXNBdFN0YXJ0IiwicG9zIiwicGFyZW50IiwidHlwZSIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2xlYXJOb2RlcyIsIkVudGVyIiwiJGZyb20iLCJpc0F0RW5kIiwicGFyZW50T2Zmc2V0Iiwibm9kZVNpemUiLCJlbmRzV2l0aERvdWJsZU5ld2xpbmUiLCJlbmRzV2l0aCIsImNoYWluIiwiY29tbWFuZCIsInRyIiwiZGVsZXRlIiwiZXhpdENvZGUiLCJydW4iLCJBcnJvd0Rvd24iLCJkb2MiLCJhZnRlciIsInVuZGVmaW5lZCIsIm5vZGVBZnRlciIsIm5vZGVBdCIsImFkZElucHV0UnVsZXMiLCJmaW5kIiwiZ2V0QXR0cmlidXRlcyIsIm1hdGNoIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwia2V5IiwicHJvcHMiLCJoYW5kbGVQYXN0ZSIsInZpZXciLCJldmVudCIsImNsaXBib2FyZERhdGEiLCJpc0FjdGl2ZSIsInRleHQiLCJnZXREYXRhIiwidnNjb2RlIiwidnNjb2RlRGF0YSIsIkpTT04iLCJwYXJzZSIsIm1vZGUiLCJyZXBsYWNlU2VsZWN0aW9uV2l0aCIsInNldFNlbGVjdGlvbiIsIm5lYXIiLCJyZXNvbHZlIiwiTWF0aCIsIm1heCIsImZyb20iLCJpbnNlcnRUZXh0Iiwic2V0TWV0YSIsImRpc3BhdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-code-block/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-code/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-code/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Code: () => (/* binding */ Code),\n/* harmony export */   \"default\": () => (/* binding */ Code),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))$/;\nconst pasteRegex = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))/g;\nconst Code = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"code\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    excludes: \"_\",\n    code: true,\n    exitable: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"code\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"code\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setCode: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleCode: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetCode: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-e\": ()=>this.editor.commands.toggleCode()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: pasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1GO0FBRW5GLE1BQU1JLGFBQWE7QUFDbkIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxPQUFPTiw4Q0FBSUEsQ0FBQ08sTUFBTSxDQUFDO0lBQ3JCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztRQUNyQjtJQUNKO0lBQ0FDLFVBQVU7SUFDVkMsTUFBTTtJQUNOQyxVQUFVO0lBQ1ZDO1FBQ0ksT0FBTztZQUNIO2dCQUFFQyxLQUFLO1lBQU87U0FDakI7SUFDTDtJQUNBQyxZQUFXLEVBQUVOLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBUVQsNkRBQWVBLENBQUMsSUFBSSxDQUFDZ0IsT0FBTyxDQUFDUCxjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDcEY7SUFDQVE7UUFDSSxPQUFPO1lBQ0hDLFNBQVMsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDeEIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2IsSUFBSTtnQkFDckM7WUFDQWMsWUFBWSxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUMzQixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDZixJQUFJO2dCQUN4QztZQUNBZ0IsV0FBVyxJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUMxQixPQUFPQSxTQUFTSyxTQUFTLENBQUMsSUFBSSxDQUFDakIsSUFBSTtnQkFDdkM7UUFDSjtJQUNKO0lBQ0FrQjtRQUNJLE9BQU87WUFDSCxTQUFTLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsVUFBVTtRQUNsRDtJQUNKO0lBQ0FNO1FBQ0ksT0FBTztZQUNIMUIsMkRBQWFBLENBQUM7Z0JBQ1YyQixNQUFNekI7Z0JBQ04wQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7SUFDQUM7UUFDSSxPQUFPO1lBQ0g1QiwyREFBYUEsQ0FBQztnQkFDVjBCLE1BQU14QjtnQkFDTnlCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtBQUNKO0FBRXlELENBQ3pELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS9kaXN0L2luZGV4LmpzPzM2NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgaW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86YCkoKD86W15gXSspKSg/OmApKSQvO1xyXG5jb25zdCBwYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpgKSgoPzpbXmBdKykpKD86YCkpL2c7XHJcbmNvbnN0IENvZGUgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY29kZScsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGV4Y2x1ZGVzOiAnXycsXHJcbiAgICBjb2RlOiB0cnVlLFxyXG4gICAgZXhpdGFibGU6IHRydWUsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdjb2RlJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydjb2RlJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRDb2RlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b2dnbGVDb2RlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudG9nZ2xlTWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bnNldENvZGU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtZSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUNvZGUoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBwYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IENvZGUsIENvZGUgYXMgZGVmYXVsdCwgaW5wdXRSZWdleCwgcGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwiaW5wdXRSZWdleCIsInBhc3RlUmVnZXgiLCJDb2RlIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsImV4Y2x1ZGVzIiwiY29kZSIsImV4aXRhYmxlIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldENvZGUiLCJjb21tYW5kcyIsInNldE1hcmsiLCJ0b2dnbGVDb2RlIiwidG9nZ2xlTWFyayIsInVuc2V0Q29kZSIsInVuc2V0TWFyayIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiYWRkSW5wdXRSdWxlcyIsImZpbmQiLCJ0eXBlIiwiYWRkUGFzdGVSdWxlcyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-code/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-document/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@tiptap/extension-document/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Document: () => (/* binding */ Document),\n/* harmony export */   \"default\": () => (/* binding */ Document)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Document = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"doc\",\n    topNode: true,\n    content: \"block+\"\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZG9jdW1lbnQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFFcEMsTUFBTUMsV0FBV0QsOENBQUlBLENBQUNFLE1BQU0sQ0FBQztJQUN6QkMsTUFBTTtJQUNOQyxTQUFTO0lBQ1RDLFNBQVM7QUFDYjtBQUV5QyxDQUN6QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWRvY3VtZW50L2Rpc3QvaW5kZXguanM/Y2NmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgRG9jdW1lbnQgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZG9jJyxcclxuICAgIHRvcE5vZGU6IHRydWUsXHJcbiAgICBjb250ZW50OiAnYmxvY2srJyxcclxufSk7XG5cbmV4cG9ydCB7IERvY3VtZW50LCBEb2N1bWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwiRG9jdW1lbnQiLCJjcmVhdGUiLCJuYW1lIiwidG9wTm9kZSIsImNvbnRlbnQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-document/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-dropcursor/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dropcursor: () => (/* binding */ Dropcursor),\n/* harmony export */   \"default\": () => (/* binding */ Dropcursor)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_dropcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/dropcursor */ \"(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js\");\n\n\nconst Dropcursor = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"dropCursor\",\n    addOptions () {\n        return {\n            color: \"currentColor\",\n            width: 1,\n            class: undefined\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_dropcursor__WEBPACK_IMPORTED_MODULE_0__.dropCursor)(this.options)\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDVTtBQUVuRCxNQUFNRSxhQUFhRixtREFBU0EsQ0FBQ0csTUFBTSxDQUFDO0lBQ2hDQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxPQUFPO1lBQ1BDLE9BQU87WUFDUEMsT0FBT0M7UUFDWDtJQUNKO0lBQ0FDO1FBQ0ksT0FBTztZQUNIVCxpRUFBVUEsQ0FBQyxJQUFJLENBQUNVLE9BQU87U0FDMUI7SUFDTDtBQUNKO0FBRTZDLENBQzdDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzP2Y5YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5zaW9uIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmltcG9ydCB7IGRyb3BDdXJzb3IgfSBmcm9tICdAdGlwdGFwL3BtL2Ryb3BjdXJzb3InO1xuXG5jb25zdCBEcm9wY3Vyc29yID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZHJvcEN1cnNvcicsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnY3VycmVudENvbG9yJyxcclxuICAgICAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgICAgIGNsYXNzOiB1bmRlZmluZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgZHJvcEN1cnNvcih0aGlzLm9wdGlvbnMpLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgRHJvcGN1cnNvciwgRHJvcGN1cnNvciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJFeHRlbnNpb24iLCJkcm9wQ3Vyc29yIiwiRHJvcGN1cnNvciIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiY29sb3IiLCJ3aWR0aCIsImNsYXNzIiwidW5kZWZpbmVkIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwib3B0aW9ucyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tiptap/extension-floating-menu/dist/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingMenu: () => (/* binding */ FloatingMenu),\n/* harmony export */   FloatingMenuPlugin: () => (/* binding */ FloatingMenuPlugin),\n/* harmony export */   FloatingMenuView: () => (/* binding */ FloatingMenuView),\n/* harmony export */   \"default\": () => (/* binding */ FloatingMenu)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tippy.js */ \"(ssr)/./node_modules/tippy.js/dist/tippy.esm.js\");\n\n\n\nclass FloatingMenuView {\n    constructor({ editor, element, view, tippyOptions = {}, shouldShow }){\n        this.preventHide = false;\n        this.shouldShow = ({ view, state })=>{\n            const { selection } = state;\n            const { $anchor, empty } = selection;\n            const isRootDepth = $anchor.depth === 1;\n            const isEmptyTextBlock = $anchor.parent.isTextblock && !$anchor.parent.type.spec.code && !$anchor.parent.textContent;\n            if (!view.hasFocus() || !empty || !isRootDepth || !isEmptyTextBlock || !this.editor.isEditable) {\n                return false;\n            }\n            return true;\n        };\n        this.mousedownHandler = ()=>{\n            this.preventHide = true;\n        };\n        this.focusHandler = ()=>{\n            // we use `setTimeout` to make sure `selection` is already updated\n            setTimeout(()=>this.update(this.editor.view));\n        };\n        this.blurHandler = ({ event })=>{\n            var _a;\n            if (this.preventHide) {\n                this.preventHide = false;\n                return;\n            }\n            if ((event === null || event === void 0 ? void 0 : event.relatedTarget) && ((_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n                return;\n            }\n            this.hide();\n        };\n        this.tippyBlurHandler = (event)=>{\n            this.blurHandler({\n                event\n            });\n        };\n        this.editor = editor;\n        this.element = element;\n        this.view = view;\n        if (shouldShow) {\n            this.shouldShow = shouldShow;\n        }\n        this.element.addEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.editor.on(\"focus\", this.focusHandler);\n        this.editor.on(\"blur\", this.blurHandler);\n        this.tippyOptions = tippyOptions;\n        // Detaches menu content from its current parent\n        this.element.remove();\n        this.element.style.visibility = \"visible\";\n    }\n    createTooltip() {\n        const { element: editorElement } = this.editor.options;\n        const editorIsAttached = !!editorElement.parentElement;\n        if (this.tippy || !editorIsAttached) {\n            return;\n        }\n        this.tippy = (0,tippy_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(editorElement, {\n            duration: 0,\n            getReferenceClientRect: null,\n            content: this.element,\n            interactive: true,\n            trigger: \"manual\",\n            placement: \"right\",\n            hideOnClick: \"toggle\",\n            ...this.tippyOptions\n        });\n        // maybe we have to hide tippy on its own blur event as well\n        if (this.tippy.popper.firstChild) {\n            this.tippy.popper.firstChild.addEventListener(\"blur\", this.tippyBlurHandler);\n        }\n    }\n    update(view, oldState) {\n        var _a, _b, _c;\n        const { state } = view;\n        const { doc, selection } = state;\n        const { from, to } = selection;\n        const isSame = oldState && oldState.doc.eq(doc) && oldState.selection.eq(selection);\n        if (isSame) {\n            return;\n        }\n        this.createTooltip();\n        const shouldShow = (_a = this.shouldShow) === null || _a === void 0 ? void 0 : _a.call(this, {\n            editor: this.editor,\n            view,\n            state,\n            oldState\n        });\n        if (!shouldShow) {\n            this.hide();\n            return;\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.setProps({\n            getReferenceClientRect: ((_c = this.tippyOptions) === null || _c === void 0 ? void 0 : _c.getReferenceClientRect) || (()=>(0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.posToDOMRect)(view, from, to))\n        });\n        this.show();\n    }\n    show() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    hide() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.hide();\n    }\n    destroy() {\n        var _a, _b;\n        if ((_a = this.tippy) === null || _a === void 0 ? void 0 : _a.popper.firstChild) {\n            this.tippy.popper.firstChild.removeEventListener(\"blur\", this.tippyBlurHandler);\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.destroy();\n        this.element.removeEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.editor.off(\"focus\", this.focusHandler);\n        this.editor.off(\"blur\", this.blurHandler);\n    }\n}\nconst FloatingMenuPlugin = (options)=>{\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        key: typeof options.pluginKey === \"string\" ? new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(options.pluginKey) : options.pluginKey,\n        view: (view)=>new FloatingMenuView({\n                view,\n                ...options\n            })\n    });\n};\nconst FloatingMenu = _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Extension.create({\n    name: \"floatingMenu\",\n    addOptions () {\n        return {\n            element: null,\n            tippyOptions: {},\n            pluginKey: \"floatingMenu\",\n            shouldShow: null\n        };\n    },\n    addProseMirrorPlugins () {\n        if (!this.options.element) {\n            return [];\n        }\n        return [\n            FloatingMenuPlugin({\n                pluginKey: this.options.pluginKey,\n                editor: this.editor,\n                element: this.options.element,\n                tippyOptions: this.options.tippyOptions,\n                shouldShow: this.options.shouldShow\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZmxvYXRpbmctbWVudS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUQ7QUFDRjtBQUN4QjtBQUU3QixNQUFNSztJQUNGQyxZQUFZLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLGVBQWUsQ0FBQyxDQUFDLEVBQUVDLFVBQVUsRUFBRyxDQUFFO1FBQ25FLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0QsVUFBVSxHQUFHLENBQUMsRUFBRUYsSUFBSSxFQUFFSSxLQUFLLEVBQUU7WUFDOUIsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR0Q7WUFDdEIsTUFBTSxFQUFFRSxPQUFPLEVBQUVDLEtBQUssRUFBRSxHQUFHRjtZQUMzQixNQUFNRyxjQUFjRixRQUFRRyxLQUFLLEtBQUs7WUFDdEMsTUFBTUMsbUJBQW1CSixRQUFRSyxNQUFNLENBQUNDLFdBQVcsSUFBSSxDQUFDTixRQUFRSyxNQUFNLENBQUNFLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLElBQUksQ0FBQ1QsUUFBUUssTUFBTSxDQUFDSyxXQUFXO1lBQ3BILElBQUksQ0FBQ2hCLEtBQUtpQixRQUFRLE1BQ1gsQ0FBQ1YsU0FDRCxDQUFDQyxlQUNELENBQUNFLG9CQUNELENBQUMsSUFBSSxDQUFDWixNQUFNLENBQUNvQixVQUFVLEVBQUU7Z0JBQzVCLE9BQU87WUFDWDtZQUNBLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7WUFDcEIsSUFBSSxDQUFDaEIsV0FBVyxHQUFHO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDaUIsWUFBWSxHQUFHO1lBQ2hCLGtFQUFrRTtZQUNsRUMsV0FBVyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQ0UsSUFBSTtRQUNqRDtRQUNBLElBQUksQ0FBQ3VCLFdBQVcsR0FBRyxDQUFDLEVB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Q3FDLE9BQU8sQ0FBQ3JDLFVBQVU7WUFDdkM7U0FDSDtJQUNMO0FBQ0o7QUFFdUYsQ0FDdkYsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1mbG9hdGluZy1tZW51L2Rpc3QvaW5kZXguanM/NjVlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwb3NUb0RPTVJlY3QsIEV4dGVuc2lvbiB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyBQbHVnaW4sIFBsdWdpbktleSB9IGZyb20gJ0B0aXB0YXAvcG0vc3RhdGUnO1xuaW1wb3J0IHRpcHB5IGZyb20gJ3RpcHB5LmpzJztcblxuY2xhc3MgRmxvYXRpbmdNZW51VmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGVkaXRvciwgZWxlbWVudCwgdmlldywgdGlwcHlPcHRpb25zID0ge30sIHNob3VsZFNob3csIH0pIHtcclxuICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaG91bGRTaG93ID0gKHsgdmlldywgc3RhdGUgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgJGFuY2hvciwgZW1wdHkgfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgaXNSb290RGVwdGggPSAkYW5jaG9yLmRlcHRoID09PSAxO1xyXG4gICAgICAgICAgICBjb25zdCBpc0VtcHR5VGV4dEJsb2NrID0gJGFuY2hvci5wYXJlbnQuaXNUZXh0YmxvY2sgJiYgISRhbmNob3IucGFyZW50LnR5cGUuc3BlYy5jb2RlICYmICEkYW5jaG9yLnBhcmVudC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgaWYgKCF2aWV3Lmhhc0ZvY3VzKClcclxuICAgICAgICAgICAgICAgIHx8ICFlbXB0eVxyXG4gICAgICAgICAgICAgICAgfHwgIWlzUm9vdERlcHRoXHJcbiAgICAgICAgICAgICAgICB8fCAhaXNFbXB0eVRleHRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubW91c2Vkb3duSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcmV2ZW50SGlkZSA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZvY3VzSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gd2UgdXNlIGBzZXRUaW1lb3V0YCB0byBtYWtlIHN1cmUgYHNlbGVjdGlvbmAgaXMgYWxyZWFkeSB1cGRhdGVkXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGUodGhpcy5lZGl0b3IudmlldykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5ibHVySGFuZGxlciA9ICh7IGV2ZW50IH0pID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2ZW50SGlkZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2ZW50SGlkZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50LnJlbGF0ZWRUYXJnZXQpICYmICgoX2EgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50aXBweUJsdXJIYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmx1ckhhbmRsZXIoeyBldmVudCB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICBpZiAoc2hvdWxkU2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNob3cgPSBzaG91bGRTaG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy50aXBweU9wdGlvbnMgPSB0aXBweU9wdGlvbnM7XHJcbiAgICAgICAgLy8gRGV0YWNoZXMgbWVudSBjb250ZW50IGZyb20gaXRzIGN1cnJlbnQgcGFyZW50XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVG9vbHRpcCgpIHtcclxuICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IGVkaXRvckVsZW1lbnQgfSA9IHRoaXMuZWRpdG9yLm9wdGlvbnM7XHJcbiAgICAgICAgY29uc3QgZWRpdG9ySXNBdHRhY2hlZCA9ICEhZWRpdG9yRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICh0aGlzLnRpcHB5IHx8ICFlZGl0b3JJc0F0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aXBweSA9IHRpcHB5KGVkaXRvckVsZW1lbnQsIHtcclxuICAgICAgICAgICAgZHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6IG51bGwsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLFxyXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXHJcbiAgICAgICAgICAgIGhpZGVPbkNsaWNrOiAndG9nZ2xlJyxcclxuICAgICAgICAgICAgLi4udGhpcy50aXBweU9wdGlvbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbWF5YmUgd2UgaGF2ZSB0byBoaWRlIHRpcHB5IG9uIGl0cyBvd24gYmx1ciBldmVudCBhcyB3ZWxsXHJcbiAgICAgICAgaWYgKHRoaXMudGlwcHkucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUodmlldywgb2xkU3RhdGUpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB2aWV3O1xyXG4gICAgICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICBjb25zdCBpc1NhbWUgPSBvbGRTdGF0ZSAmJiBvbGRTdGF0ZS5kb2MuZXEoZG9jKSAmJiBvbGRTdGF0ZS5zZWxlY3Rpb24uZXEoc2VsZWN0aW9uKTtcclxuICAgICAgICBpZiAoaXNTYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUb29sdGlwKCk7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkU2hvdyA9IChfYSA9IHRoaXMuc2hvdWxkU2hvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICB2aWV3LFxyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgb2xkU3RhdGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFzaG91bGRTaG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIChfYiA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6ICgoX2MgPSB0aGlzLnRpcHB5T3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldFJlZmVyZW5jZUNsaWVudFJlY3QpIHx8ICgoKSA9PiBwb3NUb0RPTVJlY3QodmlldywgZnJvbSwgdG8pKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNob3coKTtcclxuICAgIH1cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmICgoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKF9iID0gdGhpcy50aXBweSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5vZmYoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBGbG9hdGluZ01lbnVQbHVnaW4gPSAob3B0aW9ucykgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIGtleTogdHlwZW9mIG9wdGlvbnMucGx1Z2luS2V5ID09PSAnc3RyaW5nJyA/IG5ldyBQbHVnaW5LZXkob3B0aW9ucy5wbHVnaW5LZXkpIDogb3B0aW9ucy5wbHVnaW5LZXksXHJcbiAgICAgICAgdmlldzogdmlldyA9PiBuZXcgRmxvYXRpbmdNZW51Vmlldyh7IHZpZXcsIC4uLm9wdGlvbnMgfSksXHJcbiAgICB9KTtcclxufTtcblxuY29uc3QgRmxvYXRpbmdNZW51ID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZmxvYXRpbmdNZW51JyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgdGlwcHlPcHRpb25zOiB7fSxcclxuICAgICAgICAgICAgcGx1Z2luS2V5OiAnZmxvYXRpbmdNZW51JyxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdzogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgRmxvYXRpbmdNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbktleTogdGhpcy5vcHRpb25zLnBsdWdpbktleSxcclxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLm9wdGlvbnMuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIHRpcHB5T3B0aW9uczogdGhpcy5vcHRpb25zLnRpcHB5T3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHNob3VsZFNob3c6IHRoaXMub3B0aW9ucy5zaG91bGRTaG93LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IEZsb2F0aW5nTWVudSwgRmxvYXRpbmdNZW51UGx1Z2luLCBGbG9hdGluZ01lbnVWaWV3LCBGbG9hdGluZ01lbnUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsicG9zVG9ET01SZWN0IiwiRXh0ZW5zaW9uIiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwidGlwcHkiLCJGbG9hdGluZ01lbnVWaWV3IiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJlbGVtZW50IiwidmlldyIsInRpcHB5T3B0aW9ucyIsInNob3VsZFNob3ciLCJwcmV2ZW50SGlkZSIsInN0YXRlIiwic2VsZWN0aW9uIiwiJGFuY2hvciIsImVtcHR5IiwiaXNSb290RGVwdGgiLCJkZXB0aCIsImlzRW1wdHlUZXh0QmxvY2siLCJwYXJlbnQiLCJpc1RleHRibG9jayIsInR5cGUiLCJzcGVjIiwiY29kZSIsInRleHRDb250ZW50IiwiaGFzRm9jdXMiLCJpc0VkaXRhYmxlIiwibW91c2Vkb3duSGFuZGxlciIsImZvY3VzSGFuZGxlciIsInNldFRpbWVvdXQiLCJ1cGRhdGUiLCJibHVySGFuZGxlciIsImV2ZW50IiwiX2EiLCJyZWxhdGVkVGFyZ2V0IiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwiaGlkZSIsInRpcHB5Qmx1ckhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FwdHVyZSIsIm9uIiwicmVtb3ZlIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiY3JlYXRlVG9vbHRpcCIsImVkaXRvckVsZW1lbnQiLCJvcHRpb25zIiwiZWRpdG9ySXNBdHRhY2hlZCIsInBhcmVudEVsZW1lbnQiLCJkdXJhdGlvbiIsImdldFJlZmVyZW5jZUNsaWVudFJlY3QiLCJjb250ZW50IiwiaW50ZXJhY3RpdmUiLCJ0cmlnZ2VyIiwicGxhY2VtZW50IiwiaGlkZU9uQ2xpY2siLCJwb3BwZXIiLCJmaXJzdENoaWxkIiwib2xkU3RhdGUiLCJfYiIsIl9jIiwiZG9jIiwiZnJvbSIsInRvIiwiaXNTYW1lIiwiZXEiLCJjYWxsIiwic2V0UHJvcHMiLCJzaG93IiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvZmYiLCJGbG9hdGluZ01lbnVQbHVnaW4iLCJrZXkiLCJwbHVnaW5LZXkiLCJGbG9hdGluZ01lbnUiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-gapcursor/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Gapcursor: () => (/* binding */ Gapcursor),\n/* harmony export */   \"default\": () => (/* binding */ Gapcursor)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_gapcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/gapcursor */ \"(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js\");\n\n\nconst Gapcursor = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"gapCursor\",\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_gapcursor__WEBPACK_IMPORTED_MODULE_0__.gapCursor)()\n        ];\n    },\n    extendNodeSchema (extension) {\n        var _a;\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        return {\n            allowGapCursor: (_a = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.callOrReturn)((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.getExtensionField)(extension, \"allowGapCursor\", context))) !== null && _a !== void 0 ? _a : null\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRTtBQUN6QjtBQUVqRCxNQUFNSSxZQUFZSixtREFBU0EsQ0FBQ0ssTUFBTSxDQUFDO0lBQy9CQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNISiwrREFBU0E7U0FDWjtJQUNMO0lBQ0FLLGtCQUFpQkMsU0FBUztRQUN0QixJQUFJQztRQUNKLE1BQU1DLFVBQVU7WUFDWkwsTUFBTUcsVUFBVUgsSUFBSTtZQUNwQk0sU0FBU0gsVUFBVUcsT0FBTztZQUMxQkMsU0FBU0osVUFBVUksT0FBTztRQUM5QjtRQUNBLE9BQU87WUFDSEMsZ0JBQWdCLENBQUNKLEtBQUtULDBEQUFZQSxDQUFDQywrREFBaUJBLENBQUNPLFdBQVcsa0JBQWtCRSxTQUFRLE1BQU8sUUFBUUQsT0FBTyxLQUFLLElBQUlBLEtBQUs7UUFDbEk7SUFDSjtBQUNKO0FBRTJDLENBQzNDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanM/MGRmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHRlbnNpb24sIGNhbGxPclJldHVybiwgZ2V0RXh0ZW5zaW9uRmllbGQgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgZ2FwQ3Vyc29yIH0gZnJvbSAnQHRpcHRhcC9wbS9nYXBjdXJzb3InO1xuXG5jb25zdCBHYXBjdXJzb3IgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdnYXBDdXJzb3InLFxyXG4gICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIGdhcEN1cnNvcigpLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgZXh0ZW5kTm9kZVNjaGVtYShleHRlbnNpb24pIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFsbG93R2FwQ3Vyc29yOiAoX2EgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWxsb3dHYXBDdXJzb3InLCBjb250ZXh0KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBHYXBjdXJzb3IsIEdhcGN1cnNvciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJFeHRlbnNpb24iLCJjYWxsT3JSZXR1cm4iLCJnZXRFeHRlbnNpb25GaWVsZCIsImdhcEN1cnNvciIsIkdhcGN1cnNvciIsImNyZWF0ZSIsIm5hbWUiLCJhZGRQcm9zZU1pcnJvclBsdWdpbnMiLCJleHRlbmROb2RlU2NoZW1hIiwiZXh0ZW5zaW9uIiwiX2EiLCJjb250ZXh0Iiwib3B0aW9ucyIsInN0b3JhZ2UiLCJhbGxvd0dhcEN1cnNvciIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-hard-break/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HardBreak: () => (/* binding */ HardBreak),\n/* harmony export */   \"default\": () => (/* binding */ HardBreak)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst HardBreak = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"hardBreak\",\n    addOptions () {\n        return {\n            keepMarks: true,\n            HTMLAttributes: {}\n        };\n    },\n    inline: true,\n    group: \"inline\",\n    selectable: false,\n    parseHTML () {\n        return [\n            {\n                tag: \"br\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"br\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes)\n        ];\n    },\n    renderText () {\n        return \"\\n\";\n    },\n    addCommands () {\n        return {\n            setHardBreak: ()=>({ commands, chain, state, editor })=>{\n                    return commands.first([\n                        ()=>commands.exitCode(),\n                        ()=>commands.command(()=>{\n                                const { selection, storedMarks } = state;\n                                if (selection.$from.parent.type.spec.isolating) {\n                                    return false;\n                                }\n                                const { keepMarks } = this.options;\n                                const { splittableMarks } = editor.extensionManager;\n                                const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n                                return chain().insertContent({\n                                    type: this.name\n                                }).command(({ tr, dispatch })=>{\n                                    if (dispatch && marks && keepMarks) {\n                                        const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n                                        tr.ensureMarks(filteredMarks);\n                                    }\n                                    return true;\n                                }).run();\n                            })\n                    ]);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Enter\": ()=>this.editor.commands.setHardBreak(),\n            \"Shift-Enter\": ()=>this.editor.commands.setHardBreak()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGFyZC1icmVhay9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNRSxZQUFZRiw4Q0FBSUEsQ0FBQ0csTUFBTSxDQUFDO0lBQzFCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxXQUFXO1lBQ1hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUMsUUFBUTtJQUNSQyxPQUFPO0lBQ1BDLFlBQVk7SUFDWkM7UUFDSSxPQUFPO1lBQ0g7Z0JBQUVDLEtBQUs7WUFBSztTQUNmO0lBQ0w7SUFDQUMsWUFBVyxFQUFFTixjQUFjLEVBQUU7UUFDekIsT0FBTztZQUFDO1lBQU1OLDZEQUFlQSxDQUFDLElBQUksQ0FBQ2EsT0FBTyxDQUFDUCxjQUFjLEVBQUVBO1NBQWdCO0lBQy9FO0lBQ0FRO1FBQ0ksT0FBTztJQUNYO0lBQ0FDO1FBQ0ksT0FBTztZQUNIQyxjQUFjLElBQU0sQ0FBQyxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUc7b0JBQ3BELE9BQU9ILFNBQVNJLEtBQUssQ0FBQzt3QkFDbEIsSUFBTUosU0FBU0ssUUFBUTt3QkFDdkIsSUFBTUwsU0FBU00sT0FBTyxDQUFDO2dDQUNuQixNQUFNLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxFQUFFLEdBQUdOO2dDQUNuQyxJQUFJSyxVQUFVRSxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRTtvQ0FDNUMsT0FBTztnQ0FDWDtnQ0FDQSxNQUFNLEVBQUV6QixTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUNRLE9BQU87Z0NBQ2xDLE1BQU0sRUFBRWtCLGVBQWUsRUFBRSxHQUFHWCxPQUFPWSxnQkFBZ0I7Z0NBQ25ELE1BQU1DLFFBQVFSLGVBQ05ELFVBQVVVLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJWCxVQUFVRSxLQUFLLENBQUNPLEtBQUs7Z0NBQzNELE9BQU9mLFFBQ0ZrQixhQUFhLENBQUM7b0NBQUVSLE1BQU0sSUFBSSxDQUFDekIsSUFBSTtnQ0FBQyxHQUNoQ29CLE9BQU8sQ0FBQyxDQUFDLEVBQUVjLEVBQUUsRUFBRUMsUUFBUSxFQUFFO29DQUMxQixJQUFJQSxZQUFZTCxTQUFTNUIsV0FBVzt3Q0FDaEMsTUFBTWtDLGdCQUFnQk4sTUFDakJPLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUVYsZ0JBQWdCVyxRQUFRLENBQUNELEtBQUtiLElBQUksQ0FBQ3pCLElBQUk7d0NBQzNEa0MsR0FBR00sV0FBVyxDQUFDSjtvQ0FDbkI7b0NBQ0EsT0FBTztnQ0FDWCxHQUNLSyxHQUFHOzRCQUNaO3FCQUNIO2dCQUNMO1FBQ0o7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSCxhQUFhLElBQU0sSUFBSSxDQUFDekIsTUFBTSxDQUFDSCxRQUFRLENBQUNELFlBQVk7WUFDcEQsZUFBZSxJQUFNLElBQUksQ0FBQ0ksTUFBTSxDQUFDSCxRQUFRLENBQUNELFlBQVk7UUFDMUQ7SUFDSjtBQUNKO0FBRTJDLENBQzNDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGFyZC1icmVhay9kaXN0L2luZGV4LmpzPzAxNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgSGFyZEJyZWFrID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2hhcmRCcmVhaycsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGtlZXBNYXJrczogdHJ1ZSxcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaW5saW5lOiB0cnVlLFxyXG4gICAgZ3JvdXA6ICdpbmxpbmUnLFxyXG4gICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdicicgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsnYnInLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyldO1xyXG4gICAgfSxcclxuICAgIHJlbmRlclRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdcXG4nO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldEhhcmRCcmVhazogKCkgPT4gKHsgY29tbWFuZHMsIGNoYWluLCBzdGF0ZSwgZWRpdG9yLCB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuZmlyc3QoW1xyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmV4aXRDb2RlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuY29tbWFuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBzdG9yZWRNYXJrcyB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uJGZyb20ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGtlZXBNYXJrcyB9ID0gdGhpcy5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNwbGl0dGFibGVNYXJrcyB9ID0gZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtzID0gc3RvcmVkTWFya3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChzZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0Q29udGVudCh7IHR5cGU6IHRoaXMubmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbW1hbmQoKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNwYXRjaCAmJiBtYXJrcyAmJiBrZWVwTWFya3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE1hcmtzID0gbWFya3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihtYXJrID0+IHNwbGl0dGFibGVNYXJrcy5pbmNsdWRlcyhtYXJrLnR5cGUubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmVuc3VyZU1hcmtzKGZpbHRlcmVkTWFya3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucnVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtRW50ZXInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5zZXRIYXJkQnJlYWsoKSxcclxuICAgICAgICAgICAgJ1NoaWZ0LUVudGVyJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2V0SGFyZEJyZWFrKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIYXJkQnJlYWssIEhhcmRCcmVhayBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwibWVyZ2VBdHRyaWJ1dGVzIiwiSGFyZEJyZWFrIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJrZWVwTWFya3MiLCJIVE1MQXR0cmlidXRlcyIsImlubGluZSIsImdyb3VwIiwic2VsZWN0YWJsZSIsInBhcnNlSFRNTCIsInRhZyIsInJlbmRlckhUTUwiLCJvcHRpb25zIiwicmVuZGVyVGV4dCIsImFkZENvbW1hbmRzIiwic2V0SGFyZEJyZWFrIiwiY29tbWFuZHMiLCJjaGFpbiIsInN0YXRlIiwiZWRpdG9yIiwiZmlyc3QiLCJleGl0Q29kZSIsImNvbW1hbmQiLCJzZWxlY3Rpb24iLCJzdG9yZWRNYXJrcyIsIiRmcm9tIiwicGFyZW50IiwidHlwZSIsInNwZWMiLCJpc29sYXRpbmciLCJzcGxpdHRhYmxlTWFya3MiLCJleHRlbnNpb25NYW5hZ2VyIiwibWFya3MiLCIkdG8iLCJwYXJlbnRPZmZzZXQiLCJpbnNlcnRDb250ZW50IiwidHIiLCJkaXNwYXRjaCIsImZpbHRlcmVkTWFya3MiLCJmaWx0ZXIiLCJtYXJrIiwiaW5jbHVkZXMiLCJlbnN1cmVNYXJrcyIsInJ1biIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-heading/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@tiptap/extension-heading/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Heading: () => (/* binding */ Heading),\n/* harmony export */   \"default\": () => (/* binding */ Heading)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Heading = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"heading\",\n    addOptions () {\n        return {\n            levels: [\n                1,\n                2,\n                3,\n                4,\n                5,\n                6\n            ],\n            HTMLAttributes: {}\n        };\n    },\n    content: \"inline*\",\n    group: \"block\",\n    defining: true,\n    addAttributes () {\n        return {\n            level: {\n                default: 1,\n                rendered: false\n            }\n        };\n    },\n    parseHTML () {\n        return this.options.levels.map((level)=>({\n                tag: `h${level}`,\n                attrs: {\n                    level\n                }\n            }));\n    },\n    renderHTML ({ node, HTMLAttributes }) {\n        const hasLevel = this.options.levels.includes(node.attrs.level);\n        const level = hasLevel ? node.attrs.level : this.options.levels[0];\n        return [\n            `h${level}`,\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setHeading: (attributes)=>({ commands })=>{\n                    if (!this.options.levels.includes(attributes.level)) {\n                        return false;\n                    }\n                    return commands.setNode(this.name, attributes);\n                },\n            toggleHeading: (attributes)=>({ commands })=>{\n                    if (!this.options.levels.includes(attributes.level)) {\n                        return false;\n                    }\n                    return commands.toggleNode(this.name, \"paragraph\", attributes);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return this.options.levels.reduce((items, level)=>({\n                ...items,\n                ...{\n                    [`Mod-Alt-${level}`]: ()=>this.editor.commands.toggleHeading({\n                            level\n                        })\n                }\n            }), {});\n    },\n    addInputRules () {\n        return this.options.levels.map((level)=>{\n            return (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.textblockTypeInputRule)({\n                find: new RegExp(`^(#{1,${level}})\\\\s$`),\n                type: this.type,\n                getAttributes: {\n                    level\n                }\n            });\n        });\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGVhZGluZy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RTtBQUU3RSxNQUFNRyxVQUFVSCw4Q0FBSUEsQ0FBQ0ksTUFBTSxDQUFDO0lBQ3hCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxRQUFRO2dCQUFDO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2FBQUU7WUFDMUJDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUMsU0FBUztJQUNUQyxPQUFPO0lBQ1BDLFVBQVU7SUFDVkM7UUFDSSxPQUFPO1lBQ0hDLE9BQU87Z0JBQ0hDLFNBQVM7Z0JBQ1RDLFVBQVU7WUFDZDtRQUNKO0lBQ0o7SUFDQUM7UUFDSSxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDVixNQUFNLENBQ3JCVyxHQUFHLENBQUMsQ0FBQ0wsUUFBVztnQkFDakJNLEtBQUssQ0FBQyxDQUFDLEVBQUVOLE1BQU0sQ0FBQztnQkFDaEJPLE9BQU87b0JBQUVQO2dCQUFNO1lBQ25CO0lBQ0o7SUFDQVEsWUFBVyxFQUFFQyxJQUFJLEVBQUVkLGNBQWMsRUFBRTtRQUMvQixNQUFNZSxXQUFXLElBQUksQ0FBQ04sT0FBTyxDQUFDVixNQUFNLENBQUNpQixRQUFRLENBQUNGLEtBQUtGLEtBQUssQ0FBQ1AsS0FBSztRQUM5RCxNQUFNQSxRQUFRVSxXQUNSRCxLQUFLRixLQUFLLENBQUNQLEtBQUssR0FDaEIsSUFBSSxDQUFDSSxPQUFPLENBQUNWLE1BQU0sQ0FBQyxFQUFFO1FBQzVCLE9BQU87WUFBQyxDQUFDLENBQUMsRUFBRU0sTUFBTSxDQUFDO1lBQUVaLDZEQUFlQSxDQUFDLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQ1QsY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ3pGO0lBQ0FpQjtRQUNJLE9BQU87WUFDSEMsWUFBWUMsQ0FBQUEsYUFBYyxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQ1gsT0FBTyxDQUFDVixNQUFNLENBQUNpQixRQUFRLENBQUNHLFdBQVdkLEtBQUssR0FBRzt3QkFDakQsT0FBTztvQkFDWDtvQkFDQSxPQUFPZSxTQUFTQyxPQUFPLENBQUMsSUFBSSxDQUFDeEIsSUFBSSxFQUFFc0I7Z0JBQ3ZDO1lBQ0FHLGVBQWVILENBQUFBLGFBQWMsQ0FBQyxFQUFFQyxRQUFRLEVBQUU7b0JBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUNYLE9BQU8sQ0FBQ1YsTUFBTSxDQUFDaUIsUUFBUSxDQUFDRyxXQUFXZCxLQUFLLEdBQUc7d0JBQ2pELE9BQU87b0JBQ1g7b0JBQ0EsT0FBT2UsU0FBU0csVUFBVSxDQUFDLElBQUksQ0FBQzFCLElBQUksRUFBRSxhQUFhc0I7Z0JBQ3ZEO1FBQ0o7SUFDSjtJQUNBSztRQUNJLE9BQU8sSUFBSSxDQUFDZixPQUFPLENBQUNWLE1BQU0sQ0FBQzBCLE1BQU0sQ0FBQyxDQUFDQyxPQUFPckIsUUFBVztnQkFDakQsR0FBR3FCLEtBQUs7Z0JBQ1IsR0FBRztvQkFDQyxDQUFDLENBQUMsUUFBUSxFQUFFckIsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFNLElBQUksQ0FBQ3NCLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDRSxhQUFhLENBQUM7NEJBQUVqQjt3QkFBTTtnQkFDM0UsQ0FBQztZQUNMLElBQUksQ0FBQztJQUNUO0lBQ0F1QjtRQUNJLE9BQU8sSUFBSSxDQUFDbkIsT0FBTyxDQUFDVixNQUFNLENBQUNXLEdBQUcsQ0FBQ0wsQ0FBQUE7WUFDM0IsT0FBT1gsb0VBQXNCQSxDQUFDO2dCQUMxQm1DLE1BQU0sSUFBSUMsT0FBTyxDQUFDLE1BQU0sRUFBRXpCLE1BQU0sTUFBTSxDQUFDO2dCQUN2QzBCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO2dCQUNmQyxlQUFlO29CQUNYM0I7Z0JBQ0o7WUFDSjtRQUNKO0lBQ0o7QUFDSjtBQUV1QyxDQUN2QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWhlYWRpbmcvZGlzdC9pbmRleC5qcz9kMzA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUsIG1lcmdlQXR0cmlidXRlcywgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5cbmNvbnN0IEhlYWRpbmcgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnaGVhZGluZycsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxldmVsczogWzEsIDIsIDMsIDQsIDUsIDZdLFxyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjb250ZW50OiAnaW5saW5lKicsXHJcbiAgICBncm91cDogJ2Jsb2NrJyxcclxuICAgIGRlZmluaW5nOiB0cnVlLFxyXG4gICAgYWRkQXR0cmlidXRlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsZXZlbDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMSxcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmxldmVsc1xyXG4gICAgICAgICAgICAubWFwKChsZXZlbCkgPT4gKHtcclxuICAgICAgICAgICAgdGFnOiBgaCR7bGV2ZWx9YCxcclxuICAgICAgICAgICAgYXR0cnM6IHsgbGV2ZWwgfSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IG5vZGUsIEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICBjb25zdCBoYXNMZXZlbCA9IHRoaXMub3B0aW9ucy5sZXZlbHMuaW5jbHVkZXMobm9kZS5hdHRycy5sZXZlbCk7XHJcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBoYXNMZXZlbFxyXG4gICAgICAgICAgICA/IG5vZGUuYXR0cnMubGV2ZWxcclxuICAgICAgICAgICAgOiB0aGlzLm9wdGlvbnMubGV2ZWxzWzBdO1xyXG4gICAgICAgIHJldHVybiBbYGgke2xldmVsfWAsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0SGVhZGluZzogYXR0cmlidXRlcyA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5sZXZlbHMuaW5jbHVkZXMoYXR0cmlidXRlcy5sZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuc2V0Tm9kZSh0aGlzLm5hbWUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b2dnbGVIZWFkaW5nOiBhdHRyaWJ1dGVzID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxldmVscy5pbmNsdWRlcyhhdHRyaWJ1dGVzLmxldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVOb2RlKHRoaXMubmFtZSwgJ3BhcmFncmFwaCcsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbHMucmVkdWNlKChpdGVtcywgbGV2ZWwpID0+ICh7XHJcbiAgICAgICAgICAgIC4uLml0ZW1zLFxyXG4gICAgICAgICAgICAuLi57XHJcbiAgICAgICAgICAgICAgICBbYE1vZC1BbHQtJHtsZXZlbH1gXTogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlSGVhZGluZyh7IGxldmVsIH0pLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLCB7fSk7XHJcbiAgICB9LFxyXG4gICAgYWRkSW5wdXRSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmxldmVscy5tYXAobGV2ZWwgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dGJsb2NrVHlwZUlucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBuZXcgUmVnRXhwKGBeKCN7MSwke2xldmVsfX0pXFxcXHMkYCksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIZWFkaW5nLCBIZWFkaW5nIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJ0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlIiwiSGVhZGluZyIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwibGV2ZWxzIiwiSFRNTEF0dHJpYnV0ZXMiLCJjb250ZW50IiwiZ3JvdXAiLCJkZWZpbmluZyIsImFkZEF0dHJpYnV0ZXMiLCJsZXZlbCIsImRlZmF1bHQiLCJyZW5kZXJlZCIsInBhcnNlSFRNTCIsIm9wdGlvbnMiLCJtYXAiLCJ0YWciLCJhdHRycyIsInJlbmRlckhUTUwiLCJub2RlIiwiaGFzTGV2ZWwiLCJpbmNsdWRlcyIsImFkZENvbW1hbmRzIiwic2V0SGVhZGluZyIsImF0dHJpYnV0ZXMiLCJjb21tYW5kcyIsInNldE5vZGUiLCJ0b2dnbGVIZWFkaW5nIiwidG9nZ2xlTm9kZSIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwicmVkdWNlIiwiaXRlbXMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsIlJlZ0V4cCIsInR5cGUiLCJnZXRBdHRyaWJ1dGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-heading/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-highlight/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-highlight/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Highlight: () => (/* binding */ Highlight),\n/* harmony export */   \"default\": () => (/* binding */ Highlight),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)((?:==)((?:[^~=]+))(?:==))$/;\nconst pasteRegex = /(?:^|\\s)((?:==)((?:[^~=]+))(?:==))/g;\nconst Highlight = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"highlight\",\n    addOptions () {\n        return {\n            multicolor: false,\n            HTMLAttributes: {}\n        };\n    },\n    addAttributes () {\n        if (!this.options.multicolor) {\n            return {};\n        }\n        return {\n            color: {\n                default: null,\n                parseHTML: (element)=>element.getAttribute(\"data-color\") || element.style.backgroundColor,\n                renderHTML: (attributes)=>{\n                    if (!attributes.color) {\n                        return {};\n                    }\n                    return {\n                        \"data-color\": attributes.color,\n                        style: `background-color: ${attributes.color}; color: inherit`\n                    };\n                }\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"mark\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"mark\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setHighlight: (attributes)=>({ commands })=>{\n                    return commands.setMark(this.name, attributes);\n                },\n            toggleHighlight: (attributes)=>({ commands })=>{\n                    return commands.toggleMark(this.name, attributes);\n                },\n            unsetHighlight: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Shift-h\": ()=>this.editor.commands.toggleHighlight()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: pasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGlnaGxpZ2h0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUY7QUFFbkYsTUFBTUksYUFBYTtBQUNuQixNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLFlBQVlOLDhDQUFJQSxDQUFDTyxNQUFNLENBQUM7SUFDMUJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLFlBQVk7WUFDWkMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQztRQUNJLElBQUksQ0FBQyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0gsVUFBVSxFQUFFO1lBQzFCLE9BQU8sQ0FBQztRQUNaO1FBQ0EsT0FBTztZQUNISSxPQUFPO2dCQUNIQyxTQUFTO2dCQUNUQyxXQUFXQyxDQUFBQSxVQUFXQSxRQUFRQyxZQUFZLENBQUMsaUJBQWlCRCxRQUFRRSxLQUFLLENBQUNDLGVBQWU7Z0JBQ3pGQyxZQUFZQyxDQUFBQTtvQkFDUixJQUFJLENBQUNBLFdBQVdSLEtBQUssRUFBRTt3QkFDbkIsT0FBTyxDQUFDO29CQUNaO29CQUNBLE9BQU87d0JBQ0gsY0FBY1EsV0FBV1IsS0FBSzt3QkFDOUJLLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRUcsV0FBV1IsS0FBSyxDQUFDLGdCQUFnQixDQUFDO29CQUNsRTtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtJQUNBRTtRQUNJLE9BQU87WUFDSDtnQkFDSU8sS0FBSztZQUNUO1NBQ0g7SUFDTDtJQUNBRixZQUFXLEVBQUVWLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBUVYsNkRBQWVBLENBQUMsSUFBSSxDQUFDWSxPQUFPLENBQUNGLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUNwRjtJQUNBYTtRQUNJLE9BQU87WUFDSEMsY0FBY0gsQ0FBQUEsYUFBYyxDQUFDLEVBQUVJLFFBQVEsRUFBRTtvQkFDckMsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ25CLElBQUksRUFBRWM7Z0JBQ3ZDO1lBQ0FNLGlCQUFpQk4sQ0FBQUEsYUFBYyxDQUFDLEVBQUVJLFFBQVEsRUFBRTtvQkFDeEMsT0FBT0EsU0FBU0csVUFBVSxDQUFDLElBQUksQ0FBQ3JCLElBQUksRUFBRWM7Z0JBQzFDO1lBQ0FRLGdCQUFnQixJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUMvQixPQUFPQSxTQUFTSyxTQUFTLENBQUMsSUFBSSxDQUFDdkIsSUFBSTtnQkFDdkM7UUFDSjtJQUNKO0lBQ0F3QjtRQUNJLE9BQU87WUFDSCxlQUFlLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZUFBZTtRQUM3RDtJQUNKO0lBQ0FNO1FBQ0ksT0FBTztZQUNIaEMsMkRBQWFBLENBQUM7Z0JBQ1ZpQyxNQUFNL0I7Z0JBQ05nQyxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7SUFDQUM7UUFDSSxPQUFPO1lBQ0hsQywyREFBYUEsQ0FBQztnQkFDVmdDLE1BQU05QjtnQkFDTitCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtBQUNKO0FBRW1FLENBQ25FLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGlnaGxpZ2h0L2Rpc3QvaW5kZXguanM/MWM5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrLCBtZXJnZUF0dHJpYnV0ZXMsIG1hcmtJbnB1dFJ1bGUsIG1hcmtQYXN0ZVJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBpbnB1dFJlZ2V4ID0gLyg/Ol58XFxzKSgoPzo9PSkoKD86W15+PV0rKSkoPzo9PSkpJC87XHJcbmNvbnN0IHBhc3RlUmVnZXggPSAvKD86XnxcXHMpKCg/Oj09KSgoPzpbXn49XSspKSg/Oj09KSkvZztcclxuY29uc3QgSGlnaGxpZ2h0ID0gTWFyay5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2hpZ2hsaWdodCcsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG11bHRpY29sb3I6IGZhbHNlLFxyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpY29sb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb2xvcjoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHBhcnNlSFRNTDogZWxlbWVudCA9PiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicpIHx8IGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgcmVuZGVySFRNTDogYXR0cmlidXRlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtY29sb3InOiBhdHRyaWJ1dGVzLmNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogYGJhY2tncm91bmQtY29sb3I6ICR7YXR0cmlidXRlcy5jb2xvcn07IGNvbG9yOiBpbmhlcml0YCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdtYXJrJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsnbWFyaycsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0SGlnaGxpZ2h0OiBhdHRyaWJ1dGVzID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSwgYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUhpZ2hsaWdodDogYXR0cmlidXRlcyA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudG9nZ2xlTWFyayh0aGlzLm5hbWUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bnNldEhpZ2hsaWdodDogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnVuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC1TaGlmdC1oJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlSGlnaGxpZ2h0KCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRJbnB1dFJ1bGVzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG1hcmtJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogaW5wdXRSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICBhZGRQYXN0ZVJ1bGVzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG1hcmtQYXN0ZVJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogcGFzdGVSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIaWdobGlnaHQsIEhpZ2hsaWdodCBhcyBkZWZhdWx0LCBpbnB1dFJlZ2V4LCBwYXN0ZVJlZ2V4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJNYXJrIiwibWVyZ2VBdHRyaWJ1dGVzIiwibWFya0lucHV0UnVsZSIsIm1hcmtQYXN0ZVJ1bGUiLCJpbnB1dFJlZ2V4IiwicGFzdGVSZWdleCIsIkhpZ2hsaWdodCIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwibXVsdGljb2xvciIsIkhUTUxBdHRyaWJ1dGVzIiwiYWRkQXR0cmlidXRlcyIsIm9wdGlvbnMiLCJjb2xvciIsImRlZmF1bHQiLCJwYXJzZUhUTUwiLCJlbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJyZW5kZXJIVE1MIiwiYXR0cmlidXRlcyIsInRhZyIsImFkZENvbW1hbmRzIiwic2V0SGlnaGxpZ2h0IiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlSGlnaGxpZ2h0IiwidG9nZ2xlTWFyayIsInVuc2V0SGlnaGxpZ2h0IiwidW5zZXRNYXJrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsInR5cGUiLCJhZGRQYXN0ZVJ1bGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-highlight/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-history/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@tiptap/extension-history/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   History: () => (/* binding */ History),\n/* harmony export */   \"default\": () => (/* binding */ History)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/history */ \"(ssr)/./node_modules/@tiptap/pm/history/dist/index.js\");\n\n\nconst History = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"history\",\n    addOptions () {\n        return {\n            depth: 100,\n            newGroupDelay: 500\n        };\n    },\n    addCommands () {\n        return {\n            undo: ()=>({ state, dispatch })=>{\n                    return (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.undo)(state, dispatch);\n                },\n            redo: ()=>({ state, dispatch })=>{\n                    return (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.redo)(state, dispatch);\n                }\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.history)(this.options)\n        ];\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-z\": ()=>this.editor.commands.undo(),\n            \"Mod-Z\": ()=>this.editor.commands.undo(),\n            \"Mod-y\": ()=>this.editor.commands.redo(),\n            \"Mod-Y\": ()=>this.editor.commands.redo(),\n            \"Shift-Mod-z\": ()=>this.editor.commands.redo(),\n            \"Shift-Mod-Z\": ()=>this.editor.commands.redo(),\n            // Russian keyboard layouts\n            \"Mod-я\": ()=>this.editor.commands.undo(),\n            \"Shift-Mod-я\": ()=>this.editor.commands.redo()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGlzdG9yeS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDZ0I7QUFFekQsTUFBTUksVUFBVUosbURBQVNBLENBQUNLLE1BQU0sQ0FBQztJQUM3QkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsT0FBTztZQUNQQyxlQUFlO1FBQ25CO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0hULE1BQU0sSUFBTSxDQUFDLEVBQUVVLEtBQUssRUFBRUMsUUFBUSxFQUFFO29CQUM1QixPQUFPWCx3REFBSUEsQ0FBQ1UsT0FBT0M7Z0JBQ3ZCO1lBQ0FWLE1BQU0sSUFBTSxDQUFDLEVBQUVTLEtBQUssRUFBRUMsUUFBUSxFQUFFO29CQUM1QixPQUFPVix3REFBSUEsQ0FBQ1MsT0FBT0M7Z0JBQ3ZCO1FBQ0o7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSFYsMkRBQU9BLENBQUMsSUFBSSxDQUFDVyxPQUFPO1NBQ3ZCO0lBQ0w7SUFDQUM7UUFDSSxPQUFPO1lBQ0gsU0FBUyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLENBQUNoQixJQUFJO1lBQ3hDLFNBQVMsSUFBTSxJQUFJLENBQUNlLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDaEIsSUFBSTtZQUN4QyxTQUFTLElBQU0sSUFBSSxDQUFDZSxNQUFNLENBQUNDLFFBQVEsQ0FBQ2YsSUFBSTtZQUN4QyxTQUFTLElBQU0sSUFBSSxDQUFDYyxNQUFNLENBQUNDLFFBQVEsQ0FBQ2YsSUFBSTtZQUN4QyxlQUFlLElBQU0sSUFBSSxDQUFDYyxNQUFNLENBQUNDLFFBQVEsQ0FBQ2YsSUFBSTtZQUM5QyxlQUFlLElBQU0sSUFBSSxDQUFDYyxNQUFNLENBQUNDLFFBQVEsQ0FBQ2YsSUFBSTtZQUM5QywyQkFBMkI7WUFDM0IsU0FBUyxJQUFNLElBQUksQ0FBQ2MsTUFBTSxDQUFDQyxRQUFRLENBQUNoQixJQUFJO1lBQ3hDLGVBQWUsSUFBTSxJQUFJLENBQUNlLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDZixJQUFJO1FBQ2xEO0lBQ0o7QUFDSjtBQUV1QyxDQUN2QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWhpc3RvcnkvZGlzdC9pbmRleC5qcz8yNmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4dGVuc2lvbiB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyB1bmRvLCByZWRvLCBoaXN0b3J5IH0gZnJvbSAnQHRpcHRhcC9wbS9oaXN0b3J5JztcblxuY29uc3QgSGlzdG9yeSA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2hpc3RvcnknLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkZXB0aDogMTAwLFxyXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiA1MDAsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1bmRvOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZG8oc3RhdGUsIGRpc3BhdGNoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVkbzogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWRvKHN0YXRlLCBkaXNwYXRjaCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgaGlzdG9yeSh0aGlzLm9wdGlvbnMpLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC16JzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudW5kbygpLFxyXG4gICAgICAgICAgICAnTW9kLVonOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy51bmRvKCksXHJcbiAgICAgICAgICAgICdNb2QteSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnJlZG8oKSxcclxuICAgICAgICAgICAgJ01vZC1ZJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMucmVkbygpLFxyXG4gICAgICAgICAgICAnU2hpZnQtTW9kLXonOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5yZWRvKCksXHJcbiAgICAgICAgICAgICdTaGlmdC1Nb2QtWic6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnJlZG8oKSxcclxuICAgICAgICAgICAgLy8gUnVzc2lhbiBrZXlib2FyZCBsYXlvdXRzXHJcbiAgICAgICAgICAgICdNb2Qt0Y8nOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy51bmRvKCksXHJcbiAgICAgICAgICAgICdTaGlmdC1Nb2Qt0Y8nOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5yZWRvKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIaXN0b3J5LCBIaXN0b3J5IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIkV4dGVuc2lvbiIsInVuZG8iLCJyZWRvIiwiaGlzdG9yeSIsIkhpc3RvcnkiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsImRlcHRoIiwibmV3R3JvdXBEZWxheSIsImFkZENvbW1hbmRzIiwic3RhdGUiLCJkaXNwYXRjaCIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsIm9wdGlvbnMiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsImVkaXRvciIsImNvbW1hbmRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-history/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-horizontal-rule/dist/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@tiptap/extension-horizontal-rule/dist/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HorizontalRule: () => (/* binding */ HorizontalRule),\n/* harmony export */   \"default\": () => (/* binding */ HorizontalRule)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n\n\nconst HorizontalRule = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Node.create({\n    name: \"horizontalRule\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    group: \"block\",\n    parseHTML () {\n        return [\n            {\n                tag: \"hr\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"hr\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes)\n        ];\n    },\n    addCommands () {\n        return {\n            setHorizontalRule: ()=>({ chain, state })=>{\n                    const { $to: $originTo } = state.selection;\n                    const currentChain = chain();\n                    if ($originTo.parentOffset === 0) {\n                        currentChain.insertContentAt(Math.max($originTo.pos - 2, 0), {\n                            type: this.name\n                        });\n                    } else {\n                        currentChain.insertContent({\n                            type: this.name\n                        });\n                    }\n                    return currentChain// set cursor after horizontal rule\n                    .command(({ tr, dispatch })=>{\n                        var _a;\n                        if (dispatch) {\n                            const { $to } = tr.selection;\n                            const posAfter = $to.end();\n                            if ($to.nodeAfter) {\n                                if ($to.nodeAfter.isTextblock) {\n                                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(tr.doc, $to.pos + 1));\n                                } else if ($to.nodeAfter.isBlock) {\n                                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.create(tr.doc, $to.pos));\n                                } else {\n                                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(tr.doc, $to.pos));\n                                }\n                            } else {\n                                // add node after horizontal rule if it’s the end of the document\n                                const node = (_a = $to.parent.type.contentMatch.defaultType) === null || _a === void 0 ? void 0 : _a.create();\n                                if (node) {\n                                    tr.insert(posAfter, node);\n                                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(tr.doc, posAfter + 1));\n                                }\n                            }\n                            tr.scrollIntoView();\n                        }\n                        return true;\n                    }).run();\n                }\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.nodeInputRule)({\n                find: /^(?:---|—-|___\\s|\\*\\*\\*\\s)$/,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taG9yaXpvbnRhbC1ydWxlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTtBQUNKO0FBRWhFLE1BQU1LLGlCQUFpQkwsOENBQUlBLENBQUNNLE1BQU0sQ0FBQztJQUMvQkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQyxPQUFPO0lBQ1BDO1FBQ0ksT0FBTztZQUFDO2dCQUFFQyxLQUFLO1lBQUs7U0FBRTtJQUMxQjtJQUNBQyxZQUFXLEVBQUVKLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTVIsNkRBQWVBLENBQUMsSUFBSSxDQUFDYSxPQUFPLENBQUNMLGNBQWMsRUFBRUE7U0FBZ0I7SUFDL0U7SUFDQU07UUFDSSxPQUFPO1lBQ0hDLG1CQUFtQixJQUFNLENBQUMsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUU7b0JBQ3RDLE1BQU0sRUFBRUMsS0FBS0MsU0FBUyxFQUFFLEdBQUdGLE1BQU1HLFNBQVM7b0JBQzFDLE1BQU1DLGVBQWVMO29CQUNyQixJQUFJRyxVQUFVRyxZQUFZLEtBQUssR0FBRzt3QkFDOUJELGFBQWFFLGVBQWUsQ0FBQ0MsS0FBS0MsR0FBRyxDQUFDTixVQUFVTyxHQUFHLEdBQUcsR0FBRyxJQUFJOzRCQUFFQyxNQUFNLElBQUksQ0FBQ3JCLElBQUk7d0JBQUM7b0JBQ25GLE9BQ0s7d0JBQ0RlLGFBQWFPLGFBQWEsQ0FBQzs0QkFBRUQsTUFBTSxJQUFJLENBQUNyQixJQUFJO3dCQUFDO29CQUNqRDtvQkFDQSxPQUFRZSxZQUNKLG1DQUFtQztxQkFDbENRLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLEVBQUUsRUFBRUMsUUFBUSxFQUFFO3dCQUMxQixJQUFJQzt3QkFDSixJQUFJRCxVQUFVOzRCQUNWLE1BQU0sRUFBRWIsR0FBRyxFQUFFLEdBQUdZLEdBQUdWLFNBQVM7NEJBQzVCLE1BQU1hLFdBQVdmLElBQUlnQixHQUFHOzRCQUN4QixJQUFJaEIsSUFBSWlCLFNBQVMsRUFBRTtnQ0FDZixJQUFJakIsSUFBSWlCLFNBQVMsQ0FBQ0MsV0FBVyxFQUFFO29DQUMzQk4sR0FBR08sWUFBWSxDQUFDbkMsMkRBQWFBLENBQUNHLE1BQU0sQ0FBQ3lCLEdBQUdRLEdBQUcsRUFBRXBCLElBQUlRLEdBQUcsR0FBRztnQ0FDM0QsT0FDSyxJQUFJUixJQUFJaUIsU0FBUyxDQUFDSSxPQUFPLEVBQUU7b0NBQzVCVCxHQUFHTyxZQUFZLENBQUNsQywyREFBYUEsQ0FBQ0UsTUFBTSxDQUFDeUIsR0FBR1EsR0FBRyxFQUFFcEIsSUFBSVEsR0FBRztnQ0FDeEQsT0FDSztvQ0FDREksR0FBR08sWUFBWSxDQUFDbkMsMkRBQWFBLENBQUNHLE1BQU0sQ0FBQ3lCLEdBQUdRLEdBQUcsRUFBRXBCLElBQUlRLEdBQUc7Z0NBQ3hEOzRCQUNKLE9BQ0s7Z0NBQ0QsaUVBQWlFO2dDQUNqRSxNQUFNYyxPQUFPLENBQUNSLEtBQUtkLElBQUl1QixNQUFNLENBQUNkLElBQUksQ0FBQ2UsWUFBWSxDQUFDQyxXQUFXLE1BQU0sUUFBUVgsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHM0IsTUFBTTtnQ0FDM0csSUFBSW1DLE1BQU07b0NBQ05WLEdBQUdjLE1BQU0sQ0FBQ1gsVUFBVU87b0NBQ3BCVixHQUFHTyxZQUFZLENBQUNuQywyREFBYUEsQ0FBQ0csTUFBTSxDQUFDeUIsR0FBR1EsR0FBRyxFQUFFTCxXQUFXO2dDQUM1RDs0QkFDSjs0QkFDQUgsR0FBR2UsY0FBYzt3QkFDckI7d0JBQ0EsT0FBTztvQkFDWCxHQUNLQyxHQUFHO2dCQUNaO1FBQ0o7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSDlDLDJEQUFhQSxDQUFDO2dCQUNWK0MsTUFBTTtnQkFDTnJCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtBQUNKO0FBRXFELENBQ3JELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taG9yaXpvbnRhbC1ydWxlL2Rpc3QvaW5kZXguanM/MjcwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlLCBtZXJnZUF0dHJpYnV0ZXMsIG5vZGVJbnB1dFJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgVGV4dFNlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiB9IGZyb20gJ0B0aXB0YXAvcG0vc3RhdGUnO1xuXG5jb25zdCBIb3Jpem9udGFsUnVsZSA9IE5vZGUuY3JlYXRlKHtcclxuICAgIG5hbWU6ICdob3Jpem9udGFsUnVsZScsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdyb3VwOiAnYmxvY2snLFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbeyB0YWc6ICdocicgfV07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydocicsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKV07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0SG9yaXpvbnRhbFJ1bGU6ICgpID0+ICh7IGNoYWluLCBzdGF0ZSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7ICR0bzogJG9yaWdpblRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhaW4gPSBjaGFpbigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRvcmlnaW5Uby5wYXJlbnRPZmZzZXQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2hhaW4uaW5zZXJ0Q29udGVudEF0KE1hdGgubWF4KCRvcmlnaW5Uby5wb3MgLSAyLCAwKSwgeyB0eXBlOiB0aGlzLm5hbWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2hhaW4uaW5zZXJ0Q29udGVudCh7IHR5cGU6IHRoaXMubmFtZSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAoY3VycmVudENoYWluXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGN1cnNvciBhZnRlciBob3Jpem9udGFsIHJ1bGVcclxuICAgICAgICAgICAgICAgICAgICAuY29tbWFuZCgoeyB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyAkdG8gfSA9IHRyLnNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zQWZ0ZXIgPSAkdG8uZW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdG8ubm9kZUFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRvLm5vZGVBZnRlci5pc1RleHRibG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnNldFNlbGVjdGlvbihUZXh0U2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsICR0by5wb3MgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgkdG8ubm9kZUFmdGVyLmlzQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCAkdG8ucG9zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ci5zZXRTZWxlY3Rpb24oVGV4dFNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCAkdG8ucG9zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgbm9kZSBhZnRlciBob3Jpem9udGFsIHJ1bGUgaWYgaXTigJlzIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gKF9hID0gJHRvLnBhcmVudC50eXBlLmNvbnRlbnRNYXRjaC5kZWZhdWx0VHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ci5pbnNlcnQocG9zQWZ0ZXIsIG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnNldFNlbGVjdGlvbihUZXh0U2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHBvc0FmdGVyICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAucnVuKCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkSW5wdXRSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBub2RlSW5wdXRSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IC9eKD86LS0tfOKAlC18X19fXFxzfFxcKlxcKlxcKlxccykkLyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIb3Jpem9udGFsUnVsZSwgSG9yaXpvbnRhbFJ1bGUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTm9kZSIsIm1lcmdlQXR0cmlidXRlcyIsIm5vZGVJbnB1dFJ1bGUiLCJUZXh0U2VsZWN0aW9uIiwiTm9kZVNlbGVjdGlvbiIsIkhvcml6b250YWxSdWxlIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsImdyb3VwIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldEhvcml6b250YWxSdWxlIiwiY2hhaW4iLCJzdGF0ZSIsIiR0byIsIiRvcmlnaW5UbyIsInNlbGVjdGlvbiIsImN1cnJlbnRDaGFpbiIsInBhcmVudE9mZnNldCIsImluc2VydENvbnRlbnRBdCIsIk1hdGgiLCJtYXgiLCJwb3MiLCJ0eXBlIiwiaW5zZXJ0Q29udGVudCIsImNvbW1hbmQiLCJ0ciIsImRpc3BhdGNoIiwiX2EiLCJwb3NBZnRlciIsImVuZCIsIm5vZGVBZnRlciIsImlzVGV4dGJsb2NrIiwic2V0U2VsZWN0aW9uIiwiZG9jIiwiaXNCbG9jayIsIm5vZGUiLCJwYXJlbnQiLCJjb250ZW50TWF0Y2giLCJkZWZhdWx0VHlwZSIsImluc2VydCIsInNjcm9sbEludG9WaWV3IiwicnVuIiwiYWRkSW5wdXRSdWxlcyIsImZpbmQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-horizontal-rule/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-image/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@tiptap/extension-image/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Image: () => (/* binding */ Image),\n/* harmony export */   \"default\": () => (/* binding */ Image),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)(!\\[(.+|:?)]\\((\\S+)(?:(?:\\s+)[\"'](\\S+)[\"'])?\\))$/;\nconst Image = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"image\",\n    addOptions () {\n        return {\n            inline: false,\n            allowBase64: false,\n            HTMLAttributes: {}\n        };\n    },\n    inline () {\n        return this.options.inline;\n    },\n    group () {\n        return this.options.inline ? \"inline\" : \"block\";\n    },\n    draggable: true,\n    addAttributes () {\n        return {\n            src: {\n                default: null\n            },\n            alt: {\n                default: null\n            },\n            title: {\n                default: null\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: this.options.allowBase64 ? \"img[src]\" : 'img[src]:not([src^=\"data:\"])'\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"img\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes)\n        ];\n    },\n    addCommands () {\n        return {\n            setImage: (options)=>({ commands })=>{\n                    return commands.insertContent({\n                        type: this.name,\n                        attrs: options\n                    });\n                }\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.nodeInputRule)({\n                find: inputRegex,\n                type: this.type,\n                getAttributes: (match)=>{\n                    const [, , alt, src, title] = match;\n                    return {\n                        src,\n                        alt,\n                        title\n                    };\n                }\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taW1hZ2UvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9FO0FBRXBFLE1BQU1HLGFBQWE7QUFDbkIsTUFBTUMsUUFBUUosOENBQUlBLENBQUNLLE1BQU0sQ0FBQztJQUN0QkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsUUFBUTtZQUNSQyxhQUFhO1lBQ2JDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUY7UUFDSSxPQUFPLElBQUksQ0FBQ0csT0FBTyxDQUFDSCxNQUFNO0lBQzlCO0lBQ0FJO1FBQ0ksT0FBTyxJQUFJLENBQUNELE9BQU8sQ0FBQ0gsTUFBTSxHQUFHLFdBQVc7SUFDNUM7SUFDQUssV0FBVztJQUNYQztRQUNJLE9BQU87WUFDSEMsS0FBSztnQkFDREMsU0FBUztZQUNiO1lBQ0FDLEtBQUs7Z0JBQ0RELFNBQVM7WUFDYjtZQUNBRSxPQUFPO2dCQUNIRixTQUFTO1lBQ2I7UUFDSjtJQUNKO0lBQ0FHO1FBQ0ksT0FBTztZQUNIO2dCQUNJQyxLQUFLLElBQUksQ0FBQ1QsT0FBTyxDQUFDRixXQUFXLEdBQ3ZCLGFBQ0E7WUFDVjtTQUNIO0lBQ0w7SUFDQVksWUFBVyxFQUFFWCxjQUFjLEVBQUU7UUFDekIsT0FBTztZQUFDO1lBQU9ULDZEQUFlQSxDQUFDLElBQUksQ0FBQ1UsT0FBTyxDQUFDRCxjQUFjLEVBQUVBO1NBQWdCO0lBQ2hGO0lBQ0FZO1FBQ0ksT0FBTztZQUNIQyxVQUFVWixDQUFBQSxVQUFXLENBQUMsRUFBRWEsUUFBUSxFQUFFO29CQUM5QixPQUFPQSxTQUFTQyxhQUFhLENBQUM7d0JBQzFCQyxNQUFNLElBQUksQ0FBQ3BCLElBQUk7d0JBQ2ZxQixPQUFPaEI7b0JBQ1g7Z0JBQ0o7UUFDSjtJQUNKO0lBQ0FpQjtRQUNJLE9BQU87WUFDSDFCLDJEQUFhQSxDQUFDO2dCQUNWMkIsTUFBTTFCO2dCQUNOdUIsTUFBTSxJQUFJLENBQUNBLElBQUk7Z0JBQ2ZJLGVBQWVDLENBQUFBO29CQUNYLE1BQU0sS0FBS2QsS0FBS0YsS0FBS0csTUFBTSxHQUFHYTtvQkFDOUIsT0FBTzt3QkFBRWhCO3dCQUFLRTt3QkFBS0M7b0JBQU07Z0JBQzdCO1lBQ0o7U0FDSDtJQUNMO0FBQ0o7QUFFK0MsQ0FDL0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1pbWFnZS9kaXN0L2luZGV4LmpzPzY3NmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzLCBub2RlSW5wdXRSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgaW5wdXRSZWdleCA9IC8oPzpefFxccykoIVxcWyguK3w6PyldXFwoKFxcUyspKD86KD86XFxzKylbXCInXShcXFMrKVtcIiddKT9cXCkpJC87XHJcbmNvbnN0IEltYWdlID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2ltYWdlJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW5saW5lOiBmYWxzZSxcclxuICAgICAgICAgICAgYWxsb3dCYXNlNjQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBpbmxpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmxpbmU7XHJcbiAgICB9LFxyXG4gICAgZ3JvdXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmxpbmUgPyAnaW5saW5lJyA6ICdibG9jayc7XHJcbiAgICB9LFxyXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgYWRkQXR0cmlidXRlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzcmM6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFsdDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiB0aGlzLm9wdGlvbnMuYWxsb3dCYXNlNjRcclxuICAgICAgICAgICAgICAgICAgICA/ICdpbWdbc3JjXSdcclxuICAgICAgICAgICAgICAgICAgICA6ICdpbWdbc3JjXTpub3QoW3NyY149XCJkYXRhOlwiXSknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydpbWcnLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyldO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldEltYWdlOiBvcHRpb25zID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5pbnNlcnRDb250ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbm9kZUlucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRlczogbWF0Y2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFssICwgYWx0LCBzcmMsIHRpdGxlXSA9IG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNyYywgYWx0LCB0aXRsZSB9O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBJbWFnZSwgSW1hZ2UgYXMgZGVmYXVsdCwgaW5wdXRSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTm9kZSIsIm1lcmdlQXR0cmlidXRlcyIsIm5vZGVJbnB1dFJ1bGUiLCJpbnB1dFJlZ2V4IiwiSW1hZ2UiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsImlubGluZSIsImFsbG93QmFzZTY0IiwiSFRNTEF0dHJpYnV0ZXMiLCJvcHRpb25zIiwiZ3JvdXAiLCJkcmFnZ2FibGUiLCJhZGRBdHRyaWJ1dGVzIiwic3JjIiwiZGVmYXVsdCIsImFsdCIsInRpdGxlIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsImFkZENvbW1hbmRzIiwic2V0SW1hZ2UiLCJjb21tYW5kcyIsImluc2VydENvbnRlbnQiLCJ0eXBlIiwiYXR0cnMiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsImdldEF0dHJpYnV0ZXMiLCJtYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-image/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@tiptap/extension-italic/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Italic: () => (/* binding */ Italic),\n/* harmony export */   \"default\": () => (/* binding */ Italic),\n/* harmony export */   starInputRegex: () => (/* binding */ starInputRegex),\n/* harmony export */   starPasteRegex: () => (/* binding */ starPasteRegex),\n/* harmony export */   underscoreInputRegex: () => (/* binding */ underscoreInputRegex),\n/* harmony export */   underscorePasteRegex: () => (/* binding */ underscorePasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst starInputRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))$/;\nconst starPasteRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))/g;\nconst underscoreInputRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))$/;\nconst underscorePasteRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))/g;\nconst Italic = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"italic\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"em\"\n            },\n            {\n                tag: \"i\",\n                getAttrs: (node)=>node.style.fontStyle !== \"normal\" && null\n            },\n            {\n                style: \"font-style=italic\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"em\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setItalic: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleItalic: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetItalic: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-i\": ()=>this.editor.commands.toggleItalic(),\n            \"Mod-I\": ()=>this.editor.commands.toggleItalic()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: starInputRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: underscoreInputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: starPasteRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: underscorePasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taXRhbGljL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRjtBQUVuRixNQUFNSSxpQkFBaUI7QUFDdkIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsU0FBU1IsOENBQUlBLENBQUNTLE1BQU0sQ0FBQztJQUN2QkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSDtnQkFDSUMsS0FBSztZQUNUO1lBQ0E7Z0JBQ0lBLEtBQUs7Z0JBQ0xDLFVBQVVDLENBQUFBLE9BQVFBLEtBQUtDLEtBQUssQ0FBQ0MsU0FBUyxLQUFLLFlBQVk7WUFDM0Q7WUFDQTtnQkFDSUQsT0FBTztZQUNYO1NBQ0g7SUFDTDtJQUNBRSxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTVgsNkRBQWVBLENBQUMsSUFBSSxDQUFDbUIsT0FBTyxDQUFDUixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDbEY7SUFDQVM7UUFDSSxPQUFPO1lBQ0hDLFdBQVcsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDMUIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2QsSUFBSTtnQkFDckM7WUFDQWUsY0FBYyxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUM3QixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGFBQWEsSUFBTSxDQUFDLEVBQUVKLFFBQVEsRUFBRTtvQkFDNUIsT0FBT0EsU0FBU0ssU0FBUyxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3ZDO1FBQ0o7SUFDSjtJQUNBbUI7UUFDSSxPQUFPO1lBQ0gsU0FBUyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDUCxRQUFRLENBQUNFLFlBQVk7WUFDaEQsU0FBUyxJQUFNLElBQUksQ0FBQ0ssTUFBTSxDQUFDUCxRQUFRLENBQUNFLFlBQVk7UUFDcEQ7SUFDSjtJQUNBTTtRQUNJLE9BQU87WUFDSDdCLDJEQUFhQSxDQUFDO2dCQUNWOEIsTUFBTTVCO2dCQUNONkIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7WUFDQS9CLDJEQUFhQSxDQUFDO2dCQUNWOEIsTUFBTTFCO2dCQUNOMkIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0lBQ0FDO1FBQ0ksT0FBTztZQUNIL0IsMkRBQWFBLENBQUM7Z0JBQ1Y2QixNQUFNM0I7Z0JBQ040QixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtZQUNBOUIsMkRBQWFBLENBQUM7Z0JBQ1Y2QixNQUFNekI7Z0JBQ04wQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7QUFDSjtBQUVpSCxDQUNqSCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWl0YWxpYy9kaXN0L2luZGV4LmpzPzEzNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3Qgc3RhcklucHV0UmVnZXggPSAvKD86XnxcXHMpKCg/OlxcKikoKD86W14qXSspKSg/OlxcKikpJC87XHJcbmNvbnN0IHN0YXJQYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpcXCopKCg/OlteKl0rKSkoPzpcXCopKS9nO1xyXG5jb25zdCB1bmRlcnNjb3JlSW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86XykoKD86W15fXSspKSg/Ol8pKSQvO1xyXG5jb25zdCB1bmRlcnNjb3JlUGFzdGVSZWdleCA9IC8oPzpefFxccykoKD86XykoKD86W15fXSspKSg/Ol8pKS9nO1xyXG5jb25zdCBJdGFsaWMgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnaXRhbGljJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ2VtJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAnaScsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogbm9kZSA9PiBub2RlLnN0eWxlLmZvbnRTdHlsZSAhPT0gJ25vcm1hbCcgJiYgbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXN0eWxlPWl0YWxpYycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXMgfSkge1xyXG4gICAgICAgIHJldHVybiBbJ2VtJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRJdGFsaWM6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUl0YWxpYzogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnRvZ2dsZU1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zZXRJdGFsaWM6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtaSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUl0YWxpYygpLFxyXG4gICAgICAgICAgICAnTW9kLUknOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVJdGFsaWMoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBzdGFySW5wdXRSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1hcmtJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogdW5kZXJzY29yZUlucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgYWRkUGFzdGVSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBtYXJrUGFzdGVSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IHN0YXJQYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiB1bmRlcnNjb3JlUGFzdGVSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBJdGFsaWMsIEl0YWxpYyBhcyBkZWZhdWx0LCBzdGFySW5wdXRSZWdleCwgc3RhclBhc3RlUmVnZXgsIHVuZGVyc2NvcmVJbnB1dFJlZ2V4LCB1bmRlcnNjb3JlUGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwic3RhcklucHV0UmVnZXgiLCJzdGFyUGFzdGVSZWdleCIsInVuZGVyc2NvcmVJbnB1dFJlZ2V4IiwidW5kZXJzY29yZVBhc3RlUmVnZXgiLCJJdGFsaWMiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwicGFyc2VIVE1MIiwidGFnIiwiZ2V0QXR0cnMiLCJub2RlIiwic3R5bGUiLCJmb250U3R5bGUiLCJyZW5kZXJIVE1MIiwib3B0aW9ucyIsImFkZENvbW1hbmRzIiwic2V0SXRhbGljIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlSXRhbGljIiwidG9nZ2xlTWFyayIsInVuc2V0SXRhbGljIiwidW5zZXRNYXJrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsInR5cGUiLCJhZGRQYXN0ZVJ1bGVzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-link/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-link/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Link: () => (/* binding */ Link),\n/* harmony export */   \"default\": () => (/* binding */ Link)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var linkifyjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! linkifyjs */ \"(ssr)/./node_modules/linkifyjs/dist/linkify.es.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n\n\n\nfunction autolink(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"autolink\"),\n        appendTransaction: (transactions, oldState, newState)=>{\n            const docChanges = transactions.some((transaction)=>transaction.docChanged) && !oldState.doc.eq(newState.doc);\n            const preventAutolink = transactions.some((transaction)=>transaction.getMeta(\"preventAutolink\"));\n            if (!docChanges || preventAutolink) {\n                return;\n            }\n            const { tr } = newState;\n            const transform = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.combineTransactionSteps)(oldState.doc, [\n                ...transactions\n            ]);\n            const changes = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getChangedRanges)(transform);\n            changes.forEach(({ newRange })=>{\n                // Now let’s see if we can add new links.\n                const nodesInChangedRanges = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildrenInRange)(newState.doc, newRange, (node)=>node.isTextblock);\n                let textBlock;\n                let textBeforeWhitespace;\n                if (nodesInChangedRanges.length > 1) {\n                    // Grab the first node within the changed ranges (ex. the first of two paragraphs when hitting enter).\n                    textBlock = nodesInChangedRanges[0];\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, textBlock.pos + textBlock.node.nodeSize, undefined, \" \");\n                } else if (nodesInChangedRanges.length && newState.doc.textBetween(newRange.from, newRange.to, \" \", \" \").endsWith(\" \")) {\n                    textBlock = nodesInChangedRanges[0];\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, newRange.to, undefined, \" \");\n                }\n                if (textBlock && textBeforeWhitespace) {\n                    const wordsBeforeWhitespace = textBeforeWhitespace.split(\" \").filter((s)=>s !== \"\");\n                    if (wordsBeforeWhitespace.length <= 0) {\n                        return false;\n                    }\n                    const lastWordBeforeSpace = wordsBeforeWhitespace[wordsBeforeWhitespace.length - 1];\n                    const lastWordAndBlockOffset = textBlock.pos + textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace);\n                    if (!lastWordBeforeSpace) {\n                        return false;\n                    }\n                    (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(lastWordBeforeSpace).filter((link)=>link.isLink)// Calculate link position.\n                    .map((link)=>({\n                            ...link,\n                            from: lastWordAndBlockOffset + link.start + 1,\n                            to: lastWordAndBlockOffset + link.end + 1\n                        }))// ignore link inside code mark\n                    .filter((link)=>{\n                        if (!newState.schema.marks.code) {\n                            return true;\n                        }\n                        return !newState.doc.rangeHasMark(link.from, link.to, newState.schema.marks.code);\n                    })// validate link\n                    .filter((link)=>{\n                        if (options.validate) {\n                            return options.validate(link.value);\n                        }\n                        return true;\n                    })// Add link mark.\n                    .forEach((link)=>{\n                        if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarksBetween)(link.from, link.to, newState.doc).some((item)=>item.mark.type === options.type)) {\n                            return;\n                        }\n                        tr.addMark(link.from, link.to, options.type.create({\n                            href: link.href\n                        }));\n                    });\n                }\n            });\n            if (!tr.steps.length) {\n                return;\n            }\n            return tr;\n        }\n    });\n}\nfunction clickHandler(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"handleClickLink\"),\n        props: {\n            handleClick: (view, pos, event)=>{\n                var _a, _b;\n                if (event.button !== 0) {\n                    return false;\n                }\n                const eventTarget = event.target;\n                if (eventTarget.nodeName !== \"A\") {\n                    return false;\n                }\n                const attrs = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributes)(view.state, options.type.name);\n                const link = event.target;\n                const href = (_a = link === null || link === void 0 ? void 0 : link.href) !== null && _a !== void 0 ? _a : attrs.href;\n                const target = (_b = link === null || link === void 0 ? void 0 : link.target) !== null && _b !== void 0 ? _b : attrs.target;\n                if (link && href) {\n                    if (view.editable) {\n                        window.open(href, target);\n                    }\n                    return true;\n                }\n                return false;\n            }\n        }\n    });\n}\nfunction pasteHandler(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"handlePasteLink\"),\n        props: {\n            handlePaste: (view, event, slice)=>{\n                var _a;\n                const { state } = view;\n                const { selection } = state;\n                const { empty } = selection;\n                if (empty) {\n                    return false;\n                }\n                let textContent = \"\";\n                slice.content.forEach((node)=>{\n                    textContent += node.textContent;\n                });\n                const link = (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(textContent).find((item)=>item.isLink && item.value === textContent);\n                if (!textContent || !link) {\n                    return false;\n                }\n                const html = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData(\"text/html\");\n                const hrefRegex = /href=\"([^\"]*)\"/;\n                const existingLink = html === null || html === void 0 ? void 0 : html.match(hrefRegex);\n                const url = existingLink ? existingLink[1] : link.href;\n                options.editor.commands.setMark(options.type, {\n                    href: url\n                });\n                return true;\n            }\n        }\n    });\n}\nconst Link = _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Mark.create({\n    name: \"link\",\n    priority: 1000,\n    keepOnSplit: false,\n    onCreate () {\n        this.options.protocols.forEach((protocol)=>{\n            if (typeof protocol === \"string\") {\n                (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomProtocol)(protocol);\n                return;\n            }\n            (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomProtocol)(protocol.scheme, protocol.optionalSlashes);\n        });\n    },\n    onDestroy () {\n        (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.reset)();\n    },\n    inclusive () {\n        return this.options.autolink;\n    },\n    addOptions () {\n        return {\n            openOnClick: true,\n            linkOnPaste: true,\n            autolink: true,\n            protocols: [],\n            HTMLAttributes: {\n                target: \"_blank\",\n                rel: \"noopener noreferrer nofollow\",\n                class: null\n            },\n            validate: undefined\n        };\n    },\n    addAttributes () {\n        return {\n            href: {\n                default: null\n            },\n            target: {\n                default: this.options.HTMLAttributes.target\n            },\n            rel: {\n                default: this.options.HTMLAttributes.rel\n            },\n            class: {\n                default: this.options.HTMLAttributes.class\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: 'a[href]:not([href *= \"javascript:\" i])'\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        var _a;\n        // False positive; we're explicitly checking for javascript: links to ignore them\n        // eslint-disable-next-line no-script-url\n        if ((_a = HTMLAttributes.href) === null || _a === void 0 ? void 0 : _a.startsWith(\"javascript:\")) {\n            // strip out the href\n            return [\n                \"a\",\n                (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes)(this.options.HTMLAttributes, {\n                    ...HTMLAttributes,\n                    href: \"\"\n                }),\n                0\n            ];\n        }\n        return [\n            \"a\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setLink: (attributes)=>({ chain })=>{\n                    return chain().setMark(this.name, attributes).setMeta(\"preventAutolink\", true).run();\n                },\n            toggleLink: (attributes)=>({ chain })=>{\n                    return chain().toggleMark(this.name, attributes, {\n                        extendEmptyMarkRange: true\n                    }).setMeta(\"preventAutolink\", true).run();\n                },\n            unsetLink: ()=>({ chain })=>{\n                    return chain().unsetMark(this.name, {\n                        extendEmptyMarkRange: true\n                    }).setMeta(\"preventAutolink\", true).run();\n                }\n        };\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markPasteRule)({\n                find: (text)=>(0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(text).filter((link)=>{\n                        if (this.options.validate) {\n                            return this.options.validate(link.value);\n                        }\n                        return true;\n                    }).filter((link)=>link.isLink).map((link)=>({\n                            text: link.value,\n                            index: link.start,\n                            data: link\n                        })),\n                type: this.type,\n                getAttributes: (match, pasteEvent)=>{\n                    var _a, _b;\n                    const html = (_a = pasteEvent === null || pasteEvent === void 0 ? void 0 : pasteEvent.clipboardData) === null || _a === void 0 ? void 0 : _a.getData(\"text/html\");\n                    const hrefRegex = /href=\"([^\"]*)\"/;\n                    const existingLink = html === null || html === void 0 ? void 0 : html.match(hrefRegex);\n                    if (existingLink) {\n                        return {\n                            href: existingLink[1]\n                        };\n                    }\n                    return {\n                        href: (_b = match.data) === null || _b === void 0 ? void 0 : _b.href\n                    };\n                }\n            })\n        ];\n    },\n    addProseMirrorPlugins () {\n        const plugins = [];\n        if (this.options.autolink) {\n            plugins.push(autolink({\n                type: this.type,\n                validate: this.options.validate\n            }));\n        }\n        if (this.options.openOnClick) {\n            plugins.push(clickHandler({\n                type: this.type\n            }));\n        }\n        if (this.options.linkOnPaste) {\n            plugins.push(pasteHandler({\n                editor: this.editor,\n                type: this.type\n            }));\n        }\n        return plugins;\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tbGluay9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9LO0FBQ3BHO0FBQ1g7QUFFckQsU0FBU2EsU0FBU0MsT0FBTztJQUNyQixPQUFPLElBQUlILG9EQUFNQSxDQUFDO1FBQ2RJLEtBQUssSUFBSUgsdURBQVNBLENBQUM7UUFDbkJJLG1CQUFtQixDQUFDQyxjQUFjQyxVQUFVQztZQUN4QyxNQUFNQyxhQUFhSCxhQUFhSSxJQUFJLENBQUNDLENBQUFBLGNBQWVBLFlBQVlDLFVBQVUsS0FBSyxDQUFDTCxTQUFTTSxHQUFHLENBQUNDLEVBQUUsQ0FBQ04sU0FBU0ssR0FBRztZQUM1RyxNQUFNRSxrQkFBa0JULGFBQWFJLElBQUksQ0FBQ0MsQ0FBQUEsY0FBZUEsWUFBWUssT0FBTyxDQUFDO1lBQzdFLElBQUksQ0FBQ1AsY0FBY00saUJBQWlCO2dCQUNoQztZQUNKO1lBQ0EsTUFBTSxFQUFFRSxFQUFFLEVBQUUsR0FBR1Q7WUFDZixNQUFNVSxZQUFZN0IscUVBQXVCQSxDQUFDa0IsU0FBU00sR0FBRyxFQUFFO21CQUFJUDthQUFhO1lBQ3pFLE1BQU1hLFVBQVU3Qiw4REFBZ0JBLENBQUM0QjtZQUNqQ0MsUUFBUUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsUUFBUSxFQUFFO2dCQUN6Qix5Q0FBeUM7Z0JBQ3pDLE1BQU1DLHVCQUF1Qi9CLGlFQUFtQkEsQ0FBQ2lCLFNBQVNLLEdBQUcsRUFBRVEsVUFBVUUsQ0FBQUEsT0FBUUEsS0FBS0MsV0FBVztnQkFDakcsSUFBSUM7Z0JBQ0osSUFBSUM7Z0JBQ0osSUFBSUoscUJBQXFCSyxNQUFNLEdBQUcsR0FBRztvQkFDakMsc0dBQXNHO29CQUN0R0YsWUFBWUgsb0JBQW9CLENBQUMsRUFBRTtvQkFDbkNJLHVCQUF1QmxCLFNBQVNLLEdBQUcsQ0FBQ2UsV0FBVyxDQUFDSCxVQUFVSSxHQUFHLEVBQUVKLFVBQVVJLEdBQUcsR0FBR0osVUFB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cmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1saW5rL2Rpc3QvaW5kZXguanM/MDUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcywgZ2V0Q2hhbmdlZFJhbmdlcywgZmluZENoaWxkcmVuSW5SYW5nZSwgZ2V0TWFya3NCZXR3ZWVuLCBnZXRBdHRyaWJ1dGVzLCBNYXJrLCBtZXJnZUF0dHJpYnV0ZXMsIG1hcmtQYXN0ZVJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgZmluZCwgcmVnaXN0ZXJDdXN0b21Qcm90b2NvbCwgcmVzZXQgfSBmcm9tICdsaW5raWZ5anMnO1xuaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5LZXkgfSBmcm9tICdAdGlwdGFwL3BtL3N0YXRlJztcblxuZnVuY3Rpb24gYXV0b2xpbmsob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnYXV0b2xpbmsnKSxcclxuICAgICAgICBhcHBlbmRUcmFuc2FjdGlvbjogKHRyYW5zYWN0aW9ucywgb2xkU3RhdGUsIG5ld1N0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvY0NoYW5nZXMgPSB0cmFuc2FjdGlvbnMuc29tZSh0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5kb2NDaGFuZ2VkKSAmJiAhb2xkU3RhdGUuZG9jLmVxKG5ld1N0YXRlLmRvYyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZlbnRBdXRvbGluayA9IHRyYW5zYWN0aW9ucy5zb21lKHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLmdldE1ldGEoJ3ByZXZlbnRBdXRvbGluaycpKTtcclxuICAgICAgICAgICAgaWYgKCFkb2NDaGFuZ2VzIHx8IHByZXZlbnRBdXRvbGluaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdHIgfSA9IG5ld1N0YXRlO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcyhvbGRTdGF0ZS5kb2MsIFsuLi50cmFuc2FjdGlvbnNdKTtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IGdldENoYW5nZWRSYW5nZXModHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgY2hhbmdlcy5mb3JFYWNoKCh7IG5ld1JhbmdlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdyBsZXTigJlzIHNlZSBpZiB3ZSBjYW4gYWRkIG5ldyBsaW5rcy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzSW5DaGFuZ2VkUmFuZ2VzID0gZmluZENoaWxkcmVuSW5SYW5nZShuZXdTdGF0ZS5kb2MsIG5ld1JhbmdlLCBub2RlID0+IG5vZGUuaXNUZXh0YmxvY2spO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHRCbG9jaztcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0QmVmb3JlV2hpdGVzcGFjZTtcclxuICAgICAgICAgICAgICAgIGlmIChub2Rlc0luQ2hhbmdlZFJhbmdlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgZmlyc3Qgbm9kZSB3aXRoaW4gdGhlIGNoYW5nZWQgcmFuZ2VzIChleC4gdGhlIGZpcnN0IG9mIHR3byBwYXJhZ3JhcGhzIHdoZW4gaGl0dGluZyBlbnRlcikuXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJsb2NrID0gbm9kZXNJbkNoYW5nZWRSYW5nZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJlZm9yZVdoaXRlc3BhY2UgPSBuZXdTdGF0ZS5kb2MudGV4dEJldHdlZW4odGV4dEJsb2NrLnBvcywgdGV4dEJsb2NrLnBvcyArIHRleHRCbG9jay5ub2RlLm5vZGVTaXplLCB1bmRlZmluZWQsICcgJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2Rlc0luQ2hhbmdlZFJhbmdlcy5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSB0byBpbmNsdWRlIHRoZSBibG9jayBzZXBlcmF0b3IgYXJndW1lbnQgdG8gdHJlYXQgaGFyZCBicmVha3MgbGlrZSBzcGFjZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbmV3U3RhdGUuZG9jLnRleHRCZXR3ZWVuKG5ld1JhbmdlLmZyb20sIG5ld1JhbmdlLnRvLCAnICcsICcgJykuZW5kc1dpdGgoJyAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCbG9jayA9IG5vZGVzSW5DaGFuZ2VkUmFuZ2VzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCZWZvcmVXaGl0ZXNwYWNlID0gbmV3U3RhdGUuZG9jLnRleHRCZXR3ZWVuKHRleHRCbG9jay5wb3MsIG5ld1JhbmdlLnRvLCB1bmRlZmluZWQsICcgJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEJsb2NrICYmIHRleHRCZWZvcmVXaGl0ZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHNCZWZvcmVXaGl0ZXNwYWNlID0gdGV4dEJlZm9yZVdoaXRlc3BhY2Uuc3BsaXQoJyAnKS5maWx0ZXIocyA9PiBzICE9PSAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRzQmVmb3JlV2hpdGVzcGFjZS5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RXb3JkQmVmb3JlU3BhY2UgPSB3b3Jkc0JlZm9yZVdoaXRlc3BhY2Vbd29yZHNCZWZvcmVXaGl0ZXNwYWNlLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RXb3JkQW5kQmxvY2tPZmZzZXQgPSB0ZXh0QmxvY2sucG9zICsgdGV4dEJlZm9yZVdoaXRlc3BhY2UubGFzdEluZGV4T2YobGFzdFdvcmRCZWZvcmVTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXN0V29yZEJlZm9yZVNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZChsYXN0V29yZEJlZm9yZVNwYWNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4gbGluay5pc0xpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBsaW5rIHBvc2l0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGxpbmsgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGluayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogbGFzdFdvcmRBbmRCbG9ja09mZnNldCArIGxpbmsuc3RhcnQgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogbGFzdFdvcmRBbmRCbG9ja09mZnNldCArIGxpbmsuZW5kICsgMSxcclxuICAgICAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGxpbmsgaW5zaWRlIGNvZGUgbWFya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1N0YXRlLnNjaGVtYS5tYXJrcy5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5ld1N0YXRlLmRvYy5yYW5nZUhhc01hcmsobGluay5mcm9tLCBsaW5rLnRvLCBuZXdTdGF0ZS5zY2hlbWEubWFya3MuY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFsaWRhdGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy52YWxpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudmFsaWRhdGUobGluay52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGxpbmsgbWFyay5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXJrc0JldHdlZW4obGluay5mcm9tLCBsaW5rLnRvLCBuZXdTdGF0ZS5kb2MpLnNvbWUoaXRlbSA9PiBpdGVtLm1hcmsudHlwZSA9PT0gb3B0aW9ucy50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsobGluay5mcm9tLCBsaW5rLnRvLCBvcHRpb25zLnR5cGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGxpbmsuaHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCF0ci5zdGVwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHI7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlcihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IFBsdWdpbih7XHJcbiAgICAgICAga2V5OiBuZXcgUGx1Z2luS2V5KCdoYW5kbGVDbGlja0xpbmsnKSxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICBoYW5kbGVDbGljazogKHZpZXcsIHBvcywgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRUYXJnZXQubm9kZU5hbWUgIT09ICdBJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJzID0gZ2V0QXR0cmlidXRlcyh2aWV3LnN0YXRlLCBvcHRpb25zLnR5cGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IChfYSA9IGxpbmsgPT09IG51bGwgfHwgbGluayA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGluay5ocmVmKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhdHRycy5ocmVmO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKF9iID0gbGluayA9PT0gbnVsbCB8fCBsaW5rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaW5rLnRhcmdldCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogYXR0cnMudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmsgJiYgaHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3LmVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBwYXN0ZUhhbmRsZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnaGFuZGxlUGFzdGVMaW5rJyksXHJcbiAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgaGFuZGxlUGFzdGU6ICh2aWV3LCBldmVudCwgc2xpY2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHZpZXc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVtcHR5IH0gPSBzZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICAgICAgICAgIHNsaWNlLmNvbnRlbnQuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCArPSBub2RlLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZmluZCh0ZXh0Q29udGVudCkuZmluZChpdGVtID0+IGl0ZW0uaXNMaW5rICYmIGl0ZW0udmFsdWUgPT09IHRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgICAgIGlmICghdGV4dENvbnRlbnQgfHwgIWxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gKF9hID0gZXZlbnQuY2xpcGJvYXJkRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERhdGEoJ3RleHQvaHRtbCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaHJlZlJlZ2V4ID0gL2hyZWY9XCIoW15cIl0qKVwiLztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTGluayA9IGh0bWwgPT09IG51bGwgfHwgaHRtbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaHRtbC5tYXRjaChocmVmUmVnZXgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZXhpc3RpbmdMaW5rID8gZXhpc3RpbmdMaW5rWzFdIDogbGluay5ocmVmO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lZGl0b3IuY29tbWFuZHMuc2V0TWFyayhvcHRpb25zLnR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBocmVmOiB1cmwsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBMaW5rID0gTWFyay5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2xpbmsnLFxyXG4gICAgcHJpb3JpdHk6IDEwMDAsXHJcbiAgICBrZWVwT25TcGxpdDogZmFsc2UsXHJcbiAgICBvbkNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMucHJvdG9jb2xzLmZvckVhY2gocHJvdG9jb2wgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvY29sID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJDdXN0b21Qcm90b2NvbChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVnaXN0ZXJDdXN0b21Qcm90b2NvbChwcm90b2NvbC5zY2hlbWUsIHByb3RvY29sLm9wdGlvbmFsU2xhc2hlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIHJlc2V0KCk7XHJcbiAgICB9LFxyXG4gICAgaW5jbHVzaXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXV0b2xpbms7XHJcbiAgICB9LFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBvcGVuT25DbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgbGlua09uUGFzdGU6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9saW5rOiB0cnVlLFxyXG4gICAgICAgICAgICBwcm90b2NvbHM6IFtdLFxyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcclxuICAgICAgICAgICAgICAgIHJlbDogJ25vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3cnLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6IG51bGwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZhbGlkYXRlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhyZWY6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRhcmdldDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLnRhcmdldCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVsOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMucmVsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjbGFzczoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLmNsYXNzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbeyB0YWc6ICdhW2hyZWZdOm5vdChbaHJlZiAqPSBcImphdmFzY3JpcHQ6XCIgaV0pJyB9XTtcclxuICAgIH0sXHJcbiAgICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXMgfSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAvLyBGYWxzZSBwb3NpdGl2ZTsgd2UncmUgZXhwbGljaXRseSBjaGVja2luZyBmb3IgamF2YXNjcmlwdDogbGlua3MgdG8gaWdub3JlIHRoZW1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2NyaXB0LXVybFxyXG4gICAgICAgIGlmICgoX2EgPSBIVE1MQXR0cmlidXRlcy5ocmVmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRzV2l0aCgnamF2YXNjcmlwdDonKSkge1xyXG4gICAgICAgICAgICAvLyBzdHJpcCBvdXQgdGhlIGhyZWZcclxuICAgICAgICAgICAgcmV0dXJuIFsnYScsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIHsgLi4uSFRNTEF0dHJpYnV0ZXMsIGhyZWY6ICcnIH0pLCAwXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFsnYScsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0TGluazogYXR0cmlidXRlcyA9PiAoeyBjaGFpbiB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhaW4oKS5zZXRNYXJrKHRoaXMubmFtZSwgYXR0cmlidXRlcykuc2V0TWV0YSgncHJldmVudEF1dG9saW5rJywgdHJ1ZSkucnVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUxpbms6IGF0dHJpYnV0ZXMgPT4gKHsgY2hhaW4gfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYWluKClcclxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlTWFyayh0aGlzLm5hbWUsIGF0dHJpYnV0ZXMsIHsgZXh0ZW5kRW1wdHlNYXJrUmFuZ2U6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0TWV0YSgncHJldmVudEF1dG9saW5rJywgdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAucnVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0TGluazogKCkgPT4gKHsgY2hhaW4gfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYWluKClcclxuICAgICAgICAgICAgICAgICAgICAudW5zZXRNYXJrKHRoaXMubmFtZSwgeyBleHRlbmRFbXB0eU1hcmtSYW5nZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdwcmV2ZW50QXV0b2xpbmsnLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC5ydW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiB0ZXh0ID0+IGZpbmQodGV4dClcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmFsaWRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy52YWxpZGF0ZShsaW5rLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobGluayA9PiBsaW5rLmlzTGluaylcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGxpbmsgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsaW5rLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBsaW5rLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGxpbmssXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVzOiAobWF0Y2gsIHBhc3RlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAoX2EgPSBwYXN0ZUV2ZW50ID09PSBudWxsIHx8IHBhc3RlRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhc3RlRXZlbnQuY2xpcGJvYXJkRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERhdGEoJ3RleHQvaHRtbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhyZWZSZWdleCA9IC9ocmVmPVwiKFteXCJdKilcIi87XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMaW5rID0gaHRtbCA9PT0gbnVsbCB8fCBodG1sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBodG1sLm1hdGNoKGhyZWZSZWdleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nTGluaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogZXhpc3RpbmdMaW5rWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAoX2IgPSBtYXRjaC5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaHJlZixcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b2xpbmspIHtcclxuICAgICAgICAgICAgcGx1Z2lucy5wdXNoKGF1dG9saW5rKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiB0aGlzLm9wdGlvbnMudmFsaWRhdGUsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vcGVuT25DbGljaykge1xyXG4gICAgICAgICAgICBwbHVnaW5zLnB1c2goY2xpY2tIYW5kbGVyKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpbmtPblBhc3RlKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbnMucHVzaChwYXN0ZUhhbmRsZXIoe1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLmVkaXRvcixcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGx1Z2lucztcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBMaW5rLCBMaW5rIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbWJpbmVUcmFuc2FjdGlvblN0ZXBzIiwiZ2V0Q2hhbmdlZFJhbmdlcyIsImZpbmRDaGlsZHJlbkluUmFuZ2UiLCJnZXRNYXJrc0JldHdlZW4iLCJnZXRBdHRyaWJ1dGVzIiwiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtQYXN0ZVJ1bGUiLCJmaW5kIiwicmVnaXN0ZXJDdXN0b21Qcm90b2NvbCIsInJlc2V0IiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwiYXV0b2xpbmsiLCJvcHRpb25zIiwia2V5IiwiYXBwZW5kVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbnMiLCJvbGRTdGF0ZSIsIm5ld1N0YXRlIiwiZG9jQ2hhbmdlcyIsInNvbWUiLCJ0cmFuc2FjdGlvbiIsImRvY0NoYW5nZWQiLCJkb2MiLCJlcSIsInByZXZlbnRBdXRvbGluayIsImdldE1ldGEiLCJ0ciIsInRyYW5zZm9ybSIsImNoYW5nZXMiLCJmb3JFYWNoIiwibmV3UmFuZ2UiLCJub2Rlc0luQ2hhbmdlZFJhbmdlcyIsIm5vZGUiLCJpc1RleHRibG9jayIsInRleHRCbG9jayIsInRleHRCZWZvcmVXaGl0ZXNwYWNlIiwibGVuZ3RoIiwidGV4dEJldHdlZW4iLCJwb3MiLCJub2RlU2l6ZSIsInVuZGVmaW5lZCIsImZyb20iLCJ0byIsImVuZHNXaXRoIiwid29yZHNCZWZvcmVXaGl0ZXNwYWNlIiwic3BsaXQiLCJmaWx0ZXIiLCJzIiwibGFzdFdvcmRCZWZvcmVTcGFjZSIsImxhc3RXb3JkQW5kQmxvY2tPZmZzZXQiLCJsYXN0SW5kZXhPZiIsImxpbmsiLCJpc0xpbmsiLCJtYXAiLCJzdGFydCIsImVuZCIsInNjaGVtYSIsIm1hcmtzIiwiY29kZSIsInJhbmdlSGFzTWFyayIsInZhbGlkYXRlIiwidmFsdWUiLCJpdGVtIiwibWFyayIsInR5cGUiLCJhZGRNYXJrIiwiY3JlYXRlIiwiaHJlZiIsInN0ZXBzIiwiY2xpY2tIYW5kbGVyIiwicHJvcHMiLCJoYW5kbGVDbGljayIsInZpZXciLCJldmVudCIsIl9hIiwiX2IiLCJidXR0b24iLCJldmVudFRhcmdldCIsInRhcmdldCIsIm5vZGVOYW1lIiwiYXR0cnMiLCJzdGF0ZSIsIm5hbWUiLCJlZGl0YWJsZSIsIndpbmRvdyIsIm9wZW4iLCJwYXN0ZUhhbmRsZXIiLCJoYW5kbGVQYXN0ZSIsInNsaWNlIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJ0ZXh0Q29udGVudCIsImNvbnRlbnQiLCJodG1sIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJocmVmUmVnZXgiLCJleGlzdGluZ0xpbmsiLCJtYXRjaCIsInVybCIsImVkaXRvciIsImNvbW1hbmRzIiwic2V0TWFyayIsIkxpbmsiLCJwcmlvcml0eSIsImtlZXBPblNwbGl0Iiwib25DcmVhdGUiLCJwcm90b2NvbHMiLCJwcm90b2NvbCIsInNjaGVtZSIsIm9wdGlvbmFsU2xhc2hlcyIsIm9uRGVzdHJveSIsImluY2x1c2l2ZSIsImFkZE9wdGlvbnMiLCJvcGVuT25DbGljayIsImxpbmtPblBhc3RlIiwiSFRNTEF0dHJpYnV0ZXMiLCJyZWwiLCJjbGFzcyIsImFkZEF0dHJpYnV0ZXMiLCJkZWZhdWx0IiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsInN0YXJ0c1dpdGgiLCJhZGRDb21tYW5kcyIsInNldExpbmsiLCJhdHRyaWJ1dGVzIiwiY2hhaW4iLCJzZXRNZXRhIiwicnVuIiwidG9nZ2xlTGluayIsInRvZ2dsZU1hcmsiLCJleHRlbmRFbXB0eU1hcmtSYW5nZSIsInVuc2V0TGluayIsInVuc2V0TWFyayIsImFkZFBhc3RlUnVsZXMiLCJ0ZXh0IiwiaW5kZXgiLCJkYXRhIiwicGFzdGVFdmVudCIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsInBsdWdpbnMiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-link/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-list-item/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-list-item/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ListItem: () => (/* binding */ ListItem),\n/* harmony export */   \"default\": () => (/* binding */ ListItem)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst ListItem = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"listItem\",\n    addOptions () {\n        return {\n            HTMLAttributes: {},\n            bulletListTypeName: \"bulletList\",\n            orderedListTypeName: \"orderedList\"\n        };\n    },\n    content: \"paragraph block*\",\n    defining: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"li\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"li\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addKeyboardShortcuts () {\n        return {\n            Enter: ()=>this.editor.commands.splitListItem(this.name),\n            Tab: ()=>this.editor.commands.sinkListItem(this.name),\n            \"Shift-Tab\": ()=>this.editor.commands.liftListItem(this.name)\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tbGlzdC1pdGVtL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLFdBQVdGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDekJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1lBQ2pCQyxvQkFBb0I7WUFDcEJDLHFCQUFxQjtRQUN6QjtJQUNKO0lBQ0FDLFNBQVM7SUFDVEMsVUFBVTtJQUNWQztRQUNJLE9BQU87WUFDSDtnQkFDSUMsS0FBSztZQUNUO1NBQ0g7SUFDTDtJQUNBQyxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTUwsNkRBQWVBLENBQUMsSUFBSSxDQUFDYSxPQUFPLENBQUNSLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUNsRjtJQUNBUztRQUNJLE9BQU87WUFDSEMsT0FBTyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxJQUFJLENBQUNmLElBQUk7WUFDekRnQixLQUFLLElBQU0sSUFBSSxDQUFDSCxNQUFNLENBQUNDLFFBQVEsQ0FBQ0csWUFBWSxDQUFDLElBQUksQ0FBQ2pCLElBQUk7WUFDdEQsYUFBYSxJQUFNLElBQUksQ0FBQ2EsTUFBTSxDQUFDQyxRQUFRLENBQUNJLFlBQVksQ0FBQyxJQUFJLENBQUNsQixJQUFJO1FBQ2xFO0lBQ0o7QUFDSjtBQUV5QyxDQUN6QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWxpc3QtaXRlbS9kaXN0L2luZGV4LmpzPzVlMjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgTGlzdEl0ZW0gPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnbGlzdEl0ZW0nLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgICAgIGJ1bGxldExpc3RUeXBlTmFtZTogJ2J1bGxldExpc3QnLFxyXG4gICAgICAgICAgICBvcmRlcmVkTGlzdFR5cGVOYW1lOiAnb3JkZXJlZExpc3QnLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29udGVudDogJ3BhcmFncmFwaCBibG9jayonLFxyXG4gICAgZGVmaW5pbmc6IHRydWUsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAnbGknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydsaScsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgRW50ZXI6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNwbGl0TGlzdEl0ZW0odGhpcy5uYW1lKSxcclxuICAgICAgICAgICAgVGFiOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5zaW5rTGlzdEl0ZW0odGhpcy5uYW1lKSxcclxuICAgICAgICAgICAgJ1NoaWZ0LVRhYic6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmxpZnRMaXN0SXRlbSh0aGlzLm5hbWUpLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgTGlzdEl0ZW0sIExpc3RJdGVtIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJMaXN0SXRlbSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJidWxsZXRMaXN0VHlwZU5hbWUiLCJvcmRlcmVkTGlzdFR5cGVOYW1lIiwiY29udGVudCIsImRlZmluaW5nIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsIkVudGVyIiwiZWRpdG9yIiwiY29tbWFuZHMiLCJzcGxpdExpc3RJdGVtIiwiVGFiIiwic2lua0xpc3RJdGVtIiwibGlmdExpc3RJdGVtIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-list-item/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-ordered-list/dist/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@tiptap/extension-ordered-list/dist/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrderedList: () => (/* binding */ OrderedList),\n/* harmony export */   \"default\": () => (/* binding */ OrderedList),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst ListItem = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"listItem\",\n    addOptions () {\n        return {\n            HTMLAttributes: {},\n            bulletListTypeName: \"bulletList\",\n            orderedListTypeName: \"orderedList\"\n        };\n    },\n    content: \"paragraph block*\",\n    defining: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"li\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"li\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addKeyboardShortcuts () {\n        return {\n            Enter: ()=>this.editor.commands.splitListItem(this.name),\n            Tab: ()=>this.editor.commands.sinkListItem(this.name),\n            \"Shift-Tab\": ()=>this.editor.commands.liftListItem(this.name)\n        };\n    }\n});\nconst TextStyle = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"textStyle\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"span\",\n                getAttrs: (element)=>{\n                    const hasStyles = element.hasAttribute(\"style\");\n                    if (!hasStyles) {\n                        return false;\n                    }\n                    return {};\n                }\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"span\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            removeEmptyTextStyle: ()=>({ state, commands })=>{\n                    const attributes = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.getMarkAttributes)(state, this.type);\n                    const hasStyles = Object.entries(attributes).some(([, value])=>!!value);\n                    if (hasStyles) {\n                        return true;\n                    }\n                    return commands.unsetMark(this.name);\n                }\n        };\n    }\n});\nconst inputRegex = /^(\\d+)\\.\\s$/;\nconst OrderedList = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"orderedList\",\n    addOptions () {\n        return {\n            itemTypeName: \"listItem\",\n            HTMLAttributes: {},\n            keepMarks: false,\n            keepAttributes: false\n        };\n    },\n    group: \"block list\",\n    content () {\n        return `${this.options.itemTypeName}+`;\n    },\n    addAttributes () {\n        return {\n            start: {\n                default: 1,\n                parseHTML: (element)=>{\n                    return element.hasAttribute(\"start\") ? parseInt(element.getAttribute(\"start\") || \"\", 10) : 1;\n                }\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"ol\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        const { start, ...attributesWithoutStart } = HTMLAttributes;\n        return start === 1 ? [\n            \"ol\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, attributesWithoutStart),\n            0\n        ] : [\n            \"ol\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            toggleOrderedList: ()=>({ commands, chain })=>{\n                    if (this.options.keepAttributes) {\n                        return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItem.name, this.editor.getAttributes(TextStyle.name)).run();\n                    }\n                    return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Shift-7\": ()=>this.editor.commands.toggleOrderedList()\n        };\n    },\n    addInputRules () {\n        let inputRule = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.wrappingInputRule)({\n            find: inputRegex,\n            type: this.type,\n            getAttributes: (match)=>({\n                    start: +match[1]\n                }),\n            joinPredicate: (match, node)=>node.childCount + node.attrs.start === +match[1]\n        });\n        if (this.options.keepMarks || this.options.keepAttributes) {\n            inputRule = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.wrappingInputRule)({\n                find: inputRegex,\n                type: this.type,\n                keepMarks: this.options.keepMarks,\n                keepAttributes: this.options.keepAttributes,\n                getAttributes: (match)=>({\n                        start: +match[1],\n                        ...this.editor.getAttributes(TextStyle.name)\n                    }),\n                joinPredicate: (match, node)=>node.childCount + node.attrs.start === +match[1],\n                editor: this.editor\n            });\n        }\n        return [\n            inputRule\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tb3JkZXJlZC1saXN0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRztBQUVqRyxNQUFNSyxXQUFXTCw4Q0FBSUEsQ0FBQ00sTUFBTSxDQUFDO0lBQ3pCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztZQUNqQkMsb0JBQW9CO1lBQ3BCQyxxQkFBcUI7UUFDekI7SUFDSjtJQUNBQyxTQUFTO0lBQ1RDLFVBQVU7SUFDVkM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtTQUNIO0lBQ0w7SUFDQUMsWUFBVyxFQUFFUCxjQUFjLEVBQUU7UUFDekIsT0FBTztZQUFDO1lBQU1SLDZEQUFlQSxDQUFDLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQ1IsY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ2xGO0lBQ0FTO1FBQ0ksT0FBTztZQUNIQyxPQUFPLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLElBQUksQ0FBQ2YsSUFBSTtZQUN6RGdCLEtBQUssSUFBTSxJQUFJLENBQUNILE1BQU0sQ0FBQ0MsUUFBUSxDQUFDRyxZQUFZLENBQUMsSUFBSSxDQUFDakIsSUFBSTtZQUN0RCxhQUFhLElBQU0sSUFBSSxDQUFDYSxNQUFNLENBQUNDLFFBQVEsQ0FBQ0ksWUFBWSxDQUFDLElBQUksQ0FBQ2xCLElBQUk7UUFDbEU7SUFDSjtBQUNKO0FBRUEsTUFBTW1CLFlBQVl4Qiw4Q0FBSUEsQ0FBQ0ksTUFBTSxDQUFDO0lBQzFCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztRQUNyQjtJQUNKO0lBQ0FLO1FBQ0ksT0FBTztZQUNIO2dCQUNJQyxLQUFLO2dCQUNMWSxVQUFVQyxDQUFBQTtvQkFDTixNQUFNQyxZQUFZRCxRQUFRRSxZQUFZLENBQUM7b0JBQ3ZDLElBQUksQ0FBQ0QsV0FBVzt3QkFDWixPQUFP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Q0FBQUEsUUFBVTtvQkFBRWQsT0FBTyxDQUFDYyxLQUFLLENBQUMsRUFBRTtnQkFBQztZQUM1Q0MsZUFBZSxDQUFDRCxPQUFPRSxPQUFTQSxLQUFLQyxVQUFVLEdBQUdELEtBQUtFLEtBQUssQ0FBQ2xCLEtBQUssS0FBSyxDQUFDYyxLQUFLLENBQUMsRUFBRTtRQUNwRjtRQUNBLElBQUksSUFBSSxDQUFDN0MsT0FBTyxDQUFDMkIsU0FBUyxJQUFJLElBQUksQ0FBQzNCLE9BQU8sQ0FBQzRCLGNBQWMsRUFBRTtZQUN2RGUsWUFBWXhELCtEQUFpQkEsQ0FBQztnQkFDMUJ5RCxNQUFNcEI7Z0JBQ05OLE1BQU0sSUFBSSxDQUFDQSxJQUFJO2dCQUNmUyxXQUFXLElBQUksQ0FBQzNCLE9BQU8sQ0FBQzJCLFNBQVM7Z0JBQ2pDQyxnQkFBZ0IsSUFBSSxDQUFDNUIsT0FBTyxDQUFDNEIsY0FBYztnQkFDM0NZLGVBQWVLLENBQUFBLFFBQVU7d0JBQUVkLE9BQU8sQ0FBQ2MsS0FBSyxDQUFDLEVBQUU7d0JBQUUsR0FBRyxJQUFJLENBQUMxQyxNQUFNLENBQUNxQyxhQUFhLENBQUMvQixVQUFVbkIsSUFBSSxDQUFDO29CQUFDO2dCQUMxRndELGVBQWUsQ0FBQ0QsT0FBT0UsT0FBU0EsS0FBS0MsVUFBVSxHQUFHRCxLQUFLRSxLQUFLLENBQUNsQixLQUFLLEtBQUssQ0FBQ2MsS0FBSyxDQUFDLEVBQUU7Z0JBQ2hGMUMsUUFBUSxJQUFJLENBQUNBLE1BQU07WUFDdkI7UUFDSjtRQUNBLE9BQU87WUFDSHdDO1NBQ0g7SUFDTDtBQUNKO0FBRTJELENBQzNELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tb3JkZXJlZC1saXN0L2Rpc3QvaW5kZXguanM/M2VkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlLCBtZXJnZUF0dHJpYnV0ZXMsIE1hcmssIGdldE1hcmtBdHRyaWJ1dGVzLCB3cmFwcGluZ0lucHV0UnVsZSB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5cbmNvbnN0IExpc3RJdGVtID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2xpc3RJdGVtJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgICAgICBidWxsZXRMaXN0VHlwZU5hbWU6ICdidWxsZXRMaXN0JyxcclxuICAgICAgICAgICAgb3JkZXJlZExpc3RUeXBlTmFtZTogJ29yZGVyZWRMaXN0JyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGggYmxvY2sqJyxcclxuICAgIGRlZmluaW5nOiB0cnVlLFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ2xpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsnbGknLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyksIDBdO1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEVudGVyOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5zcGxpdExpc3RJdGVtKHRoaXMubmFtZSksXHJcbiAgICAgICAgICAgIFRhYjogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2lua0xpc3RJdGVtKHRoaXMubmFtZSksXHJcbiAgICAgICAgICAgICdTaGlmdC1UYWInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5saWZ0TGlzdEl0ZW0odGhpcy5uYW1lKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmNvbnN0IFRleHRTdHlsZSA9IE1hcmsuY3JlYXRlKHtcclxuICAgIG5hbWU6ICd0ZXh0U3R5bGUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAnc3BhbicsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzU3R5bGVzID0gZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNTdHlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydzcGFuJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZW1vdmVFbXB0eVRleHRTdHlsZTogKCkgPT4gKHsgc3RhdGUsIGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZXRNYXJrQXR0cmlidXRlcyhzdGF0ZSwgdGhpcy50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N0eWxlcyA9IE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLnNvbWUoKFssIHZhbHVlXSkgPT4gISF2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3R5bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudW5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5jb25zdCBpbnB1dFJlZ2V4ID0gL14oXFxkKylcXC5cXHMkLztcclxuY29uc3QgT3JkZXJlZExpc3QgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnb3JkZXJlZExpc3QnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpdGVtVHlwZU5hbWU6ICdsaXN0SXRlbScsXHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICAgICAga2VlcE1hcmtzOiBmYWxzZSxcclxuICAgICAgICAgICAga2VlcEF0dHJpYnV0ZXM6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgZ3JvdXA6ICdibG9jayBsaXN0JyxcclxuICAgIGNvbnRlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5pdGVtVHlwZU5hbWV9K2A7XHJcbiAgICB9LFxyXG4gICAgYWRkQXR0cmlidXRlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGFydDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMSxcclxuICAgICAgICAgICAgICAgIHBhcnNlSFRNTDogZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0YXJ0JykgfHwgJycsIDEwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDE7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ29sJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgY29uc3QgeyBzdGFydCwgLi4uYXR0cmlidXRlc1dpdGhvdXRTdGFydCB9ID0gSFRNTEF0dHJpYnV0ZXM7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0ID09PSAxXHJcbiAgICAgICAgICAgID8gWydvbCcsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXNXaXRob3V0U3RhcnQpLCAwXVxyXG4gICAgICAgICAgICA6IFsnb2wnLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyksIDBdO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZU9yZGVyZWRMaXN0OiAoKSA9PiAoeyBjb21tYW5kcywgY2hhaW4gfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZWVwQXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbigpLnRvZ2dsZUxpc3QodGhpcy5uYW1lLCB0aGlzLm9wdGlvbnMuaXRlbVR5cGVOYW1lLCB0aGlzLm9wdGlvbnMua2VlcE1hcmtzKS51cGRhdGVBdHRyaWJ1dGVzKExpc3RJdGVtLm5hbWUsIHRoaXMuZWRpdG9yLmdldEF0dHJpYnV0ZXMoVGV4dFN0eWxlLm5hbWUpKS5ydW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVMaXN0KHRoaXMubmFtZSwgdGhpcy5vcHRpb25zLml0ZW1UeXBlTmFtZSwgdGhpcy5vcHRpb25zLmtlZXBNYXJrcyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnTW9kLVNoaWZ0LTcnOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVPcmRlcmVkTGlzdCgpLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkSW5wdXRSdWxlcygpIHtcclxuICAgICAgICBsZXQgaW5wdXRSdWxlID0gd3JhcHBpbmdJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIGdldEF0dHJpYnV0ZXM6IG1hdGNoID0+ICh7IHN0YXJ0OiArbWF0Y2hbMV0gfSksXHJcbiAgICAgICAgICAgIGpvaW5QcmVkaWNhdGU6IChtYXRjaCwgbm9kZSkgPT4gbm9kZS5jaGlsZENvdW50ICsgbm9kZS5hdHRycy5zdGFydCA9PT0gK21hdGNoWzFdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2VlcE1hcmtzIHx8IHRoaXMub3B0aW9ucy5rZWVwQXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBpbnB1dFJ1bGUgPSB3cmFwcGluZ0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICAgICAga2VlcE1hcmtzOiB0aGlzLm9wdGlvbnMua2VlcE1hcmtzLFxyXG4gICAgICAgICAgICAgICAga2VlcEF0dHJpYnV0ZXM6IHRoaXMub3B0aW9ucy5rZWVwQXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgIGdldEF0dHJpYnV0ZXM6IG1hdGNoID0+ICh7IHN0YXJ0OiArbWF0Y2hbMV0sIC4uLnRoaXMuZWRpdG9yLmdldEF0dHJpYnV0ZXMoVGV4dFN0eWxlLm5hbWUpIH0pLFxyXG4gICAgICAgICAgICAgICAgam9pblByZWRpY2F0ZTogKG1hdGNoLCBub2RlKSA9PiBub2RlLmNoaWxkQ291bnQgKyBub2RlLmF0dHJzLnN0YXJ0ID09PSArbWF0Y2hbMV0sXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgaW5wdXRSdWxlLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgT3JkZXJlZExpc3QsIE9yZGVyZWRMaXN0IGFzIGRlZmF1bHQsIGlucHV0UmVnZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJNYXJrIiwiZ2V0TWFya0F0dHJpYnV0ZXMiLCJ3cmFwcGluZ0lucHV0UnVsZSIsIkxpc3RJdGVtIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsImJ1bGxldExpc3RUeXBlTmFtZSIsIm9yZGVyZWRMaXN0VHlwZU5hbWUiLCJjb250ZW50IiwiZGVmaW5pbmciLCJwYXJzZUhUTUwiLCJ0YWciLCJyZW5kZXJIVE1MIiwib3B0aW9ucyIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiRW50ZXIiLCJlZGl0b3IiLCJjb21tYW5kcyIsInNwbGl0TGlzdEl0ZW0iLCJUYWIiLCJzaW5rTGlzdEl0ZW0iLCJsaWZ0TGlzdEl0ZW0iLCJUZXh0U3R5bGUiLCJnZXRBdHRycyIsImVsZW1lbnQiLCJoYXNTdHlsZXMiLCJoYXNBdHRyaWJ1dGUiLCJhZGRDb21tYW5kcyIsInJlbW92ZUVtcHR5VGV4dFN0eWxlIiwic3RhdGUiLCJhdHRyaWJ1dGVzIiwidHlwZSIsIk9iamVjdCIsImVudHJpZXMiLCJzb21lIiwidmFsdWUiLCJ1bnNldE1hcmsiLCJpbnB1dFJlZ2V4IiwiT3JkZXJlZExpc3QiLCJpdGVtVHlwZU5hbWUiLCJrZWVwTWFya3MiLCJrZWVwQXR0cmlidXRlcyIsImdyb3VwIiwiYWRkQXR0cmlidXRlcyIsInN0YXJ0IiwiZGVmYXVsdCIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiYXR0cmlidXRlc1dpdGhvdXRTdGFydCIsInRvZ2dsZU9yZGVyZWRMaXN0IiwiY2hhaW4iLCJ0b2dnbGVMaXN0IiwidXBkYXRlQXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZXMiLCJydW4iLCJhZGRJbnB1dFJ1bGVzIiwiaW5wdXRSdWxlIiwiZmluZCIsIm1hdGNoIiwiam9pblByZWRpY2F0ZSIsIm5vZGUiLCJjaGlsZENvdW50IiwiYXR0cnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-ordered-list/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-paragraph/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-paragraph/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Paragraph: () => (/* binding */ Paragraph),\n/* harmony export */   \"default\": () => (/* binding */ Paragraph)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Paragraph = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"paragraph\",\n    priority: 1000,\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    group: \"block\",\n    content: \"inline*\",\n    parseHTML () {\n        return [\n            {\n                tag: \"p\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"p\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setParagraph: ()=>({ commands })=>{\n                    return commands.setNode(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Alt-0\": ()=>this.editor.commands.setParagraph()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tcGFyYWdyYXBoL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLFlBQVlGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDMUJDLE1BQU07SUFDTkMsVUFBVTtJQUNWQztRQUNJLE9BQU87WUFDSEMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQyxPQUFPO0lBQ1BDLFNBQVM7SUFDVEM7UUFDSSxPQUFPO1lBQ0g7Z0JBQUVDLEtBQUs7WUFBSTtTQUNkO0lBQ0w7SUFDQUMsWUFBVyxFQUFFTCxjQUFjLEVBQUU7UUFDekIsT0FBTztZQUFDO1lBQUtOLDZEQUFlQSxDQUFDLElBQUksQ0FBQ1ksT0FBTyxDQUFDTixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDakY7SUFDQU87UUFDSSxPQUFPO1lBQ0hDLGNBQWMsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDN0IsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2IsSUFBSTtnQkFDckM7UUFDSjtJQUNKO0lBQ0FjO1FBQ0ksT0FBTztZQUNILGFBQWEsSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0gsUUFBUSxDQUFDRCxZQUFZO1FBQ3hEO0lBQ0o7QUFDSjtBQUUyQyxDQUMzQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXBhcmFncmFwaC9kaXN0L2luZGV4LmpzPzhiYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgUGFyYWdyYXBoID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3BhcmFncmFwaCcsXHJcbiAgICBwcmlvcml0eTogMTAwMCxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgZ3JvdXA6ICdibG9jaycsXHJcbiAgICBjb250ZW50OiAnaW5saW5lKicsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdwJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydwJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRQYXJhZ3JhcGg6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXROb2RlKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnTW9kLUFsdC0wJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2V0UGFyYWdyYXBoKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBQYXJhZ3JhcGgsIFBhcmFncmFwaCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwibWVyZ2VBdHRyaWJ1dGVzIiwiUGFyYWdyYXBoIiwiY3JlYXRlIiwibmFtZSIsInByaW9yaXR5IiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwiZ3JvdXAiLCJjb250ZW50IiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldFBhcmFncmFwaCIsImNvbW1hbmRzIiwic2V0Tm9kZSIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-paragraph/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@tiptap/extension-strike/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Strike: () => (/* binding */ Strike),\n/* harmony export */   \"default\": () => (/* binding */ Strike),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))$/;\nconst pasteRegex = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))/g;\nconst Strike = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"strike\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"s\"\n            },\n            {\n                tag: \"del\"\n            },\n            {\n                tag: \"strike\"\n            },\n            {\n                style: \"text-decoration\",\n                consuming: false,\n                getAttrs: (style)=>style.includes(\"line-through\") ? {} : false\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"s\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setStrike: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleStrike: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetStrike: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        const shortcuts = {};\n        if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.isMacOS)()) {\n            shortcuts[\"Mod-Shift-s\"] = ()=>this.editor.commands.toggleStrike();\n        } else {\n            shortcuts[\"Ctrl-Shift-s\"] = ()=>this.editor.commands.toggleStrike();\n        }\n        return shortcuts;\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: pasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tc3RyaWtlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEY7QUFFNUYsTUFBTUssYUFBYTtBQUNuQixNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLFNBQVNQLDhDQUFJQSxDQUFDUSxNQUFNLENBQUM7SUFDdkJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQSxLQUFLO1lBQ1Q7WUFDQTtnQkFDSUEsS0FBSztZQUNUO1lBQ0E7Z0JBQ0lDLE9BQU87Z0JBQ1BDLFdBQVc7Z0JBQ1hDLFVBQVVGLENBQUFBLFFBQVVBLE1BQU1HLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJO1lBQzlEO1NBQ0g7SUFDTDtJQUNBQyxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBS1YsNkRBQWVBLENBQUMsSUFBSSxDQUFDa0IsT0FBTyxDQUFDUixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDakY7SUFDQVM7UUFDSSxPQUFPO1lBQ0hDLFdBQVcsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDMUIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2QsSUFBSTtnQkFDckM7WUFDQWUsY0FBYyxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUM3QixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGFBQWEsSUFBTSxDQUFDLEVBQUVKLFFBQVEsRUFBRTtvQkFDNUIsT0FBT0EsU0FBU0ssU0FBUyxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3ZDO1FBQ0o7SUFDSjtJQUNBbUI7UUFDSSxNQUFNQyxZQUFZLENBQUM7UUFDbkIsSUFBSTNCLHFEQUFPQSxJQUFJO1lBQ1gyQixTQUFTLENBQUMsY0FBYyxHQUFHLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNSLFFBQVEsQ0FBQ0UsWUFBWTtRQUN0RSxPQUNLO1lBQ0RLLFNBQVMsQ0FBQyxlQUFlLEdBQUcsSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ1IsUUFBUSxDQUFDRSxZQUFZO1FBQ3ZFO1FBQ0EsT0FBT0s7SUFDWDtJQUNBRTtRQUNJLE9BQU87WUFDSDVCLDJEQUFhQSxDQUFDO2dCQUNWNkIsTUFBTTNCO2dCQUNONEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0lBQ0FDO1FBQ0ksT0FBTztZQUNIOUIsMkRBQWFBLENBQUM7Z0JBQ1Y0QixNQUFNMUI7Z0JBQ04yQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7QUFDSjtBQUU2RCxDQUM3RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXN0cmlrZS9kaXN0L2luZGV4LmpzPzhlNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBpc01hY09TLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgaW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86fn4pKCg/Oltefl0rKSkoPzp+fikpJC87XHJcbmNvbnN0IHBhc3RlUmVnZXggPSAvKD86XnxcXHMpKCg/On5+KSgoPzpbXn5dKykpKD86fn4pKS9nO1xyXG5jb25zdCBTdHJpa2UgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnc3RyaWtlJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ3MnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdkZWwnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdzdHJpa2UnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTogJ3RleHQtZGVjb3JhdGlvbicsXHJcbiAgICAgICAgICAgICAgICBjb25zdW1pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ2V0QXR0cnM6IHN0eWxlID0+IChzdHlsZS5pbmNsdWRlcygnbGluZS10aHJvdWdoJykgPyB7fSA6IGZhbHNlKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsncycsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0U3RyaWtlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b2dnbGVTdHJpa2U6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0U3RyaWtlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudW5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICBjb25zdCBzaG9ydGN1dHMgPSB7fTtcclxuICAgICAgICBpZiAoaXNNYWNPUygpKSB7XHJcbiAgICAgICAgICAgIHNob3J0Y3V0c1snTW9kLVNoaWZ0LXMnXSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVN0cmlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2hvcnRjdXRzWydDdHJsLVNoaWZ0LXMnXSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVN0cmlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hvcnRjdXRzO1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBwYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IFN0cmlrZSwgU3RyaWtlIGFzIGRlZmF1bHQsIGlucHV0UmVnZXgsIHBhc3RlUmVnZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk1hcmsiLCJtZXJnZUF0dHJpYnV0ZXMiLCJpc01hY09TIiwibWFya0lucHV0UnVsZSIsIm1hcmtQYXN0ZVJ1bGUiLCJpbnB1dFJlZ2V4IiwicGFzdGVSZWdleCIsIlN0cmlrZSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJwYXJzZUhUTUwiLCJ0YWciLCJzdHlsZSIsImNvbnN1bWluZyIsImdldEF0dHJzIiwiaW5jbHVkZXMiLCJyZW5kZXJIVE1MIiwib3B0aW9ucyIsImFkZENvbW1hbmRzIiwic2V0U3RyaWtlIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlU3RyaWtlIiwidG9nZ2xlTWFyayIsInVuc2V0U3RyaWtlIiwidW5zZXRNYXJrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJzaG9ydGN1dHMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsInR5cGUiLCJhZGRQYXN0ZVJ1bGVzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-text/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-text/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   \"default\": () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Text = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"text\",\n    group: \"inline\"\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdGV4dC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUVwQyxNQUFNQyxPQUFPRCw4Q0FBSUEsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3JCQyxNQUFNO0lBQ05DLE9BQU87QUFDWDtBQUVpQyxDQUNqQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXRleHQvZGlzdC9pbmRleC5qcz85ZTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBUZXh0ID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3RleHQnLFxyXG4gICAgZ3JvdXA6ICdpbmxpbmUnLFxyXG59KTtcblxuZXhwb3J0IHsgVGV4dCwgVGV4dCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwiVGV4dCIsImNyZWF0ZSIsIm5hbWUiLCJncm91cCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-text/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-underline/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Underline: () => (/* binding */ Underline),\n/* harmony export */   \"default\": () => (/* binding */ Underline)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Underline = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"underline\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"u\"\n            },\n            {\n                style: \"text-decoration\",\n                consuming: false,\n                getAttrs: (style)=>style.includes(\"underline\") ? {} : false\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"u\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setUnderline: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleUnderline: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetUnderline: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-u\": ()=>this.editor.commands.toggleUnderline(),\n            \"Mod-U\": ()=>this.editor.commands.toggleUnderline()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdW5kZXJsaW5lL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLFlBQVlGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDMUJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQyxPQUFPO2dCQUNQQyxXQUFXO2dCQUNYQyxVQUFVRixDQUFBQSxRQUFVQSxNQUFNRyxRQUFRLENBQUMsZUFBZSxDQUFDLElBQUk7WUFDM0Q7U0FDSDtJQUNMO0lBQ0FDLFlBQVcsRUFBRVAsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFLTCw2REFBZUEsQ0FBQyxJQUFJLENBQUNhLE9BQU8sQ0FBQ1IsY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ2pGO0lBQ0FTO1FBQ0ksT0FBTztZQUNIQyxjQUFjLElBQU0sQ0FBQyxFQUFFQyxRQUFRLEVBQUU7b0JBQzdCLE9BQU9BLFNBQVNDLE9BQU8sQ0FBQyxJQUFJLENBQUNkLElBQUk7Z0JBQ3JDO1lBQ0FlLGlCQUFpQixJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUNoQyxPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGdCQUFnQixJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUMvQixPQUFPQSxTQUFTSyxTQUFTLENBQUMsSUFBSSxDQUFDbEIsSUFBSTtnQkFDdkM7UUFDSjtJQUNKO0lBQ0FtQjtRQUNJLE9BQU87WUFDSCxTQUFTLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZUFBZTtZQUNuRCxTQUFTLElBQU0sSUFBSSxDQUFDSyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZUFBZTtRQUN2RDtJQUNKO0FBQ0o7QUFFMkMsQ0FDM0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi11bmRlcmxpbmUvZGlzdC9pbmRleC5qcz8zNjUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcmssIG1lcmdlQXR0cmlidXRlcyB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5cbmNvbnN0IFVuZGVybGluZSA9IE1hcmsuY3JlYXRlKHtcclxuICAgIG5hbWU6ICd1bmRlcmxpbmUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAndScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiAndGV4dC1kZWNvcmF0aW9uJyxcclxuICAgICAgICAgICAgICAgIGNvbnN1bWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogc3R5bGUgPT4gKHN0eWxlLmluY2x1ZGVzKCd1bmRlcmxpbmUnKSA/IHt9IDogZmFsc2UpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWyd1JywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRVbmRlcmxpbmU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZVVuZGVybGluZTogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnRvZ2dsZU1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zZXRVbmRlcmxpbmU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtdSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVVuZGVybGluZSgpLFxyXG4gICAgICAgICAgICAnTW9kLVUnOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVVbmRlcmxpbmUoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IFVuZGVybGluZSwgVW5kZXJsaW5lIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk1hcmsiLCJtZXJnZUF0dHJpYnV0ZXMiLCJVbmRlcmxpbmUiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwicGFyc2VIVE1MIiwidGFnIiwic3R5bGUiLCJjb25zdW1pbmciLCJnZXRBdHRycyIsImluY2x1ZGVzIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldFVuZGVybGluZSIsImNvbW1hbmRzIiwic2V0TWFyayIsInRvZ2dsZVVuZGVybGluZSIsInRvZ2dsZU1hcmsiLCJ1bnNldFVuZGVybGluZSIsInVuc2V0TWFyayIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@tiptap/pm/commands/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoJoin: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.autoJoin),\n/* harmony export */   baseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.baseKeymap),\n/* harmony export */   chainCommands: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.chainCommands),\n/* harmony export */   createParagraphNear: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.createParagraphNear),\n/* harmony export */   deleteSelection: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.deleteSelection),\n/* harmony export */   exitCode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.exitCode),\n/* harmony export */   joinBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinBackward),\n/* harmony export */   joinDown: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinDown),\n/* harmony export */   joinForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinForward),\n/* harmony export */   joinTextblockBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinTextblockBackward),\n/* harmony export */   joinTextblockForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinTextblockForward),\n/* harmony export */   joinUp: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinUp),\n/* harmony export */   lift: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.lift),\n/* harmony export */   liftEmptyBlock: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.liftEmptyBlock),\n/* harmony export */   macBaseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.macBaseKeymap),\n/* harmony export */   newlineInCode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.newlineInCode),\n/* harmony export */   pcBaseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.pcBaseKeymap),\n/* harmony export */   selectAll: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectAll),\n/* harmony export */   selectNodeBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectNodeBackward),\n/* harmony export */   selectNodeForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectNodeForward),\n/* harmony export */   selectParentNode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectParentNode),\n/* harmony export */   selectTextblockEnd: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectTextblockEnd),\n/* harmony export */   selectTextblockStart: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectTextblockStart),\n/* harmony export */   setBlockType: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.setBlockType),\n/* harmony export */   splitBlock: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlock),\n/* harmony export */   splitBlockAs: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlockAs),\n/* harmony export */   splitBlockKeepMarks: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlockKeepMarks),\n/* harmony export */   toggleMark: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.toggleMark),\n/* harmony export */   wrapIn: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.wrapIn)\n/* harmony export */ });\n/* harmony import */ var prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-commands */ \"(ssr)/./node_modules/prosemirror-commands/dist/index.js\");\n// commands/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9jb21tYW5kcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9jb21tYW5kcy9kaXN0L2luZGV4LmpzPzkxMmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tbWFuZHMvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1jb21tYW5kc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@tiptap/pm/dropcursor/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dropCursor: () => (/* reexport safe */ prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_0__.dropCursor)\n/* harmony export */ });\n/* harmony import */ var prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-dropcursor */ \"(ssr)/./node_modules/prosemirror-dropcursor/dist/index.js\");\n// dropcursor/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9kcm9wY3Vyc29yL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzQkFBc0I7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzP2JkMzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZHJvcGN1cnNvci9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcInByb3NlbWlycm9yLWRyb3BjdXJzb3JcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@tiptap/pm/gapcursor/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GapCursor: () => (/* reexport safe */ prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__.GapCursor),\n/* harmony export */   gapCursor: () => (/* reexport safe */ prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__.gapCursor)\n/* harmony export */ });\n/* harmony import */ var prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-gapcursor */ \"(ssr)/./node_modules/prosemirror-gapcursor/dist/index.js\");\n// gapcursor/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9nYXBjdXJzb3IvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxxQkFBcUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanM/YzBiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBnYXBjdXJzb3IvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1nYXBjdXJzb3JcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/history/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@tiptap/pm/history/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeHistory: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.closeHistory),\n/* harmony export */   history: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.history),\n/* harmony export */   redo: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.redo),\n/* harmony export */   redoDepth: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.redoDepth),\n/* harmony export */   undo: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.undo),\n/* harmony export */   undoDepth: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.undoDepth)\n/* harmony export */ });\n/* harmony import */ var prosemirror_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-history */ \"(ssr)/./node_modules/prosemirror-history/dist/index.js\");\n// history/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9oaXN0b3J5L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLG1CQUFtQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9oaXN0b3J5L2Rpc3QvaW5kZXguanM/MTY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoaXN0b3J5L2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3ItaGlzdG9yeVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/history/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@tiptap/pm/keymap/dist/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keydownHandler: () => (/* reexport safe */ prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__.keydownHandler),\n/* harmony export */   keymap: () => (/* reexport safe */ prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__.keymap)\n/* harmony export */ });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-keymap */ \"(ssr)/./node_modules/prosemirror-keymap/dist/index.js\");\n// keymap/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9rZXltYXAvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxrQkFBa0I7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0va2V5bWFwL2Rpc3QvaW5kZXguanM/NGJlYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBrZXltYXAvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1rZXltYXBcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/model/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@tiptap/pm/model/dist/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentMatch: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ContentMatch),\n/* harmony export */   DOMParser: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.DOMParser),\n/* harmony export */   DOMSerializer: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.DOMSerializer),\n/* harmony export */   Fragment: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment),\n/* harmony export */   Mark: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Mark),\n/* harmony export */   MarkType: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.MarkType),\n/* harmony export */   Node: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Node),\n/* harmony export */   NodeRange: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeRange),\n/* harmony export */   NodeType: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeType),\n/* harmony export */   ReplaceError: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ReplaceError),\n/* harmony export */   ResolvedPos: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ResolvedPos),\n/* harmony export */   Schema: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Schema),\n/* harmony export */   Slice: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice)\n/* harmony export */ });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-model */ \"(ssr)/./node_modules/prosemirror-model/dist/index.js\");\n// model/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9tb2RlbC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUJBQWlCO0FBQ2lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVmcmFnbWVudGluZy1pZGVhcy8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL3BtL21vZGVsL2Rpc3QvaW5kZXguanM/YTVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtb2RlbC9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/model/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/pm/schema-list/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addListNodes: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.addListNodes),\n/* harmony export */   bulletList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.bulletList),\n/* harmony export */   liftListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.liftListItem),\n/* harmony export */   listItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.listItem),\n/* harmony export */   orderedList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.orderedList),\n/* harmony export */   sinkListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.sinkListItem),\n/* harmony export */   splitListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.splitListItem),\n/* harmony export */   wrapInList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.wrapInList)\n/* harmony export */ });\n/* harmony import */ var prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-schema-list */ \"(ssr)/./node_modules/prosemirror-schema-list/dist/index.js\");\n// schema-list/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zY2hlbWEtbGlzdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLHVCQUF1QjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zY2hlbWEtbGlzdC9kaXN0L2luZGV4LmpzPzU0ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2NoZW1hLWxpc3QvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1zY2hlbWEtbGlzdFwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/state/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@tiptap/pm/state/dist/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AllSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.AllSelection),\n/* harmony export */   EditorState: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.EditorState),\n/* harmony export */   NodeSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection),\n/* harmony export */   Plugin: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Plugin),\n/* harmony export */   PluginKey: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey),\n/* harmony export */   Selection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Selection),\n/* harmony export */   SelectionRange: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.SelectionRange),\n/* harmony export */   TextSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection),\n/* harmony export */   Transaction: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Transaction)\n/* harmony export */ });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n// state/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zdGF0ZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vc3RhdGUvZGlzdC9pbmRleC5qcz83MmVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlL2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@tiptap/pm/transform/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AddMarkStep),\n/* harmony export */   AddNodeMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AddNodeMarkStep),\n/* harmony export */   AttrStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AttrStep),\n/* harmony export */   DocAttrStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.DocAttrStep),\n/* harmony export */   MapResult: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.MapResult),\n/* harmony export */   Mapping: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Mapping),\n/* harmony export */   RemoveMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.RemoveMarkStep),\n/* harmony export */   RemoveNodeMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.RemoveNodeMarkStep),\n/* harmony export */   ReplaceAroundStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.ReplaceAroundStep),\n/* harmony export */   ReplaceStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.ReplaceStep),\n/* harmony export */   Step: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Step),\n/* harmony export */   StepMap: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.StepMap),\n/* harmony export */   StepResult: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.StepResult),\n/* harmony export */   Transform: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Transform),\n/* harmony export */   TransformError: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.TransformError),\n/* harmony export */   canJoin: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.canJoin),\n/* harmony export */   canSplit: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.canSplit),\n/* harmony export */   dropPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.dropPoint),\n/* harmony export */   findWrapping: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.findWrapping),\n/* harmony export */   insertPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.insertPoint),\n/* harmony export */   joinPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.joinPoint),\n/* harmony export */   liftTarget: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.liftTarget),\n/* harmony export */   replaceStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.replaceStep)\n/* harmony export */ });\n/* harmony import */ var prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-transform */ \"(ssr)/./node_modules/prosemirror-transform/dist/index.js\");\n// transform/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS90cmFuc2Zvcm0vZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vdHJhbnNmb3JtL2Rpc3QvaW5kZXguanM/OGE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc2Zvcm0vaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/view/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@tiptap/pm/view/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Decoration: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.Decoration),\n/* harmony export */   DecorationSet: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.DecorationSet),\n/* harmony export */   EditorView: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.EditorView),\n/* harmony export */   __endComposition: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__endComposition),\n/* harmony export */   __parseFromClipboard: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__parseFromClipboard),\n/* harmony export */   __serializeForClipboard: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__serializeForClipboard)\n/* harmony export */ });\n/* harmony import */ var prosemirror_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-view */ \"(ssr)/./node_modules/prosemirror-view/dist/index.js\");\n// view/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS92aWV3L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGdCQUFnQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RlZnJhZ21lbnRpbmctaWRlYXMvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS92aWV3L2Rpc3QvaW5kZXguanM/NzU5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2aWV3L2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3Itdmlld1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/view/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/react/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@tiptap/react/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BubbleMenu: () => (/* binding */ BubbleMenu),\n/* harmony export */   CommandManager: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.CommandManager),\n/* harmony export */   Editor: () => (/* binding */ Editor),\n/* harmony export */   EditorConsumer: () => (/* binding */ EditorConsumer),\n/* harmony export */   EditorContent: () => (/* binding */ EditorContent),\n/* harmony export */   EditorContext: () => (/* binding */ EditorContext),\n/* harmony export */   EditorProvider: () => (/* binding */ EditorProvider),\n/* harmony export */   Extension: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Extension),\n/* harmony export */   FloatingMenu: () => (/* binding */ FloatingMenu),\n/* harmony export */   InputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.InputRule),\n/* harmony export */   Mark: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Mark),\n/* harmony export */   Node: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Node),\n/* harmony export */   NodeView: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.NodeView),\n/* harmony export */   NodeViewContent: () => (/* binding */ NodeViewContent),\n/* harmony export */   NodeViewWrapper: () => (/* binding */ NodeViewWrapper),\n/* harmony export */   PasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.PasteRule),\n/* harmony export */   PureEditorContent: () => (/* binding */ PureEditorContent),\n/* harmony export */   ReactNodeViewRenderer: () => (/* binding */ ReactNodeViewRenderer),\n/* harmony export */   ReactRenderer: () => (/* binding */ ReactRenderer),\n/* harmony export */   Tracker: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Tracker),\n/* harmony export */   callOrReturn: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.callOrReturn),\n/* harmony export */   combineTransactionSteps: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.combineTransactionSteps),\n/* harmony export */   createChainableState: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createChainableState),\n/* harmony export */   createDocument: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createDocument),\n/* harmony export */   createNodeFromContent: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createNodeFromContent),\n/* harmony export */   createStyleTag: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createStyleTag),\n/* harmony export */   defaultBlockAt: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.defaultBlockAt),\n/* harmony export */   deleteProps: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.deleteProps),\n/* harmony export */   elementFromString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.elementFromString),\n/* harmony export */   escapeForRegEx: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.escapeForRegEx),\n/* harmony export */   extensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.extensions),\n/* harmony export */   findChildren: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildren),\n/* harmony export */   findChildrenInRange: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildrenInRange),\n/* harmony export */   findDuplicates: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findDuplicates),\n/* harmony export */   findParentNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findParentNode),\n/* harmony export */   findParentNodeClosestToPos: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findParentNodeClosestToPos),\n/* harmony export */   fromString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.fromString),\n/* harmony export */   generateHTML: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateHTML),\n/* harmony export */   generateJSON: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateJSON),\n/* harmony export */   generateText: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateText),\n/* harmony export */   getAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributes),\n/* harmony export */   getAttributesFromExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributesFromExtensions),\n/* harmony export */   getChangedRanges: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getChangedRanges),\n/* harmony export */   getDebugJSON: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getDebugJSON),\n/* harmony export */   getExtensionField: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getExtensionField),\n/* harmony export */   getHTMLFromFragment: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getHTMLFromFragment),\n/* harmony export */   getMarkAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkAttributes),\n/* harmony export */   getMarkRange: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkRange),\n/* harmony export */   getMarkType: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkType),\n/* harmony export */   getMarksBetween: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarksBetween),\n/* harmony export */   getNodeAtPosition: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeAtPosition),\n/* harmony export */   getNodeAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeAttributes),\n/* harmony export */   getNodeType: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeType),\n/* harmony export */   getRenderedAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getRenderedAttributes),\n/* harmony export */   getSchema: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchema),\n/* harmony export */   getSchemaByResolvedExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaByResolvedExtensions),\n/* harmony export */   getSchemaTypeByName: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaTypeByName),\n/* harmony export */   getSchemaTypeNameByName: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaTypeNameByName),\n/* harmony export */   getSplittedAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSplittedAttributes),\n/* harmony export */   getText: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getText),\n/* harmony export */   getTextBetween: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextBetween),\n/* harmony export */   getTextContentFromNodes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextContentFromNodes),\n/* harmony export */   getTextSerializersFromSchema: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextSerializersFromSchema),\n/* harmony export */   injectExtensionAttributesToParseRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.injectExtensionAttributesToParseRule),\n/* harmony export */   inputRulesPlugin: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.inputRulesPlugin),\n/* harmony export */   isActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isActive),\n/* harmony export */   isAtEndOfNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isAtEndOfNode),\n/* harmony export */   isAtStartOfNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isAtStartOfNode),\n/* harmony export */   isEmptyObject: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject),\n/* harmony export */   isExtensionRulesEnabled: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isExtensionRulesEnabled),\n/* harmony export */   isFunction: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isFunction),\n/* harmony export */   isList: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isList),\n/* harmony export */   isMacOS: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isMacOS),\n/* harmony export */   isMarkActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isMarkActive),\n/* harmony export */   isNodeActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeActive),\n/* harmony export */   isNodeEmpty: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeEmpty),\n/* harmony export */   isNodeSelection: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeSelection),\n/* harmony export */   isNumber: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNumber),\n/* harmony export */   isPlainObject: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isPlainObject),\n/* harmony export */   isRegExp: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isRegExp),\n/* harmony export */   isString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isString),\n/* harmony export */   isTextSelection: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isTextSelection),\n/* harmony export */   isiOS: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isiOS),\n/* harmony export */   markInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markInputRule),\n/* harmony export */   markPasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markPasteRule),\n/* harmony export */   mergeAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes),\n/* harmony export */   mergeDeep: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeDeep),\n/* harmony export */   minMax: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.minMax),\n/* harmony export */   nodeInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.nodeInputRule),\n/* harmony export */   nodePasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.nodePasteRule),\n/* harmony export */   objectIncludes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.objectIncludes),\n/* harmony export */   pasteRulesPlugin: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.pasteRulesPlugin),\n/* harmony export */   posToDOMRect: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.posToDOMRect),\n/* harmony export */   removeDuplicates: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.removeDuplicates),\n/* harmony export */   resolveFocusPosition: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.resolveFocusPosition),\n/* harmony export */   selectionToInsertionEnd: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.selectionToInsertionEnd),\n/* harmony export */   splitExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.splitExtensions),\n/* harmony export */   textInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textInputRule),\n/* harmony export */   textPasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textPasteRule),\n/* harmony export */   textblockTypeInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textblockTypeInputRule),\n/* harmony export */   useCurrentEditor: () => (/* binding */ useCurrentEditor),\n/* harmony export */   useEditor: () => (/* binding */ useEditor),\n/* harmony export */   wrappingInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.wrappingInputRule)\n/* harmony export */ });\n/* harmony import */ var _tiptap_extension_bubble_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-bubble-menu */ \"(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_extension_floating_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-floating-menu */ \"(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js\");\n\n\n\n\n\n\nconst Portals = ({ renderers })=>{\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Object.entries(renderers).map(([key, renderer])=>{\n        return /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(renderer.reactElement, renderer.element, key);\n    }));\n};\nclass PureEditorContent extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n    constructor(props){\n        super(props);\n        this.editorContentRef = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        this.initialized = false;\n        this.state = {\n            renderers: {}\n        };\n    }\n    componentDidMount() {\n        this.init();\n    }\n    componentDidUpdate() {\n        this.init();\n    }\n    init() {\n        const { editor } = this.props;\n        if (editor && editor.options.element) {\n            if (editor.contentComponent) {\n                return;\n            }\n            const element = this.editorContentRef.current;\n            element.append(...editor.options.element.childNodes);\n            editor.setOptions({\n                element\n            });\n            editor.contentComponent = this;\n            editor.createNodeViews();\n            this.initialized = true;\n        }\n    }\n    maybeFlushSync(fn) {\n        // Avoid calling flushSync until the editor is initialized.\n        // Initialization happens during the componentDidMount or componentDidUpdate\n        // lifecycle methods, and React doesn't allow calling flushSync from inside\n        // a lifecycle method.\n        if (this.initialized) {\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(fn);\n        } else {\n            fn();\n        }\n    }\n    setRenderer(id, renderer) {\n        this.maybeFlushSync(()=>{\n            this.setState(({ renderers })=>({\n                    renderers: {\n                        ...renderers,\n                        [id]: renderer\n                    }\n                }));\n        });\n    }\n    removeRenderer(id) {\n        this.maybeFlushSync(()=>{\n            this.setState(({ renderers })=>{\n                const nextRenderers = {\n                    ...renderers\n                };\n                delete nextRenderers[id];\n                return {\n                    renderers: nextRenderers\n                };\n            });\n        });\n    }\n    componentWillUnmount() {\n        const { editor } = this.props;\n        if (!editor) {\n            return;\n        }\n        this.initialized = false;\n        if (!editor.isDestroyed) {\n            editor.view.setProps({\n                nodeViews: {}\n            });\n        }\n        editor.contentComponent = null;\n        if (!editor.options.element.firstChild) {\n            return;\n        }\n        const newElement = document.createElement(\"div\");\n        newElement.append(...editor.options.element.childNodes);\n        editor.setOptions({\n            element: newElement\n        });\n    }\n    render() {\n        const { editor, ...rest } = this.props;\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ref: this.editorContentRef,\n            ...rest\n        }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Portals, {\n            renderers: this.state.renderers\n        }));\n    }\n}\n// EditorContent should be re-created whenever the Editor instance changes\nconst EditorContentWithKey = (props)=>{\n    const key = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        return Math.floor(Math.random() * 0xFFFFFFFF).toString();\n    }, [\n        props.editor\n    ]);\n    // Can't use JSX here because it conflicts with the type definition of Vue's JSX, so use createElement\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PureEditorContent, {\n        key,\n        ...props\n    });\n};\nconst EditorContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(EditorContentWithKey);\nclass Editor extends _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Editor {\n    constructor(){\n        super(...arguments);\n        this.contentComponent = null;\n    }\n}\nfunction useForceUpdate() {\n    const [, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    return ()=>setValue((value)=>value + 1);\n}\nconst useEditor = (options = {}, deps = [])=>{\n    const [editor, setEditor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const forceUpdate = useForceUpdate();\n    const { onBeforeCreate, onBlur, onCreate, onDestroy, onFocus, onSelectionUpdate, onTransaction, onUpdate } = options;\n    const onBeforeCreateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onBeforeCreate);\n    const onBlurRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onBlur);\n    const onCreateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onCreate);\n    const onDestroyRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onDestroy);\n    const onFocusRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onFocus);\n    const onSelectionUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onSelectionUpdate);\n    const onTransactionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onTransaction);\n    const onUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onUpdate);\n    // This effect will handle updating the editor instance\n    // when the event handlers change.\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!editor) {\n            return;\n        }\n        if (onBeforeCreate) {\n            editor.off(\"beforeCreate\", onBeforeCreateRef.current);\n            editor.on(\"beforeCreate\", onBeforeCreate);\n            onBeforeCreateRef.current = onBeforeCreate;\n        }\n        if (onBlur) {\n            editor.off(\"blur\", onBlurRef.current);\n            editor.on(\"blur\", onBlur);\n            onBlurRef.current = onBlur;\n        }\n        if (onCreate) {\n            editor.off(\"create\", onCreateRef.current);\n            editor.on(\"create\", onCreate);\n            onCreateRef.current = onCreate;\n        }\n        if (onDestroy) {\n            editor.off(\"destroy\", onDestroyRef.current);\n            editor.on(\"destroy\", onDestroy);\n            onDestroyRef.current = onDestroy;\n        }\n        if (onFocus) {\n            editor.off(\"focus\", onFocusRef.current);\n            editor.on(\"focus\", onFocus);\n            onFocusRef.current = onFocus;\n        }\n        if (onSelectionUpdate) {\n            editor.off(\"selectionUpdate\", onSelectionUpdateRef.current);\n            editor.on(\"selectionUpdate\", onSelectionUpdate);\n            onSelectionUpdateRef.current = onSelectionUpdate;\n        }\n        if (onTransaction) {\n            editor.off(\"transaction\", onTransactionRef.current);\n            editor.on(\"transaction\", onTransaction);\n            onTransactionRef.current = onTransaction;\n        }\n        if (onUpdate) {\n            editor.off(\"update\", onUpdateRef.current);\n            editor.on(\"update\", onUpdate);\n            onUpdateRef.current = onUpdate;\n        }\n    }, [\n        onBeforeCreate,\n        onBlur,\n        onCreate,\n        onDestroy,\n        onFocus,\n        onSelectionUpdate,\n        onTransaction,\n        onUpdate,\n        editor\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        const instance = new Editor(options);\n        setEditor(instance);\n        instance.on(\"transaction\", ()=>{\n            requestAnimationFrame(()=>{\n                requestAnimationFrame(()=>{\n                    if (isMounted) {\n                        forceUpdate();\n                    }\n                });\n            });\n        });\n        return ()=>{\n            isMounted = false;\n        };\n    }, deps);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            editor === null || editor === void 0 ? void 0 : editor.destroy();\n        };\n    }, [\n        editor\n    ]);\n    return editor;\n};\nconst EditorContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    editor: null\n});\nconst EditorConsumer = EditorContext.Consumer;\nconst useCurrentEditor = ()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(EditorContext);\nconst EditorProvider = ({ children, slotAfter, slotBefore, ...editorOptions })=>{\n    const editor = useEditor(editorOptions);\n    if (!editor) {\n        return null;\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorContext.Provider, {\n        value: {\n            editor\n        }\n    }, slotBefore, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorConsumer, null, ({ editor: currentEditor })=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorContent, {\n            editor: currentEditor\n        })), children, slotAfter);\n};\nconst BubbleMenu = (props)=>{\n    const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { editor: currentEditor } = useCurrentEditor();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _a;\n        if (!element) {\n            return;\n        }\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\n            return;\n        }\n        const { pluginKey = \"bubbleMenu\", editor, tippyOptions = {}, updateDelay, shouldShow = null } = props;\n        const menuEditor = editor || currentEditor;\n        if (!menuEditor) {\n            console.warn(\"BubbleMenu component is not rendered inside of an editor component or does not have editor prop.\");\n            return;\n        }\n        const plugin = (0,_tiptap_extension_bubble_menu__WEBPACK_IMPORTED_MODULE_3__.BubbleMenuPlugin)({\n            updateDelay,\n            editor: menuEditor,\n            element,\n            pluginKey,\n            shouldShow,\n            tippyOptions\n        });\n        menuEditor.registerPlugin(plugin);\n        return ()=>menuEditor.unregisterPlugin(pluginKey);\n    }, [\n        props.editor,\n        currentEditor,\n        element\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setElement,\n        className: props.className,\n        style: {\n            visibility: \"hidden\"\n        }\n    }, props.children);\n};\nconst FloatingMenu = (props)=>{\n    const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { editor: currentEditor } = useCurrentEditor();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _a;\n        if (!element) {\n            return;\n        }\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\n            return;\n        }\n        const { pluginKey = \"floatingMenu\", editor, tippyOptions = {}, shouldShow = null } = props;\n        const menuEditor = editor || currentEditor;\n        if (!menuEditor) {\n            console.warn(\"FloatingMenu component is not rendered inside of an editor component or does not have editor prop.\");\n            return;\n        }\n        const plugin = (0,_tiptap_extension_floating_menu__WEBPACK_IMPORTED_MODULE_4__.FloatingMenuPlugin)({\n            pluginKey,\n            editor: menuEditor,\n            element,\n            tippyOptions,\n            shouldShow\n        });\n        menuEditor.registerPlugin(plugin);\n        return ()=>menuEditor.unregisterPlugin(pluginKey);\n    }, [\n        props.editor,\n        currentEditor,\n        element\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setElement,\n        className: props.className,\n        style: {\n            visibility: \"hidden\"\n        }\n    }, props.children);\n};\nconst ReactNodeViewContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    onDragStart: undefined\n});\nconst useReactNodeView = ()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ReactNodeViewContext);\nconst NodeViewContent = (props)=>{\n    const Tag = props.as || \"div\";\n    const { nodeViewContentRef } = useReactNodeView();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Tag, {\n        ...props,\n        ref: nodeViewContentRef,\n        \"data-node-view-content\": \"\",\n        style: {\n            whiteSpace: \"pre-wrap\",\n            ...props.style\n        }\n    });\n};\nconst NodeViewWrapper = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, ref)=>{\n    const { onDragStart } = useReactNodeView();\n    const Tag = props.as || \"div\";\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Tag, {\n        ...props,\n        ref: ref,\n        \"data-node-view-wrapper\": \"\",\n        onDragStart: onDragStart,\n        style: {\n            whiteSpace: \"normal\",\n            ...props.style\n        }\n    });\n});\nfunction isClassComponent(Component) {\n    return !!(typeof Component === \"function\" && Component.prototype && Component.prototype.isReactComponent);\n}\nfunction isForwardRefComponent(Component) {\n    var _a;\n    return !!(typeof Component === \"object\" && ((_a = Component.$$typeof) === null || _a === void 0 ? void 0 : _a.toString()) === \"Symbol(react.forward_ref)\");\n}\nclass ReactRenderer {\n    constructor(component, { editor, props = {}, as = \"div\", className = \"\", attrs }){\n        this.ref = null;\n        this.id = Math.floor(Math.random() * 0xFFFFFFFF).toString();\n        this.component = component;\n        this.editor = editor;\n        this.props = props;\n        this.element = document.createElement(as);\n        this.element.classList.add(\"react-renderer\");\n        if (className) {\n            this.element.classList.add(...className.split(\" \"));\n        }\n        if (attrs) {\n            Object.keys(attrs).forEach((key)=>{\n                this.element.setAttribute(key, attrs[key]);\n            });\n        }\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        const Component = this.component;\n        const props = this.props;\n        if (isClassComponent(Component) || isForwardRefComponent(Component)) {\n            props.ref = (ref)=>{\n                this.ref = ref;\n            };\n        }\n        this.reactElement = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n            ...props\n        });\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.setRenderer(this.id, this);\n    }\n    updateProps(props = {}) {\n        this.props = {\n            ...this.props,\n            ...props\n        };\n        this.render();\n    }\n    destroy() {\n        var _a, _b;\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.removeRenderer(this.id);\n    }\n}\nclass ReactNodeView extends _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.NodeView {\n    mount() {\n        const props = {\n            editor: this.editor,\n            node: this.node,\n            decorations: this.decorations,\n            selected: false,\n            extension: this.extension,\n            getPos: ()=>this.getPos(),\n            updateAttributes: (attributes = {})=>this.updateAttributes(attributes),\n            deleteNode: ()=>this.deleteNode()\n        };\n        if (!this.component.displayName) {\n            const capitalizeFirstChar = (string)=>{\n                return string.charAt(0).toUpperCase() + string.substring(1);\n            };\n            this.component.displayName = capitalizeFirstChar(this.extension.name);\n        }\n        const ReactNodeViewProvider = (componentProps)=>{\n            const Component = this.component;\n            const onDragStart = this.onDragStart.bind(this);\n            const nodeViewContentRef = (element)=>{\n                if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n                    element.appendChild(this.contentDOMElement);\n                }\n            };\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ReactNodeViewContext.Provider, {\n                value: {\n                    onDragStart,\n                    nodeViewContentRef\n                }\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n                ...componentProps\n            })));\n        };\n        ReactNodeViewProvider.displayName = \"ReactNodeView\";\n        this.contentDOMElement = this.node.isLeaf ? null : document.createElement(this.node.isInline ? \"span\" : \"div\");\n        if (this.contentDOMElement) {\n            // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\n            // With this fix it seems to work fine\n            // See: https://github.com/ueberdosis/tiptap/issues/1197\n            this.contentDOMElement.style.whiteSpace = \"inherit\";\n        }\n        let as = this.node.isInline ? \"span\" : \"div\";\n        if (this.options.as) {\n            as = this.options.as;\n        }\n        const { className = \"\" } = this.options;\n        this.handleSelectionUpdate = this.handleSelectionUpdate.bind(this);\n        this.editor.on(\"selectionUpdate\", this.handleSelectionUpdate);\n        this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n            editor: this.editor,\n            props,\n            as,\n            className: `node-${this.node.type.name} ${className}`.trim(),\n            attrs: this.options.attrs\n        });\n    }\n    get dom() {\n        var _a;\n        if (this.renderer.element.firstElementChild && !((_a = this.renderer.element.firstElementChild) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"data-node-view-wrapper\"))) {\n            throw Error(\"Please use the NodeViewWrapper component for your node view.\");\n        }\n        return this.renderer.element;\n    }\n    get contentDOM() {\n        if (this.node.isLeaf) {\n            return null;\n        }\n        return this.contentDOMElement;\n    }\n    handleSelectionUpdate() {\n        const { from, to } = this.editor.state.selection;\n        if (from <= this.getPos() && to >= this.getPos() + this.node.nodeSize) {\n            if (this.renderer.props.selected) {\n                return;\n            }\n            this.selectNode();\n        } else {\n            if (!this.renderer.props.selected) {\n                return;\n            }\n            this.deselectNode();\n        }\n    }\n    update(node, decorations) {\n        const updateProps = (props)=>{\n            this.renderer.updateProps(props);\n        };\n        if (node.type !== this.node.type) {\n            return false;\n        }\n        if (typeof this.options.update === \"function\") {\n            const oldNode = this.node;\n            const oldDecorations = this.decorations;\n            this.node = node;\n            this.decorations = decorations;\n            return this.options.update({\n                oldNode,\n                oldDecorations,\n                newNode: node,\n                newDecorations: decorations,\n                updateProps: ()=>updateProps({\n                        node,\n                        decorations\n                    })\n            });\n        }\n        if (node === this.node && this.decorations === decorations) {\n            return true;\n        }\n        this.node = node;\n        this.decorations = decorations;\n        updateProps({\n            node,\n            decorations\n        });\n        return true;\n    }\n    selectNode() {\n        this.renderer.updateProps({\n            selected: true\n        });\n        this.renderer.element.classList.add(\"ProseMirror-selectednode\");\n    }\n    deselectNode() {\n        this.renderer.updateProps({\n            selected: false\n        });\n        this.renderer.element.classList.remove(\"ProseMirror-selectednode\");\n    }\n    destroy() {\n        this.renderer.destroy();\n        this.editor.off(\"selectionUpdate\", this.handleSelectionUpdate);\n        this.contentDOMElement = null;\n    }\n}\nfunction ReactNodeViewRenderer(component, options) {\n    return (props)=>{\n        // try to get the parent component\n        // this is important for vue devtools to show the component hierarchy correctly\n        // maybe it’s `undefined` because <editor-content> isn’t rendered yet\n        if (!props.editor.contentComponent) {\n            return {};\n        }\n        return new ReactNodeView(component, props, options);\n    };\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNxQjtBQUN0QztBQUNZO0FBQy9CO0FBQ3dDO0FBRXJFLE1BQU1hLFVBQVUsQ0FBQyxFQUFFQyxTQUFTLEVBQUU7SUFDMUIscUJBQVFiLGdEQUFtQixDQUFDQSwyQ0FBYyxFQUFFLE1BQU1nQixPQUFPQyxPQUFPLENBQUNKLFdBQVdLLEdBQUcsQ0FBQyxDQUFDLENBQUNDLEtBQUtDLFNBQVM7UUFDNUYscUJBQU9kLG1EQUFxQixDQUFDYyxTQUFTRSxZQUFZLEVBQUVGLFNBQVNHLE9BQU8sRUFBRUo7SUFDMUU7QUFDSjtBQUNBLE1BQU1LLDBCQUEwQnhCLDRDQUFlO0lBQzNDMEIsWUFBWUMsS0FBSyxDQUFFO1FBQ2YsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsZ0JBQWdCLGlCQUFHNUIsNENBQWU7UUFDdkMsSUFBSSxDQUFDOEIsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsS0FBSyxHQUFHO1lBQ1RsQixXQUFXLENBQUM7UUFDaEI7SUFDSjtJQUNBbUIsb0JBQW9CO1FBQ2hCLElBQUksQ0FBQ0MsSUFBSTtJQUNiO0lBQ0FDLHFCQUFxQjtRQUNqQixJQUFJLENBQUNELElBQUk7SUFDYjtJQUNBQSxPQUFPO1FBQ0gsTUFBTSxFQUFFRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUNSLEtBQUs7UUFDN0IsSUFBSVEsVUFBVUEsT0FBT0MsT0FBTyxDQUFDYixPQUFPLEVBQUU7WUFDbEMsSUFBSVksT0FBT0UsZ0JBQWdCLEVBQUU7Z0JBQ3pCO1lBQ0o7WUFDQSxNQUFNZCxVQUFVLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUNVLE9BQU87WUFDN0Nm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WDtRQUNBLElBQUksQ0FBQ0QsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtRQUNuQkosWUFBWTtZQUFFRztZQUFNQztRQUFZO1FBQ2hDLE9BQU87SUFDWDtJQUNBaUMsYUFBYTtRQUNULElBQUksQ0FBQzFLLFFBQVEsQ0FBQ3FJLFdBQVcsQ0FBQztZQUN0QkssVUFBVTtRQUNkO1FBQ0EsSUFBSSxDQUFDMUksUUFBUSxDQUFDRyxPQUFPLENBQUMySCxTQUFTLENBQUNDLEdBQUcsQ0FBQztJQUN4QztJQUNBNEMsZUFBZTtRQUNYLElBQUksQ0FBQzNLLFFBQVEsQ0FBQ3FJLFdBQVcsQ0FBQztZQUN0QkssVUFBVTtRQUNkO1FBQ0EsSUFBSSxDQUFDMUksUUFBUSxDQUFDRyxPQUFPLENBQUMySCxTQUFTLENBQUNtRCxNQUFNLENBQUM7SUFDM0M7SUFDQW5HLFVBQVU7UUFDTixJQUFJLENBQUM5RSxRQUFRLENBQUM4RSxPQUFPO1FBQ3JCLElBQUksQ0FBQy9ELE1BQU0sQ0FBQzBELEdBQUcsQ0FBQyxtQkFBbUIsSUFBSSxDQUFDcUYscUJBQXFCO1FBQzdELElBQUksQ0FBQ0osaUJBQWlCLEdBQUc7SUFDN0I7QUFDSjtBQUNBLFNBQVN3QixzQkFBc0J0RCxTQUFTLEVBQUU1RyxPQUFPO0lBQzdDLE9BQU8sQ0FBQ1Q7UUFDSixrQ0FBa0M7UUFDbEMsK0VBQStFO1FBQy9FLHFFQUFxRTtRQUNyRSxJQUFJLENBQUNBLE1BQU1RLE1BQU0sQ0FBQ0UsZ0JBQWdCLEVBQUU7WUFDaEMsT0FBTyxDQUFDO1FBQ1o7UUFDQSxPQUFPLElBQUlxSCxjQUFjVixXQUFXckgsT0FBT1M7SUFDL0M7QUFDSjtBQUVrTyxDQUNsTyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcmVhY3QvZGlzdC9pbmRleC5qcz9hYmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1YmJsZU1lbnVQbHVnaW4gfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1idWJibGUtbWVudSc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NLCB7IGZsdXNoU3luYyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBFZGl0b3IgYXMgRWRpdG9yJDEsIE5vZGVWaWV3IH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyBGbG9hdGluZ01lbnVQbHVnaW4gfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1mbG9hdGluZy1tZW51JztcblxuY29uc3QgUG9ydGFscyA9ICh7IHJlbmRlcmVycyB9KSA9PiB7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIE9iamVjdC5lbnRyaWVzKHJlbmRlcmVycykubWFwKChba2V5LCByZW5kZXJlcl0pID0+IHtcclxuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKHJlbmRlcmVyLnJlYWN0RWxlbWVudCwgcmVuZGVyZXIuZWxlbWVudCwga2V5KTtcclxuICAgIH0pKSk7XHJcbn07XHJcbmNsYXNzIFB1cmVFZGl0b3JDb250ZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yQ29udGVudFJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZW5kZXJlcnM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgaWYgKGVkaXRvciAmJiBlZGl0b3Iub3B0aW9ucy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuY29udGVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVkaXRvckNvbnRlbnRSZWYuY3VycmVudDtcclxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoLi4uZWRpdG9yLm9wdGlvbnMuZWxlbWVudC5jaGlsZE5vZGVzKTtcclxuICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5jb250ZW50Q29tcG9uZW50ID0gdGhpcztcclxuICAgICAgICAgICAgZWRpdG9yLmNyZWF0ZU5vZGVWaWV3cygpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtYXliZUZsdXNoU3luYyhmbikge1xyXG4gICAgICAgIC8vIEF2b2lkIGNhbGxpbmcgZmx1c2hTeW5jIHVudGlsIHRoZSBlZGl0b3IgaXMgaW5pdGlhbGl6ZWQuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24gaGFwcGVucyBkdXJpbmcgdGhlIGNvbXBvbmVudERpZE1vdW50IG9yIGNvbXBvbmVudERpZFVwZGF0ZVxyXG4gICAgICAgIC8vIGxpZmVjeWNsZSBtZXRob2RzLCBhbmQgUmVhY3QgZG9lc24ndCBhbGxvdyBjYWxsaW5nIGZsdXNoU3luYyBmcm9tIGluc2lkZVxyXG4gICAgICAgIC8vIGEgbGlmZWN5Y2xlIG1ldGhvZC5cclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICBmbHVzaFN5bmMoZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRSZW5kZXJlcihpZCwgcmVuZGVyZXIpIHtcclxuICAgICAgICB0aGlzLm1heWJlRmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoeyByZW5kZXJlcnMgfSkgPT4gKHtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlbmRlcmVycyxcclxuICAgICAgICAgICAgICAgICAgICBbaWRdOiByZW5kZXJlcixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbW92ZVJlbmRlcmVyKGlkKSB7XHJcbiAgICAgICAgdGhpcy5tYXliZUZsdXNoU3luYygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHsgcmVuZGVyZXJzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRSZW5kZXJlcnMgPSB7IC4uLnJlbmRlcmVycyB9O1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG5leHRSZW5kZXJlcnNbaWRdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVuZGVyZXJzOiBuZXh0UmVuZGVyZXJzIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgaWYgKCFlZGl0b3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFlZGl0b3IuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgZWRpdG9yLnZpZXcuc2V0UHJvcHMoe1xyXG4gICAgICAgICAgICAgICAgbm9kZVZpZXdzOiB7fSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVkaXRvci5jb250ZW50Q29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICBpZiAoIWVkaXRvci5vcHRpb25zLmVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBuZXdFbGVtZW50LmFwcGVuZCguLi5lZGl0b3Iub3B0aW9ucy5lbGVtZW50LmNoaWxkTm9kZXMpO1xyXG4gICAgICAgIGVkaXRvci5zZXRPcHRpb25zKHtcclxuICAgICAgICAgICAgZWxlbWVudDogbmV3RWxlbWVudCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGVkaXRvciwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMuZWRpdG9yQ29udGVudFJlZiwgLi4ucmVzdCB9KSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWxzLCB7IHJlbmRlcmVyczogdGhpcy5zdGF0ZS5yZW5kZXJlcnMgfSkpKTtcclxuICAgIH1cclxufVxyXG4vLyBFZGl0b3JDb250ZW50IHNob3VsZCBiZSByZS1jcmVhdGVkIHdoZW5ldmVyIHRoZSBFZGl0b3IgaW5zdGFuY2UgY2hhbmdlc1xyXG5jb25zdCBFZGl0b3JDb250ZW50V2l0aEtleSA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4RkZGRkZGRkYpLnRvU3RyaW5nKCk7XHJcbiAgICB9LCBbcHJvcHMuZWRpdG9yXSk7XHJcbiAgICAvLyBDYW4ndCB1c2UgSlNYIGhlcmUgYmVjYXVzZSBpdCBjb25mbGljdHMgd2l0aCB0aGUgdHlwZSBkZWZpbml0aW9uIG9mIFZ1ZSdzIEpTWCwgc28gdXNlIGNyZWF0ZUVsZW1lbnRcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFB1cmVFZGl0b3JDb250ZW50LCB7IGtleSwgLi4ucHJvcHMgfSk7XHJcbn07XHJcbmNvbnN0IEVkaXRvckNvbnRlbnQgPSBSZWFjdC5tZW1vKEVkaXRvckNvbnRlbnRXaXRoS2V5KTtcblxuY2xhc3MgRWRpdG9yIGV4dGVuZHMgRWRpdG9yJDEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRDb21wb25lbnQgPSBudWxsO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xyXG4gICAgY29uc3QgWywgc2V0VmFsdWVdID0gdXNlU3RhdGUoMCk7XHJcbiAgICByZXR1cm4gKCkgPT4gc2V0VmFsdWUodmFsdWUgPT4gdmFsdWUgKyAxKTtcclxufVxyXG5jb25zdCB1c2VFZGl0b3IgPSAob3B0aW9ucyA9IHt9LCBkZXBzID0gW10pID0+IHtcclxuICAgIGNvbnN0IFtlZGl0b3IsIHNldEVkaXRvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICAgIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcclxuICAgIGNvbnN0IHsgb25CZWZvcmVDcmVhdGUsIG9uQmx1ciwgb25DcmVhdGUsIG9uRGVzdHJveSwgb25Gb2N1cywgb25TZWxlY3Rpb25VcGRhdGUsIG9uVHJhbnNhY3Rpb24sIG9uVXBkYXRlLCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IG9uQmVmb3JlQ3JlYXRlUmVmID0gdXNlUmVmKG9uQmVmb3JlQ3JlYXRlKTtcclxuICAgIGNvbnN0IG9uQmx1clJlZiA9IHVzZVJlZihvbkJsdXIpO1xyXG4gICAgY29uc3Qgb25DcmVhdGVSZWYgPSB1c2VSZWYob25DcmVhdGUpO1xyXG4gICAgY29uc3Qgb25EZXN0cm95UmVmID0gdXNlUmVmKG9uRGVzdHJveSk7XHJcbiAgICBjb25zdCBvbkZvY3VzUmVmID0gdXNlUmVmKG9uRm9jdXMpO1xyXG4gICAgY29uc3Qgb25TZWxlY3Rpb25VcGRhdGVSZWYgPSB1c2VSZWYob25TZWxlY3Rpb25VcGRhdGUpO1xyXG4gICAgY29uc3Qgb25UcmFuc2FjdGlvblJlZiA9IHVzZVJlZihvblRyYW5zYWN0aW9uKTtcclxuICAgIGNvbnN0IG9uVXBkYXRlUmVmID0gdXNlUmVmKG9uVXBkYXRlKTtcclxuICAgIC8vIFRoaXMgZWZmZWN0IHdpbGwgaGFuZGxlIHVwZGF0aW5nIHRoZSBlZGl0b3IgaW5zdGFuY2VcclxuICAgIC8vIHdoZW4gdGhlIGV2ZW50IGhhbmRsZXJzIGNoYW5nZS5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFlZGl0b3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob25CZWZvcmVDcmVhdGUpIHtcclxuICAgICAgICAgICAgZWRpdG9yLm9mZignYmVmb3JlQ3JlYXRlJywgb25CZWZvcmVDcmVhdGVSZWYuY3VycmVudCk7XHJcbiAgICAgICAgICAgIGVkaXRvci5vbignYmVmb3JlQ3JlYXRlJywgb25CZWZvcmVDcmVhdGUpO1xyXG4gICAgICAgICAgICBvbkJlZm9yZUNyZWF0ZVJlZi5jdXJyZW50ID0gb25CZWZvcmVDcmVhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbkJsdXIpIHtcclxuICAgICAgICAgICAgZWRpdG9yLm9mZignYmx1cicsIG9uQmx1clJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yLm9uKCdibHVyJywgb25CbHVyKTtcclxuICAgICAgICAgICAgb25CbHVyUmVmLmN1cnJlbnQgPSBvbkJsdXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbkNyZWF0ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3Iub2ZmKCdjcmVhdGUnLCBvbkNyZWF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yLm9uKCdjcmVhdGUnLCBvbkNyZWF0ZSk7XHJcbiAgICAgICAgICAgIG9uQ3JlYXRlUmVmLmN1cnJlbnQgPSBvbkNyZWF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uRGVzdHJveSkge1xyXG4gICAgICAgICAgICBlZGl0b3Iub2ZmKCdkZXN0cm95Jywgb25EZXN0cm95UmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3Iub24oJ2Rlc3Ryb3knLCBvbkRlc3Ryb3kpO1xyXG4gICAgICAgICAgICBvbkRlc3Ryb3lSZWYuY3VycmVudCA9IG9uRGVzdHJveTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uRm9jdXMpIHtcclxuICAgICAgICAgICAgZWRpdG9yLm9mZignZm9jdXMnLCBvbkZvY3VzUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3Iub24oJ2ZvY3VzJywgb25Gb2N1cyk7XHJcbiAgICAgICAgICAgIG9uRm9jdXNSZWYuY3VycmVudCA9IG9uRm9jdXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvblNlbGVjdGlvblVwZGF0ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3Iub2ZmKCdzZWxlY3Rpb25VcGRhdGUnLCBvblNlbGVjdGlvblVwZGF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yLm9uKCdzZWxlY3Rpb25VcGRhdGUnLCBvblNlbGVjdGlvblVwZGF0ZSk7XHJcbiAgICAgICAgICAgIG9uU2VsZWN0aW9uVXBkYXRlUmVmLmN1cnJlbnQgPSBvblNlbGVjdGlvblVwZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgZWRpdG9yLm9mZigndHJhbnNhY3Rpb24nLCBvblRyYW5zYWN0aW9uUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3Iub24oJ3RyYW5zYWN0aW9uJywgb25UcmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgIG9uVHJhbnNhY3Rpb25SZWYuY3VycmVudCA9IG9uVHJhbnNhY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvblVwZGF0ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3Iub2ZmKCd1cGRhdGUnLCBvblVwZGF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yLm9uKCd1cGRhdGUnLCBvblVwZGF0ZSk7XHJcbiAgICAgICAgICAgIG9uVXBkYXRlUmVmLmN1cnJlbnQgPSBvblVwZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbb25CZWZvcmVDcmVhdGUsIG9uQmx1ciwgb25DcmVhdGUsIG9uRGVzdHJveSwgb25Gb2N1cywgb25TZWxlY3Rpb25VcGRhdGUsIG9uVHJhbnNhY3Rpb24sIG9uVXBkYXRlLCBlZGl0b3JdKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRWRpdG9yKG9wdGlvbnMpO1xyXG4gICAgICAgIHNldEVkaXRvcihpbnN0YW5jZSk7XHJcbiAgICAgICAgaW5zdGFuY2Uub24oJ3RyYW5zYWN0aW9uJywgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBkZXBzKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgZWRpdG9yID09PSBudWxsIHx8IGVkaXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWRpdG9yLmRlc3Ryb3koKTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgW2VkaXRvcl0pO1xyXG4gICAgcmV0dXJuIGVkaXRvcjtcclxufTtcblxuY29uc3QgRWRpdG9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xyXG4gICAgZWRpdG9yOiBudWxsLFxyXG59KTtcclxuY29uc3QgRWRpdG9yQ29uc3VtZXIgPSBFZGl0b3JDb250ZXh0LkNvbnN1bWVyO1xyXG5jb25zdCB1c2VDdXJyZW50RWRpdG9yID0gKCkgPT4gdXNlQ29udGV4dChFZGl0b3JDb250ZXh0KTtcclxuY29uc3QgRWRpdG9yUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiwgc2xvdEFmdGVyLCBzbG90QmVmb3JlLCAuLi5lZGl0b3JPcHRpb25zIH0pID0+IHtcclxuICAgIGNvbnN0IGVkaXRvciA9IHVzZUVkaXRvcihlZGl0b3JPcHRpb25zKTtcclxuICAgIGlmICghZWRpdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdG9yQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBlZGl0b3IgfSB9LFxyXG4gICAgICAgIHNsb3RCZWZvcmUsXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0b3JDb25zdW1lciwgbnVsbCwgKHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRvckNvbnRlbnQsIHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0pKSksXHJcbiAgICAgICAgY2hpbGRyZW4sXHJcbiAgICAgICAgc2xvdEFmdGVyKSk7XHJcbn07XG5cbmNvbnN0IEJ1YmJsZU1lbnUgPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IFtlbGVtZW50LCBzZXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gICAgY29uc3QgeyBlZGl0b3I6IGN1cnJlbnRFZGl0b3IgfSA9IHVzZUN1cnJlbnRFZGl0b3IoKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoKF9hID0gcHJvcHMuZWRpdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNEZXN0cm95ZWQpIHx8IChjdXJyZW50RWRpdG9yID09PSBudWxsIHx8IGN1cnJlbnRFZGl0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRFZGl0b3IuaXNEZXN0cm95ZWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBwbHVnaW5LZXkgPSAnYnViYmxlTWVudScsIGVkaXRvciwgdGlwcHlPcHRpb25zID0ge30sIHVwZGF0ZURlbGF5LCBzaG91bGRTaG93ID0gbnVsbCwgfSA9IHByb3BzO1xyXG4gICAgICAgIGNvbnN0IG1lbnVFZGl0b3IgPSBlZGl0b3IgfHwgY3VycmVudEVkaXRvcjtcclxuICAgICAgICBpZiAoIW1lbnVFZGl0b3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdCdWJibGVNZW51IGNvbXBvbmVudCBpcyBub3QgcmVuZGVyZWQgaW5zaWRlIG9mIGFuIGVkaXRvciBjb21wb25lbnQgb3IgZG9lcyBub3QgaGF2ZSBlZGl0b3IgcHJvcC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwbHVnaW4gPSBCdWJibGVNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgdXBkYXRlRGVsYXksXHJcbiAgICAgICAgICAgIGVkaXRvcjogbWVudUVkaXRvcixcclxuICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgcGx1Z2luS2V5LFxyXG4gICAgICAgICAgICBzaG91bGRTaG93LFxyXG4gICAgICAgICAgICB0aXBweU9wdGlvbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudUVkaXRvci5yZWdpc3RlclBsdWdpbihwbHVnaW4pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiBtZW51RWRpdG9yLnVucmVnaXN0ZXJQbHVnaW4ocGx1Z2luS2V5KTtcclxuICAgIH0sIFtwcm9wcy5lZGl0b3IsIGN1cnJlbnRFZGl0b3IsIGVsZW1lbnRdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0RWxlbWVudCwgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIHN0eWxlOiB7IHZpc2liaWxpdHk6ICdoaWRkZW4nIH0gfSwgcHJvcHMuY2hpbGRyZW4pKTtcclxufTtcblxuY29uc3QgRmxvYXRpbmdNZW51ID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBbZWxlbWVudCwgc2V0RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICAgIGNvbnN0IHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0gPSB1c2VDdXJyZW50RWRpdG9yKCk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKChfYSA9IHByb3BzLmVkaXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRGVzdHJveWVkKSB8fCAoY3VycmVudEVkaXRvciA9PT0gbnVsbCB8fCBjdXJyZW50RWRpdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RWRpdG9yLmlzRGVzdHJveWVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgcGx1Z2luS2V5ID0gJ2Zsb2F0aW5nTWVudScsIGVkaXRvciwgdGlwcHlPcHRpb25zID0ge30sIHNob3VsZFNob3cgPSBudWxsLCB9ID0gcHJvcHM7XHJcbiAgICAgICAgY29uc3QgbWVudUVkaXRvciA9IGVkaXRvciB8fCBjdXJyZW50RWRpdG9yO1xyXG4gICAgICAgIGlmICghbWVudUVkaXRvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Zsb2F0aW5nTWVudSBjb21wb25lbnQgaXMgbm90IHJlbmRlcmVkIGluc2lkZSBvZiBhbiBlZGl0b3IgY29tcG9uZW50IG9yIGRvZXMgbm90IGhhdmUgZWRpdG9yIHByb3AuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gRmxvYXRpbmdNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgcGx1Z2luS2V5LFxyXG4gICAgICAgICAgICBlZGl0b3I6IG1lbnVFZGl0b3IsXHJcbiAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgIHRpcHB5T3B0aW9ucyxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51RWRpdG9yLnJlZ2lzdGVyUGx1Z2luKHBsdWdpbik7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IG1lbnVFZGl0b3IudW5yZWdpc3RlclBsdWdpbihwbHVnaW5LZXkpO1xyXG4gICAgfSwgW1xyXG4gICAgICAgIHByb3BzLmVkaXRvcixcclxuICAgICAgICBjdXJyZW50RWRpdG9yLFxyXG4gICAgICAgIGVsZW1lbnQsXHJcbiAgICBdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0RWxlbWVudCwgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIHN0eWxlOiB7IHZpc2liaWxpdHk6ICdoaWRkZW4nIH0gfSwgcHJvcHMuY2hpbGRyZW4pKTtcclxufTtcblxuY29uc3QgUmVhY3ROb2RlVmlld0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcclxuICAgIG9uRHJhZ1N0YXJ0OiB1bmRlZmluZWQsXHJcbn0pO1xyXG5jb25zdCB1c2VSZWFjdE5vZGVWaWV3ID0gKCkgPT4gdXNlQ29udGV4dChSZWFjdE5vZGVWaWV3Q29udGV4dCk7XG5cbmNvbnN0IE5vZGVWaWV3Q29udGVudCA9IHByb3BzID0+IHtcclxuICAgIGNvbnN0IFRhZyA9IHByb3BzLmFzIHx8ICdkaXYnO1xyXG4gICAgY29uc3QgeyBub2RlVmlld0NvbnRlbnRSZWYgfSA9IHVzZVJlYWN0Tm9kZVZpZXcoKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWcsIHsgLi4ucHJvcHMsIHJlZjogbm9kZVZpZXdDb250ZW50UmVmLCBcImRhdGEtbm9kZS12aWV3LWNvbnRlbnRcIjogXCJcIiwgc3R5bGU6IHtcclxuICAgICAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcclxuICAgICAgICAgICAgLi4ucHJvcHMuc3R5bGUsXHJcbiAgICAgICAgfSB9KSk7XHJcbn07XG5cbmNvbnN0IE5vZGVWaWV3V3JhcHBlciA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcclxuICAgIGNvbnN0IHsgb25EcmFnU3RhcnQgfSA9IHVzZVJlYWN0Tm9kZVZpZXcoKTtcclxuICAgIGNvbnN0IFRhZyA9IHByb3BzLmFzIHx8ICdkaXYnO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhZywgeyAuLi5wcm9wcywgcmVmOiByZWYsIFwiZGF0YS1ub2RlLXZpZXctd3JhcHBlclwiOiBcIlwiLCBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsIHN0eWxlOiB7XHJcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAuLi5wcm9wcy5zdHlsZSxcclxuICAgICAgICB9IH0pKTtcclxufSk7XG5cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gISEodHlwZW9mIENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICYmIENvbXBvbmVudC5wcm90b3R5cGVcclxuICAgICAgICAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZkNvbXBvbmVudChDb21wb25lbnQpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHJldHVybiAhISh0eXBlb2YgQ29tcG9uZW50ID09PSAnb2JqZWN0J1xyXG4gICAgICAgICYmICgoX2EgPSBDb21wb25lbnQuJCR0eXBlb2YpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSA9PT0gJ1N5bWJvbChyZWFjdC5mb3J3YXJkX3JlZiknKTtcclxufVxyXG5jbGFzcyBSZWFjdFJlbmRlcmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgeyBlZGl0b3IsIHByb3BzID0ge30sIGFzID0gJ2RpdicsIGNsYXNzTmFtZSA9ICcnLCBhdHRycywgfSkge1xyXG4gICAgICAgIHRoaXMucmVmID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhGRkZGRkZGRikudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcclxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhcyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JlYWN0LXJlbmRlcmVyJyk7XHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdHRycykge1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGNvbnN0IENvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50O1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZiAoaXNDbGFzc0NvbXBvbmVudChDb21wb25lbnQpIHx8IGlzRm9yd2FyZFJlZkNvbXBvbmVudChDb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnJlZiA9IChyZWYpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlYWN0RWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IC4uLnByb3BzIH0pO1xyXG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZWRpdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGVudENvbXBvbmVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNldFJlbmRlcmVyKHRoaXMuaWQsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUHJvcHMocHJvcHMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMucHJvcHMsXHJcbiAgICAgICAgICAgIC4uLnByb3BzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmVkaXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRlbnRDb21wb25lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdmVSZW5kZXJlcih0aGlzLmlkKTtcclxuICAgIH1cclxufVxuXG5jbGFzcyBSZWFjdE5vZGVWaWV3IGV4dGVuZHMgTm9kZVZpZXcge1xyXG4gICAgbW91bnQoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgIG5vZGU6IHRoaXMubm9kZSxcclxuICAgICAgICAgICAgZGVjb3JhdGlvbnM6IHRoaXMuZGVjb3JhdGlvbnMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uOiB0aGlzLmV4dGVuc2lvbixcclxuICAgICAgICAgICAgZ2V0UG9zOiAoKSA9PiB0aGlzLmdldFBvcygpLFxyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGVzOiAoYXR0cmlidXRlcyA9IHt9KSA9PiB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXMoYXR0cmlidXRlcyksXHJcbiAgICAgICAgICAgIGRlbGV0ZU5vZGU6ICgpID0+IHRoaXMuZGVsZXRlTm9kZSgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5kaXNwbGF5TmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYXBpdGFsaXplRmlyc3RDaGFyID0gKHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmRpc3BsYXlOYW1lID0gY2FwaXRhbGl6ZUZpcnN0Q2hhcih0aGlzLmV4dGVuc2lvbi5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgUmVhY3ROb2RlVmlld1Byb3ZpZGVyID0gY29tcG9uZW50UHJvcHMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBDb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgY29uc3Qgb25EcmFnU3RhcnQgPSB0aGlzLm9uRHJhZ1N0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVWaWV3Q29udGVudFJlZiA9IGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5jb250ZW50RE9NRWxlbWVudCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQgIT09IHRoaXMuY29udGVudERPTUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGVudERPTUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0Tm9kZVZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IG9uRHJhZ1N0YXJ0LCBub2RlVmlld0NvbnRlbnRSZWYgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IC4uLmNvbXBvbmVudFByb3BzIH0pKSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUmVhY3ROb2RlVmlld1Byb3ZpZGVyLmRpc3BsYXlOYW1lID0gJ1JlYWN0Tm9kZVZpZXcnO1xyXG4gICAgICAgIHRoaXMuY29udGVudERPTUVsZW1lbnQgPSB0aGlzLm5vZGUuaXNMZWFmXHJcbiAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5ub2RlLmlzSW5saW5lID8gJ3NwYW4nIDogJ2RpdicpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET01FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiB0aGUgd2hpdGVTcGFjZSBwcm9wIGlzIG5vdCBpbmhlcml0ZWQgcHJvcGVybHkgaW4gQ2hyb21lIGFuZCBTYWZhcmlcclxuICAgICAgICAgICAgLy8gV2l0aCB0aGlzIGZpeCBpdCBzZWVtcyB0byB3b3JrIGZpbmVcclxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzExOTdcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50RE9NRWxlbWVudC5zdHlsZS53aGl0ZVNwYWNlID0gJ2luaGVyaXQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXMgPSB0aGlzLm5vZGUuaXNJbmxpbmUgPyAnc3BhbicgOiAnZGl2JztcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFzKSB7XHJcbiAgICAgICAgICAgIGFzID0gdGhpcy5vcHRpb25zLmFzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IGNsYXNzTmFtZSA9ICcnIH0gPSB0aGlzLm9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb25VcGRhdGUgPSB0aGlzLmhhbmRsZVNlbGVjdGlvblVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKCdzZWxlY3Rpb25VcGRhdGUnLCB0aGlzLmhhbmRsZVNlbGVjdGlvblVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZWFjdFJlbmRlcmVyKFJlYWN0Tm9kZVZpZXdQcm92aWRlciwge1xyXG4gICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICBwcm9wcyxcclxuICAgICAgICAgICAgYXMsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogYG5vZGUtJHt0aGlzLm5vZGUudHlwZS5uYW1lfSAke2NsYXNzTmFtZX1gLnRyaW0oKSxcclxuICAgICAgICAgICAgYXR0cnM6IHRoaXMub3B0aW9ucy5hdHRycyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldCBkb20oKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGRcclxuICAgICAgICAgICAgJiYgISgoX2EgPSB0aGlzLnJlbmRlcmVyLmVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXNBdHRyaWJ1dGUoJ2RhdGEtbm9kZS12aWV3LXdyYXBwZXInKSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1BsZWFzZSB1c2UgdGhlIE5vZGVWaWV3V3JhcHBlciBjb21wb25lbnQgZm9yIHlvdXIgbm9kZSB2aWV3LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5lbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbnRlbnRET00oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZS5pc0xlYWYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRET01FbGVtZW50O1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU2VsZWN0aW9uVXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHRoaXMuZWRpdG9yLnN0YXRlLnNlbGVjdGlvbjtcclxuICAgICAgICBpZiAoZnJvbSA8PSB0aGlzLmdldFBvcygpICYmIHRvID49IHRoaXMuZ2V0UG9zKCkgKyB0aGlzLm5vZGUubm9kZVNpemUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucHJvcHMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdE5vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5wcm9wcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGVzZWxlY3ROb2RlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKG5vZGUsIGRlY29yYXRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlUHJvcHMgPSAocHJvcHMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVQcm9wcyhwcm9wcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobm9kZS50eXBlICE9PSB0aGlzLm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zdCBvbGROb2RlID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICBjb25zdCBvbGREZWNvcmF0aW9ucyA9IHRoaXMuZGVjb3JhdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgb2xkTm9kZSxcclxuICAgICAgICAgICAgICAgIG9sZERlY29yYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZTogbm9kZSxcclxuICAgICAgICAgICAgICAgIG5ld0RlY29yYXRpb25zOiBkZWNvcmF0aW9ucyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVByb3BzOiAoKSA9PiB1cGRhdGVQcm9wcyh7IG5vZGUsIGRlY29yYXRpb25zIH0pLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMubm9kZSAmJiB0aGlzLmRlY29yYXRpb25zID09PSBkZWNvcmF0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcclxuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gZGVjb3JhdGlvbnM7XHJcbiAgICAgICAgdXBkYXRlUHJvcHMoeyBub2RlLCBkZWNvcmF0aW9ucyB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHNlbGVjdE5vZGUoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVQcm9wcyh7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUnKTtcclxuICAgIH1cclxuICAgIGRlc2VsZWN0Tm9kZSgpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZVByb3BzKHtcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGUnKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdzZWxlY3Rpb25VcGRhdGUnLCB0aGlzLmhhbmRsZVNlbGVjdGlvblVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RE9NRWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gUmVhY3ROb2RlVmlld1JlbmRlcmVyKGNvbXBvbmVudCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIChwcm9wcykgPT4ge1xyXG4gICAgICAgIC8vIHRyeSB0byBnZXQgdGhlIHBhcmVudCBjb21wb25lbnRcclxuICAgICAgICAvLyB0aGlzIGlzIGltcG9ydGFudCBmb3IgdnVlIGRldnRvb2xzIHRvIHNob3cgdGhlIGNvbXBvbmVudCBoaWVyYXJjaHkgY29ycmVjdGx5XHJcbiAgICAgICAgLy8gbWF5YmUgaXTigJlzIGB1bmRlZmluZWRgIGJlY2F1c2UgPGVkaXRvci1jb250ZW50PiBpc27igJl0IHJlbmRlcmVkIHlldFxyXG4gICAgICAgIGlmICghcHJvcHMuZWRpdG9yLmNvbnRlbnRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFJlYWN0Tm9kZVZpZXcoY29tcG9uZW50LCBwcm9wcywgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG59XG5cbmV4cG9ydCB7IEJ1YmJsZU1lbnUsIEVkaXRvciwgRWRpdG9yQ29uc3VtZXIsIEVkaXRvckNvbnRlbnQsIEVkaXRvckNvbnRleHQsIEVkaXRvclByb3ZpZGVyLCBGbG9hdGluZ01lbnUsIE5vZGVWaWV3Q29udGVudCwgTm9kZVZpZXdXcmFwcGVyLCBQdXJlRWRpdG9yQ29udGVudCwgUmVhY3ROb2RlVmlld1JlbmRlcmVyLCBSZWFjdFJlbmRlcmVyLCB1c2VDdXJyZW50RWRpdG9yLCB1c2VFZGl0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIkJ1YmJsZU1lbnVQbHVnaW4iLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJSZWFjdERPTSIsImZsdXNoU3luYyIsIkVkaXRvciIsIkVkaXRvciQxIiwiTm9kZVZpZXciLCJGbG9hdGluZ01lbnVQbHVnaW4iLCJQb3J0YWxzIiwicmVuZGVyZXJzIiwiY3JlYXRlRWxlbWVudCIsIkZyYWdtZW50IiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsImtleSIsInJlbmRlcmVyIiwiY3JlYXRlUG9ydGFsIiwicmVhY3RFbGVtZW50IiwiZWxlbWVudCIsIlB1cmVFZGl0b3JDb250ZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImVkaXRvckNvbnRlbnRSZWYiLCJjcmVhdGVSZWYiLCJpbml0aWFsaXplZCIsInN0YXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJpbml0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiZWRpdG9yIiwib3B0aW9ucyIsImNvbnRlbnRDb21wb25lbnQiLCJjdXJyZW50IiwiYXBwZW5kIiwiY2hpbGROb2RlcyIsInNldE9wdGlvbnMiLCJjcmVhdGVOb2RlVmlld3MiLCJtYXliZUZsdXNoU3luYyIsImZuIiwic2V0UmVuZGVyZXIiLCJpZCIsInNldFN0YXRlIiwicmVtb3ZlUmVuZGVyZXIiLCJuZXh0UmVuZGVyZXJzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpc0Rlc3Ryb3llZCIsInZpZXciLCJzZXRQcm9wcyIsIm5vZGVWaWV3cyIsImZpcnN0Q2hpbGQiLCJuZXdFbGVtZW50IiwiZG9jdW1lbnQiLCJyZW5kZXIiLCJyZXN0IiwicmVmIiwiRWRpdG9yQ29udGVudFdpdGhLZXkiLCJ1c2VNZW1vIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJFZGl0b3JDb250ZW50IiwibWVtbyIsImFyZ3VtZW50cyIsInVzZUZvcmNlVXBkYXRlIiwic2V0VmFsdWUiLCJ2YWx1ZSIsInVzZUVkaXRvciIsImRlcHMiLCJzZXRFZGl0b3IiLCJmb3JjZVVwZGF0ZSIsIm9uQmVmb3JlQ3JlYXRlIiwib25CbHVyIiwib25DcmVhdGUiLCJvbkRlc3Ryb3kiLCJvbkZvY3VzIiwib25TZWxlY3Rpb25VcGRhdGUiLCJvblRyYW5zYWN0aW9uIiwib25VcGRhdGUiLCJvbkJlZm9yZUNyZWF0ZVJlZiIsIm9uQmx1clJlZiIsIm9uQ3JlYXRlUmVmIiwib25EZXN0cm95UmVmIiwib25Gb2N1c1JlZiIsIm9uU2VsZWN0aW9uVXBkYXRlUmVmIiwib25UcmFuc2FjdGlvblJlZiIsIm9uVXBkYXRlUmVmIiwib2ZmIiwib24iLCJpc01vdW50ZWQiLCJpbnN0YW5jZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRlc3Ryb3kiLCJFZGl0b3JDb250ZXh0IiwiRWRpdG9yQ29uc3VtZXIiLCJDb25zdW1lciIsInVzZUN1cnJlbnRFZGl0b3IiLCJFZGl0b3JQcm92aWRlciIsImNoaWxkcmVuIiwic2xvdEFmdGVyIiwic2xvdEJlZm9yZSIsImVkaXRvck9wdGlvbnMiLCJQcm92aWRlciIsImN1cnJlbnRFZGl0b3IiLCJCdWJibGVNZW51Iiwic2V0RWxlbWVudCIsIl9hIiwicGx1Z2luS2V5IiwidGlwcHlPcHRpb25zIiwidXBkYXRlRGVsYXkiLCJzaG91bGRTaG93IiwibWVudUVkaXRvciIsImNvbnNvbGUiLCJ3YXJuIiwicGx1Z2luIiwicmVnaXN0ZXJQbHVnaW4iLCJ1bnJlZ2lzdGVyUGx1Z2luIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiRmxvYXRpbmdNZW51IiwiUmVhY3ROb2RlVmlld0NvbnRleHQiLCJvbkRyYWdTdGFydCIsInVuZGVmaW5lZCIsInVzZVJlYWN0Tm9kZVZpZXciLCJOb2RlVmlld0NvbnRlbnQiLCJUYWciLCJhcyIsIm5vZGVWaWV3Q29udGVudFJlZiIsIndoaXRlU3BhY2UiLCJOb2RlVmlld1dyYXBwZXIiLCJmb3J3YXJkUmVmIiwiaXNDbGFzc0NvbXBvbmVudCIsInByb3RvdHlwZSIsImlzUmVhY3RDb21wb25lbnQiLCJpc0ZvcndhcmRSZWZDb21wb25lbnQiLCIkJHR5cGVvZiIsIlJlYWN0UmVuZGVyZXIiLCJjb21wb25lbnQiLCJhdHRycyIsImNsYXNzTGlzdCIsImFkZCIsInNwbGl0Iiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJfYiIsInVwZGF0ZVByb3BzIiwiUmVhY3ROb2RlVmlldyIsIm1vdW50Iiwibm9kZSIsImRlY29yYXRpb25zIiwic2VsZWN0ZWQiLCJleHRlbnNpb24iLCJnZXRQb3MiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImRlbGV0ZU5vZGUiLCJkaXNwbGF5TmFtZSIsImNhcGl0YWxpemVGaXJzdENoYXIiLCJzdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsIm5hbWUiLCJSZWFjdE5vZGVWaWV3UHJvdmlkZXIiLCJjb21wb25lbnRQcm9wcyIsImJpbmQiLCJjb250ZW50RE9NRWxlbWVudCIsImFwcGVuZENoaWxkIiwiaXNMZWFmIiwiaXNJbmxpbmUiLCJoYW5kbGVTZWxlY3Rpb25VcGRhdGUiLCJ0eXBlIiwidHJpbSIsImRvbSIsImZpcnN0RWxlbWVudENoaWxkIiwiaGFzQXR0cmlidXRlIiwiRXJyb3IiLCJjb250ZW50RE9NIiwiZnJvbSIsInRvIiwic2VsZWN0aW9uIiwibm9kZVNpemUiLCJzZWxlY3ROb2RlIiwiZGVzZWxlY3ROb2RlIiwidXBkYXRlIiwib2xkTm9kZSIsIm9sZERlY29yYXRpb25zIiwibmV3Tm9kZSIsIm5ld0RlY29yYXRpb25zIiwicmVtb3ZlIiwiUmVhY3ROb2RlVmlld1JlbmRlcmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/react/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/starter-kit/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@tiptap/starter-kit/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StarterKit: () => (/* binding */ StarterKit),\n/* harmony export */   \"default\": () => (/* binding */ StarterKit)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_extension_blockquote__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/extension-blockquote */ \"(ssr)/./node_modules/@tiptap/extension-blockquote/dist/index.js\");\n/* harmony import */ var _tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/extension-bold */ \"(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js\");\n/* harmony import */ var _tiptap_extension_bullet_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/extension-bullet-list */ \"(ssr)/./node_modules/@tiptap/extension-bullet-list/dist/index.js\");\n/* harmony import */ var _tiptap_extension_code__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-code */ \"(ssr)/./node_modules/@tiptap/extension-code/dist/index.js\");\n/* harmony import */ var _tiptap_extension_code_block__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-code-block */ \"(ssr)/./node_modules/@tiptap/extension-code-block/dist/index.js\");\n/* harmony import */ var _tiptap_extension_document__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/extension-document */ \"(ssr)/./node_modules/@tiptap/extension-document/dist/index.js\");\n/* harmony import */ var _tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/extension-dropcursor */ \"(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/extension-gapcursor */ \"(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tiptap/extension-hard-break */ \"(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js\");\n/* harmony import */ var _tiptap_extension_heading__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tiptap/extension-heading */ \"(ssr)/./node_modules/@tiptap/extension-heading/dist/index.js\");\n/* harmony import */ var _tiptap_extension_history__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tiptap/extension-history */ \"(ssr)/./node_modules/@tiptap/extension-history/dist/index.js\");\n/* harmony import */ var _tiptap_extension_horizontal_rule__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tiptap/extension-horizontal-rule */ \"(ssr)/./node_modules/@tiptap/extension-horizontal-rule/dist/index.js\");\n/* harmony import */ var _tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tiptap/extension-italic */ \"(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js\");\n/* harmony import */ var _tiptap_extension_list_item__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tiptap/extension-list-item */ \"(ssr)/./node_modules/@tiptap/extension-list-item/dist/index.js\");\n/* harmony import */ var _tiptap_extension_ordered_list__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @tiptap/extension-ordered-list */ \"(ssr)/./node_modules/@tiptap/extension-ordered-list/dist/index.js\");\n/* harmony import */ var _tiptap_extension_paragraph__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @tiptap/extension-paragraph */ \"(ssr)/./node_modules/@tiptap/extension-paragraph/dist/index.js\");\n/* harmony import */ var _tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @tiptap/extension-strike */ \"(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js\");\n/* harmony import */ var _tiptap_extension_text__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tiptap/extension-text */ \"(ssr)/./node_modules/@tiptap/extension-text/dist/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StarterKit = _tiptap_core__WEBPACK_IMPORTED_MODULE_18__.Extension.create({\n    name: \"starterKit\",\n    addExtensions () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;\n        const extensions = [];\n        if (this.options.blockquote !== false) {\n            extensions.push(_tiptap_extension_blockquote__WEBPACK_IMPORTED_MODULE_0__.Blockquote.configure((_a = this.options) === null || _a === void 0 ? void 0 : _a.blockquote));\n        }\n        if (this.options.bold !== false) {\n            extensions.push(_tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_1__.Bold.configure((_b = this.options) === null || _b === void 0 ? void 0 : _b.bold));\n        }\n        if (this.options.bulletList !== false) {\n            extensions.push(_tiptap_extension_bullet_list__WEBPACK_IMPORTED_MODULE_2__.BulletList.configure((_c = this.options) === null || _c === void 0 ? void 0 : _c.bulletList));\n        }\n        if (this.options.code !== false) {\n            extensions.push(_tiptap_extension_code__WEBPACK_IMPORTED_MODULE_3__.Code.configure((_d = this.options) === null || _d === void 0 ? void 0 : _d.code));\n        }\n        if (this.options.codeBlock !== false) {\n            extensions.push(_tiptap_extension_code_block__WEBPACK_IMPORTED_MODULE_4__.CodeBlock.configure((_e = this.options) === null || _e === void 0 ? void 0 : _e.codeBlock));\n        }\n        if (this.options.document !== false) {\n            extensions.push(_tiptap_extension_document__WEBPACK_IMPORTED_MODULE_5__.Document.configure((_f = this.options) === null || _f === void 0 ? void 0 : _f.document));\n        }\n        if (this.options.dropcursor !== false) {\n            extensions.push(_tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_6__.Dropcursor.configure((_g = this.options) === null || _g === void 0 ? void 0 : _g.dropcursor));\n        }\n        if (this.options.gapcursor !== false) {\n            extensions.push(_tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_7__.Gapcursor.configure((_h = this.options) === null || _h === void 0 ? void 0 : _h.gapcursor));\n        }\n        if (this.options.hardBreak !== false) {\n            extensions.push(_tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_8__.HardBreak.configure((_j = this.options) === null || _j === void 0 ? void 0 : _j.hardBreak));\n        }\n        if (this.options.heading !== false) {\n            extensions.push(_tiptap_extension_heading__WEBPACK_IMPORTED_MODULE_9__.Heading.configure((_k = this.options) === null || _k === void 0 ? void 0 : _k.heading));\n        }\n        if (this.options.history !== false) {\n            extensions.push(_tiptap_extension_history__WEBPACK_IMPORTED_MODULE_10__.History.configure((_l = this.options) === null || _l === void 0 ? void 0 : _l.history));\n        }\n        if (this.options.horizontalRule !== false) {\n            extensions.push(_tiptap_extension_horizontal_rule__WEBPACK_IMPORTED_MODULE_11__.HorizontalRule.configure((_m = this.options) === null || _m === void 0 ? void 0 : _m.horizontalRule));\n        }\n        if (this.options.italic !== false) {\n            extensions.push(_tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_12__.Italic.configure((_o = this.options) === null || _o === void 0 ? void 0 : _o.italic));\n        }\n        if (this.options.listItem !== false) {\n            extensions.push(_tiptap_extension_list_item__WEBPACK_IMPORTED_MODULE_13__.ListItem.configure((_p = this.options) === null || _p === void 0 ? void 0 : _p.listItem));\n        }\n        if (this.options.orderedList !== false) {\n            extensions.push(_tiptap_extension_ordered_list__WEBPACK_IMPORTED_MODULE_14__.OrderedList.configure((_q = this.options) === null || _q === void 0 ? void 0 : _q.orderedList));\n        }\n        if (this.options.paragraph !== false) {\n            extensions.push(_tiptap_extension_paragraph__WEBPACK_IMPORTED_MODULE_15__.Paragraph.configure((_r = this.options) === null || _r === void 0 ? void 0 : _r.paragraph));\n        }\n        if (this.options.strike !== false) {\n            extensions.push(_tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_16__.Strike.configure((_s = this.options) === null || _s === void 0 ? void 0 : _s.strike));\n        }\n        if (this.options.text !== false) {\n            extensions.push(_tiptap_extension_text__WEBPACK_IMPORTED_MODULE_17__.Text.configure((_t = this.options) === null || _t === void 0 ? void 0 : _t.text));\n        }\n        return extensions;\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9zdGFydGVyLWtpdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUNpQjtBQUNaO0FBQ2E7QUFDYjtBQUNXO0FBQ0g7QUFDSTtBQUNGO0FBQ0M7QUFDTDtBQUNBO0FBQ2U7QUFDakI7QUFDSztBQUNNO0FBQ0w7QUFDTjtBQUNKO0FBRTlDLE1BQU1tQixhQUFhbkIsb0RBQVNBLENBQUNvQixNQUFNLENBQUM7SUFDaENDLE1BQU07SUFDTkM7UUFDSSxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQztRQUN4RSxNQUFNQyxhQUFhLEVBQUU7UUFDckIsSUFBSSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsVUFBVSxLQUFLLE9BQU87WUFDbkNGLFdBQVdHLElBQUksQ0FBQzNDLG9FQUFVQSxDQUFDNEMsU0FBUyxDQUFDLENBQUN0QixLQUFLLElBQUksQ0FBQ21CLE9BQU8sTUFBTSxRQUFRbkIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHb0IsVUFBVTtRQUMvRztRQUNBLElBQUksSUFBSSxDQUFDRCxPQUFPLENBQUNJLElBQUksS0FBSyxPQUFPO1lBQzdCTCxXQUFXRyxJQUFJLENBQUMxQyx3REFBSUEsQ0FBQzJDLFNBQVMsQ0FBQyxDQUFDckIsS0FBSyxJQUFJLENBQUNrQixPQUFPLE1BQU0sUUFBUWxCLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR3NCLElBQUk7UUFDbkc7UUFDQSxJQUFJLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxVQUFVLEtBQUssT0FBTztZQUNuQ04sV0FBV0csSUFBSSxDQUFDekMscUVBQVVBLENBQUMwQyxTQUFTLENBQUMsQ0FBQ3BCLEtBQUssSUFBSSxDQUFDaUIsT0FBTyxNQUFN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QUFPLEtBQUssSUFBSSxLQUFLLElBQUlBLEdBQUdzQixJQUFJO1FBQ25HO1FBQ0EsT0FBT3JCO0lBQ1g7QUFDSjtBQUU2QyxDQUM3QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWZyYWdtZW50aW5nLWlkZWFzLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvc3RhcnRlci1raXQvZGlzdC9pbmRleC5qcz85ZGJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4dGVuc2lvbiB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyBCbG9ja3F1b3RlIH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24tYmxvY2txdW90ZSc7XG5pbXBvcnQgeyBCb2xkIH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24tYm9sZCc7XG5pbXBvcnQgeyBCdWxsZXRMaXN0IH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24tYnVsbGV0LWxpc3QnO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLWNvZGUnO1xuaW1wb3J0IHsgQ29kZUJsb2NrIH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24tY29kZS1ibG9jayc7XG5pbXBvcnQgeyBEb2N1bWVudCB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLWRvY3VtZW50JztcbmltcG9ydCB7IERyb3BjdXJzb3IgfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1kcm9wY3Vyc29yJztcbmltcG9ydCB7IEdhcGN1cnNvciB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLWdhcGN1cnNvcic7XG5pbXBvcnQgeyBIYXJkQnJlYWsgfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1oYXJkLWJyZWFrJztcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1oZWFkaW5nJztcbmltcG9ydCB7IEhpc3RvcnkgfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1oaXN0b3J5JztcbmltcG9ydCB7IEhvcml6b250YWxSdWxlIH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24taG9yaXpvbnRhbC1ydWxlJztcbmltcG9ydCB7IEl0YWxpYyB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLWl0YWxpYyc7XG5pbXBvcnQgeyBMaXN0SXRlbSB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLWxpc3QtaXRlbSc7XG5pbXBvcnQgeyBPcmRlcmVkTGlzdCB9IGZyb20gJ0B0aXB0YXAvZXh0ZW5zaW9uLW9yZGVyZWQtbGlzdCc7XG5pbXBvcnQgeyBQYXJhZ3JhcGggfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1wYXJhZ3JhcGgnO1xuaW1wb3J0IHsgU3RyaWtlIH0gZnJvbSAnQHRpcHRhcC9leHRlbnNpb24tc3RyaWtlJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi10ZXh0JztcblxuY29uc3QgU3RhcnRlcktpdCA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3N0YXJ0ZXJLaXQnLFxyXG4gICAgYWRkRXh0ZW5zaW9ucygpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdDtcclxuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ibG9ja3F1b3RlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goQmxvY2txdW90ZS5jb25maWd1cmUoKF9hID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmxvY2txdW90ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJvbGQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChCb2xkLmNvbmZpZ3VyZSgoX2IgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ib2xkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnVsbGV0TGlzdCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKEJ1bGxldExpc3QuY29uZmlndXJlKChfYyA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJ1bGxldExpc3QpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb2RlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goQ29kZS5jb25maWd1cmUoKF9kID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY29kZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvZGVCbG9jayAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKENvZGVCbG9jay5jb25maWd1cmUoKF9lID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY29kZUJsb2NrKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9jdW1lbnQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChEb2N1bWVudC5jb25maWd1cmUoKF9mID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuZG9jdW1lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcm9wY3Vyc29yICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goRHJvcGN1cnNvci5jb25maWd1cmUoKF9nID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuZHJvcGN1cnNvcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmdhcGN1cnNvciAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKEdhcGN1cnNvci5jb25maWd1cmUoKF9oID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guZ2FwY3Vyc29yKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGFyZEJyZWFrICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goSGFyZEJyZWFrLmNvbmZpZ3VyZSgoX2ogPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5oYXJkQnJlYWspKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWFkaW5nICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goSGVhZGluZy5jb25maWd1cmUoKF9rID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suaGVhZGluZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpc3RvcnkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChIaXN0b3J5LmNvbmZpZ3VyZSgoX2wgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5oaXN0b3J5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbFJ1bGUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChIb3Jpem9udGFsUnVsZS5jb25maWd1cmUoKF9tID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uaG9yaXpvbnRhbFJ1bGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pdGFsaWMgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChJdGFsaWMuY29uZmlndXJlKChfbyA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLml0YWxpYykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpc3RJdGVtICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25zLnB1c2goTGlzdEl0ZW0uY29uZmlndXJlKChfcCA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmxpc3RJdGVtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub3JkZXJlZExpc3QgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChPcmRlcmVkTGlzdC5jb25maWd1cmUoKF9xID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Eub3JkZXJlZExpc3QpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXJhZ3JhcGggIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChQYXJhZ3JhcGguY29uZmlndXJlKChfciA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLnBhcmFncmFwaCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cmlrZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKFN0cmlrZS5jb25maWd1cmUoKF9zID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Muc3RyaWtlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKFRleHQuY29uZmlndXJlKChfdCA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LnRleHQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnM7XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgU3RhcnRlcktpdCwgU3RhcnRlcktpdCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJFeHRlbnNpb24iLCJCbG9ja3F1b3RlIiwiQm9sZCIsIkJ1bGxldExpc3QiLCJDb2RlIiwiQ29kZUJsb2NrIiwiRG9jdW1lbnQiLCJEcm9wY3Vyc29yIiwiR2FwY3Vyc29yIiwiSGFyZEJyZWFrIiwiSGVhZGluZyIsIkhpc3RvcnkiLCJIb3Jpem9udGFsUnVsZSIsIkl0YWxpYyIsIkxpc3RJdGVtIiwiT3JkZXJlZExpc3QiLCJQYXJhZ3JhcGgiLCJTdHJpa2UiLCJUZXh0IiwiU3RhcnRlcktpdCIsImNyZWF0ZSIsIm5hbWUiLCJhZGRFeHRlbnNpb25zIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJfbCIsIl9tIiwiX28iLCJfcCIsIl9xIiwiX3IiLCJfcyIsIl90IiwiZXh0ZW5zaW9ucyIsIm9wdGlvbnMiLCJibG9ja3F1b3RlIiwicHVzaCIsImNvbmZpZ3VyZSIsImJvbGQiLCJidWxsZXRMaXN0IiwiY29kZSIsImNvZGVCbG9jayIsImRvY3VtZW50IiwiZHJvcGN1cnNvciIsImdhcGN1cnNvciIsImhhcmRCcmVhayIsImhlYWRpbmciLCJoaXN0b3J5IiwiaG9yaXpvbnRhbFJ1bGUiLCJpdGFsaWMiLCJsaXN0SXRlbSIsIm9yZGVyZWRMaXN0IiwicGFyYWdyYXBoIiwic3RyaWtlIiwidGV4dCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/starter-kit/dist/index.js\n");

/***/ })

};
;